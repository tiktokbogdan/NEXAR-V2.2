function Up(i,s){for(var a=0;a<s.length;a++){const l=s[a];if(typeof l!="string"&&!Array.isArray(l)){for(const c in l)if(c!=="default"&&!(c in i)){const u=Object.getOwnPropertyDescriptor(l,c);u&&Object.defineProperty(i,c,u.get?u:{enumerable:!0,get:()=>l[c]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function a(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(c){if(c.ep)return;c.ep=!0;const u=a(c);fetch(c.href,u)}})();function Zh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Mp(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var s=i.default;if(typeof s=="function"){var a=function l(){var c=!1;try{c=this instanceof l}catch{}return c?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};a.prototype=s.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(i).forEach(function(l){var c=Object.getOwnPropertyDescriptor(i,l);Object.defineProperty(a,l,c.get?c:{enumerable:!0,get:function(){return i[l]}})}),a}var So={exports:{}},Vn={},Eo={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xd;function Fp(){if(Xd)return _e;Xd=1;var i=Symbol.for("react.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=v&&N[v]||N["@@iterator"],typeof N=="function"?N:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,V={};function T(N,q,I){this.props=N,this.context=q,this.refs=V,this.updater=I||E}T.prototype.isReactComponent={},T.prototype.setState=function(N,q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,q,"setState")},T.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function F(){}F.prototype=T.prototype;function X(N,q,I){this.props=N,this.context=q,this.refs=V,this.updater=I||E}var C=X.prototype=new F;C.constructor=X,z(C,T.prototype),C.isPureReactComponent=!0;var K=Array.isArray,R=Object.prototype.hasOwnProperty,se={current:null},ne={key:!0,ref:!0,__self:!0,__source:!0};function ve(N,q,I){var P,B={},Z=null,le=null;if(q!=null)for(P in q.ref!==void 0&&(le=q.ref),q.key!==void 0&&(Z=""+q.key),q)R.call(q,P)&&!ne.hasOwnProperty(P)&&(B[P]=q[P]);var de=arguments.length-2;if(de===1)B.children=I;else if(1<de){for(var A=Array(de),H=0;H<de;H++)A[H]=arguments[H+2];B.children=A}if(N&&N.defaultProps)for(P in de=N.defaultProps,de)B[P]===void 0&&(B[P]=de[P]);return{$$typeof:i,type:N,key:Z,ref:le,props:B,_owner:se.current}}function re(N,q){return{$$typeof:i,type:N.type,key:q,ref:N.ref,props:N.props,_owner:N._owner}}function M(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function Te(N){var q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(I){return q[I]})}var Ce=/\/+/g;function Ne(N,q){return typeof N=="object"&&N!==null&&N.key!=null?Te(""+N.key):q.toString(36)}function D(N,q,I,P,B){var Z=typeof N;(Z==="undefined"||Z==="boolean")&&(N=null);var le=!1;if(N===null)le=!0;else switch(Z){case"string":case"number":le=!0;break;case"object":switch(N.$$typeof){case i:case s:le=!0}}if(le)return le=N,B=B(le),N=P===""?"."+Ne(le,0):P,K(B)?(I="",N!=null&&(I=N.replace(Ce,"$&/")+"/"),D(B,q,I,"",function(H){return H})):B!=null&&(M(B)&&(B=re(B,I+(!B.key||le&&le.key===B.key?"":(""+B.key).replace(Ce,"$&/")+"/")+N)),q.push(B)),1;if(le=0,P=P===""?".":P+":",K(N))for(var de=0;de<N.length;de++){Z=N[de];var A=P+Ne(Z,de);le+=D(Z,q,I,A,B)}else if(A=b(N),typeof A=="function")for(N=A.call(N),de=0;!(Z=N.next()).done;)Z=Z.value,A=P+Ne(Z,de++),le+=D(Z,q,I,A,B);else if(Z==="object")throw q=String(N),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return le}function be(N,q,I){if(N==null)return N;var P=[],B=0;return D(N,P,"","",function(Z){return q.call(I,Z,B++)}),P}function ie(N){if(N._status===-1){var q=N._result;q=q(),q.then(function(I){(N._status===0||N._status===-1)&&(N._status=1,N._result=I)},function(I){(N._status===0||N._status===-1)&&(N._status=2,N._result=I)}),N._status===-1&&(N._status=0,N._result=q)}if(N._status===1)return N._result.default;throw N._result}var ge={current:null},G={transition:null},k={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:G,ReactCurrentOwner:se};function $(){throw Error("act(...) is not supported in production builds of React.")}return _e.Children={map:be,forEach:function(N,q,I){be(N,function(){q.apply(this,arguments)},I)},count:function(N){var q=0;return be(N,function(){q++}),q},toArray:function(N){return be(N,function(q){return q})||[]},only:function(N){if(!M(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},_e.Component=T,_e.Fragment=a,_e.Profiler=c,_e.PureComponent=X,_e.StrictMode=l,_e.Suspense=p,_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k,_e.act=$,_e.cloneElement=function(N,q,I){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var P=z({},N.props),B=N.key,Z=N.ref,le=N._owner;if(q!=null){if(q.ref!==void 0&&(Z=q.ref,le=se.current),q.key!==void 0&&(B=""+q.key),N.type&&N.type.defaultProps)var de=N.type.defaultProps;for(A in q)R.call(q,A)&&!ne.hasOwnProperty(A)&&(P[A]=q[A]===void 0&&de!==void 0?de[A]:q[A])}var A=arguments.length-2;if(A===1)P.children=I;else if(1<A){de=Array(A);for(var H=0;H<A;H++)de[H]=arguments[H+2];P.children=de}return{$$typeof:i,type:N.type,key:B,ref:Z,props:P,_owner:le}},_e.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:u,_context:N},N.Consumer=N},_e.createElement=ve,_e.createFactory=function(N){var q=ve.bind(null,N);return q.type=N,q},_e.createRef=function(){return{current:null}},_e.forwardRef=function(N){return{$$typeof:f,render:N}},_e.isValidElement=M,_e.lazy=function(N){return{$$typeof:x,_payload:{_status:-1,_result:N},_init:ie}},_e.memo=function(N,q){return{$$typeof:y,type:N,compare:q===void 0?null:q}},_e.startTransition=function(N){var q=G.transition;G.transition={};try{N()}finally{G.transition=q}},_e.unstable_act=$,_e.useCallback=function(N,q){return ge.current.useCallback(N,q)},_e.useContext=function(N){return ge.current.useContext(N)},_e.useDebugValue=function(){},_e.useDeferredValue=function(N){return ge.current.useDeferredValue(N)},_e.useEffect=function(N,q){return ge.current.useEffect(N,q)},_e.useId=function(){return ge.current.useId()},_e.useImperativeHandle=function(N,q,I){return ge.current.useImperativeHandle(N,q,I)},_e.useInsertionEffect=function(N,q){return ge.current.useInsertionEffect(N,q)},_e.useLayoutEffect=function(N,q){return ge.current.useLayoutEffect(N,q)},_e.useMemo=function(N,q){return ge.current.useMemo(N,q)},_e.useReducer=function(N,q,I){return ge.current.useReducer(N,q,I)},_e.useRef=function(N){return ge.current.useRef(N)},_e.useState=function(N){return ge.current.useState(N)},_e.useSyncExternalStore=function(N,q,I){return ge.current.useSyncExternalStore(N,q,I)},_e.useTransition=function(){return ge.current.useTransition()},_e.version="18.3.1",_e}var eh;function sc(){return eh||(eh=1,Eo.exports=Fp()),Eo.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var th;function Bp(){if(th)return Vn;th=1;var i=sc(),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(f,p,y){var x,v={},b=null,E=null;y!==void 0&&(b=""+y),p.key!==void 0&&(b=""+p.key),p.ref!==void 0&&(E=p.ref);for(x in p)l.call(p,x)&&!u.hasOwnProperty(x)&&(v[x]=p[x]);if(f&&f.defaultProps)for(x in p=f.defaultProps,p)v[x]===void 0&&(v[x]=p[x]);return{$$typeof:s,type:f,key:b,ref:E,props:v,_owner:c.current}}return Vn.Fragment=a,Vn.jsx=h,Vn.jsxs=h,Vn}var rh;function $p(){return rh||(rh=1,So.exports=Bp()),So.exports}var e=$p(),w=sc();const Vp=Zh(w),qp=Up({__proto__:null,default:Vp},[w]);var gi={},Co={exports:{}},vt={},_o={exports:{}},Po={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh;function Wp(){return sh||(sh=1,function(i){function s(G,k){var $=G.length;G.push(k);e:for(;0<$;){var N=$-1>>>1,q=G[N];if(0<c(q,k))G[N]=k,G[$]=q,$=N;else break e}}function a(G){return G.length===0?null:G[0]}function l(G){if(G.length===0)return null;var k=G[0],$=G.pop();if($!==k){G[0]=$;e:for(var N=0,q=G.length,I=q>>>1;N<I;){var P=2*(N+1)-1,B=G[P],Z=P+1,le=G[Z];if(0>c(B,$))Z<q&&0>c(le,B)?(G[N]=le,G[Z]=$,N=Z):(G[N]=B,G[P]=$,N=P);else if(Z<q&&0>c(le,$))G[N]=le,G[Z]=$,N=Z;else break e}}return k}function c(G,k){var $=G.sortIndex-k.sortIndex;return $!==0?$:G.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();i.unstable_now=function(){return h.now()-f}}var p=[],y=[],x=1,v=null,b=3,E=!1,z=!1,V=!1,T=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(G){for(var k=a(y);k!==null;){if(k.callback===null)l(y);else if(k.startTime<=G)l(y),k.sortIndex=k.expirationTime,s(p,k);else break;k=a(y)}}function K(G){if(V=!1,C(G),!z)if(a(p)!==null)z=!0,ie(R);else{var k=a(y);k!==null&&ge(K,k.startTime-G)}}function R(G,k){z=!1,V&&(V=!1,F(ve),ve=-1),E=!0;var $=b;try{for(C(k),v=a(p);v!==null&&(!(v.expirationTime>k)||G&&!Te());){var N=v.callback;if(typeof N=="function"){v.callback=null,b=v.priorityLevel;var q=N(v.expirationTime<=k);k=i.unstable_now(),typeof q=="function"?v.callback=q:v===a(p)&&l(p),C(k)}else l(p);v=a(p)}if(v!==null)var I=!0;else{var P=a(y);P!==null&&ge(K,P.startTime-k),I=!1}return I}finally{v=null,b=$,E=!1}}var se=!1,ne=null,ve=-1,re=5,M=-1;function Te(){return!(i.unstable_now()-M<re)}function Ce(){if(ne!==null){var G=i.unstable_now();M=G;var k=!0;try{k=ne(!0,G)}finally{k?Ne():(se=!1,ne=null)}}else se=!1}var Ne;if(typeof X=="function")Ne=function(){X(Ce)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,be=D.port2;D.port1.onmessage=Ce,Ne=function(){be.postMessage(null)}}else Ne=function(){T(Ce,0)};function ie(G){ne=G,se||(se=!0,Ne())}function ge(G,k){ve=T(function(){G(i.unstable_now())},k)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_continueExecution=function(){z||E||(z=!0,ie(R))},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_getFirstCallbackNode=function(){return a(p)},i.unstable_next=function(G){switch(b){case 1:case 2:case 3:var k=3;break;default:k=b}var $=b;b=k;try{return G()}finally{b=$}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(G,k){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var $=b;b=G;try{return k()}finally{b=$}},i.unstable_scheduleCallback=function(G,k,$){var N=i.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?N+$:N):$=N,G){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=$+q,G={id:x++,callback:k,priorityLevel:G,startTime:$,expirationTime:q,sortIndex:-1},$>N?(G.sortIndex=$,s(y,G),a(p)===null&&G===a(y)&&(V?(F(ve),ve=-1):V=!0,ge(K,$-N))):(G.sortIndex=q,s(p,G),z||E||(z=!0,ie(R))),G},i.unstable_shouldYield=Te,i.unstable_wrapCallback=function(G){var k=b;return function(){var $=b;b=k;try{return G.apply(this,arguments)}finally{b=$}}}}(Po)),Po}var nh;function Hp(){return nh||(nh=1,_o.exports=Wp()),_o.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ah;function Gp(){if(ah)return vt;ah=1;var i=sc(),s=Hp();function a(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,c={};function u(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(c[t]=r,t=0;t<r.length;t++)l.add(r[t])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},v={};function b(t){return p.call(v,t)?!0:p.call(x,t)?!1:y.test(t)?v[t]=!0:(x[t]=!0,!1)}function E(t,r,n,o){if(n!==null&&n.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function z(t,r,n,o){if(r===null||typeof r>"u"||E(t,r,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function V(t,r,n,o,d,m,g){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=o,this.attributeNamespace=d,this.mustUseProperty=n,this.propertyName=t,this.type=r,this.sanitizeURL=m,this.removeEmptyString=g}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){T[t]=new V(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];T[r]=new V(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){T[t]=new V(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){T[t]=new V(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){T[t]=new V(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){T[t]=new V(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){T[t]=new V(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){T[t]=new V(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){T[t]=new V(t,5,!1,t.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function X(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(F,X);T[r]=new V(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(F,X);T[r]=new V(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(F,X);T[r]=new V(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){T[t]=new V(t,1,!1,t.toLowerCase(),null,!1,!1)}),T.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){T[t]=new V(t,1,!1,t.toLowerCase(),null,!0,!0)});function C(t,r,n,o){var d=T.hasOwnProperty(r)?T[r]:null;(d!==null?d.type!==0:o||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(z(r,n,d,o)&&(n=null),o||d===null?b(r)&&(n===null?t.removeAttribute(r):t.setAttribute(r,""+n)):d.mustUseProperty?t[d.propertyName]=n===null?d.type===3?!1:"":n:(r=d.attributeName,o=d.attributeNamespace,n===null?t.removeAttribute(r):(d=d.type,n=d===3||d===4&&n===!0?"":""+n,o?t.setAttributeNS(o,r,n):t.setAttribute(r,n))))}var K=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),se=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),ve=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),Te=Symbol.for("react.context"),Ce=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),G=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=G&&t[G]||t["@@iterator"],typeof t=="function"?t:null)}var $=Object.assign,N;function q(t){if(N===void 0)try{throw Error()}catch(n){var r=n.stack.trim().match(/\n( *(at )?)/);N=r&&r[1]||""}return`
`+N+t}var I=!1;function P(t,r){if(!t||I)return"";I=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(U){var o=U}Reflect.construct(t,[],r)}else{try{r.call()}catch(U){o=U}t.call(r.prototype)}else{try{throw Error()}catch(U){o=U}t()}}catch(U){if(U&&o&&typeof U.stack=="string"){for(var d=U.stack.split(`
`),m=o.stack.split(`
`),g=d.length-1,j=m.length-1;1<=g&&0<=j&&d[g]!==m[j];)j--;for(;1<=g&&0<=j;g--,j--)if(d[g]!==m[j]){if(g!==1||j!==1)do if(g--,j--,0>j||d[g]!==m[j]){var S=`
`+d[g].replace(" at new "," at ");return t.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",t.displayName)),S}while(1<=g&&0<=j);break}}}finally{I=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?q(t):""}function B(t){switch(t.tag){case 5:return q(t.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return t=P(t.type,!1),t;case 11:return t=P(t.type.render,!1),t;case 1:return t=P(t.type,!0),t;default:return""}}function Z(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case se:return"Portal";case re:return"Profiler";case ve:return"StrictMode";case Ne:return"Suspense";case D:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Te:return(t.displayName||"Context")+".Consumer";case M:return(t._context.displayName||"Context")+".Provider";case Ce:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case be:return r=t.displayName||null,r!==null?r:Z(t.type)||"Memo";case ie:r=t._payload,t=t._init;try{return Z(t(r))}catch{}}return null}function le(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(r);case 8:return r===ve?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function de(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function A(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function H(t){var r=A(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),o=""+t[r];if(!t.hasOwnProperty(r)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var d=n.get,m=n.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(g){o=""+g,m.call(this,g)}}),Object.defineProperty(t,r,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function je(t){t._valueTracker||(t._valueTracker=H(t))}function Re(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var n=r.getValue(),o="";return t&&(o=A(t)?t.checked?"true":"false":t.value),t=o,t!==n?(r.setValue(t),!0):!1}function He(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dr(t,r){var n=r.checked;return $({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Qt(t,r){var n=r.defaultValue==null?"":r.defaultValue,o=r.checked!=null?r.checked:r.defaultChecked;n=de(r.value!=null?r.value:n),t._wrapperState={initialChecked:o,initialValue:n,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function la(t,r){r=r.checked,r!=null&&C(t,"checked",r,!1)}function rn(t,r){la(t,r);var n=de(r.value),o=r.type;if(n!=null)o==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(o==="submit"||o==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?ds(t,r.type,n):r.hasOwnProperty("defaultValue")&&ds(t,r.type,de(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function sn(t,r,n){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var o=r.type;if(!(o!=="submit"&&o!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,n||r===t.value||(t.value=r),t.defaultValue=r}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ds(t,r,n){(r!=="number"||He(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zt=Array.isArray;function hr(t,r,n,o){if(t=t.options,r){r={};for(var d=0;d<n.length;d++)r["$"+n[d]]=!0;for(n=0;n<t.length;n++)d=r.hasOwnProperty("$"+t[n].value),t[n].selected!==d&&(t[n].selected=d),d&&o&&(t[n].defaultSelected=!0)}else{for(n=""+de(n),r=null,d=0;d<t.length;d++){if(t[d].value===n){t[d].selected=!0,o&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function W(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(a(91));return $({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function me(t,r){var n=r.value;if(n==null){if(n=r.children,r=r.defaultValue,n!=null){if(r!=null)throw Error(a(92));if(Zt(n)){if(1<n.length)throw Error(a(93));n=n[0]}r=n}r==null&&(r=""),n=r}t._wrapperState={initialValue:de(n)}}function Se(t,r){var n=de(r.value),o=de(r.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),r.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),o!=null&&(t.defaultValue=""+o)}function Ve(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function qt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $r(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?qt(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var oa,mc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,n,o,d){MSApp.execUnsafeLocalFunction(function(){return t(r,n,o,d)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(oa=oa||document.createElement("div"),oa.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=oa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function nn(t,r){if(r){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=r;return}}t.textContent=r}var an={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bm=["Webkit","ms","Moz","O"];Object.keys(an).forEach(function(t){Bm.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),an[r]=an[t]})});function fc(t,r,n){return r==null||typeof r=="boolean"||r===""?"":n||typeof r!="number"||r===0||an.hasOwnProperty(t)&&an[t]?(""+r).trim():r+"px"}function pc(t,r){t=t.style;for(var n in r)if(r.hasOwnProperty(n)){var o=n.indexOf("--")===0,d=fc(n,r[n],o);n==="float"&&(n="cssFloat"),o?t.setProperty(n,d):t[n]=d}}var $m=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zi(t,r){if(r){if($m[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(a(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(a(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(a(61))}if(r.style!=null&&typeof r.style!="object")throw Error(a(62))}}function Di(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ui=null;function Mi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fi=null,hs=null,ms=null;function gc(t){if(t=_n(t)){if(typeof Fi!="function")throw Error(a(280));var r=t.stateNode;r&&(r=Aa(r),Fi(t.stateNode,t.type,r))}}function xc(t){hs?ms?ms.push(t):ms=[t]:hs=t}function yc(){if(hs){var t=hs,r=ms;if(ms=hs=null,gc(t),r)for(t=0;t<r.length;t++)gc(r[t])}}function vc(t,r){return t(r)}function bc(){}var Bi=!1;function jc(t,r,n){if(Bi)return t(r,n);Bi=!0;try{return vc(t,r,n)}finally{Bi=!1,(hs!==null||ms!==null)&&(bc(),yc())}}function ln(t,r){var n=t.stateNode;if(n===null)return null;var o=Aa(n);if(o===null)return null;n=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(a(231,r,typeof n));return n}var $i=!1;if(f)try{var on={};Object.defineProperty(on,"passive",{get:function(){$i=!0}}),window.addEventListener("test",on,on),window.removeEventListener("test",on,on)}catch{$i=!1}function Vm(t,r,n,o,d,m,g,j,S){var U=Array.prototype.slice.call(arguments,3);try{r.apply(n,U)}catch(Y){this.onError(Y)}}var cn=!1,ca=null,ua=!1,Vi=null,qm={onError:function(t){cn=!0,ca=t}};function Wm(t,r,n,o,d,m,g,j,S){cn=!1,ca=null,Vm.apply(qm,arguments)}function Hm(t,r,n,o,d,m,g,j,S){if(Wm.apply(this,arguments),cn){if(cn){var U=ca;cn=!1,ca=null}else throw Error(a(198));ua||(ua=!0,Vi=U)}}function Vr(t){var r=t,n=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(n=r.return),t=r.return;while(t)}return r.tag===3?n:null}function wc(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Nc(t){if(Vr(t)!==t)throw Error(a(188))}function Gm(t){var r=t.alternate;if(!r){if(r=Vr(t),r===null)throw Error(a(188));return r!==t?null:t}for(var n=t,o=r;;){var d=n.return;if(d===null)break;var m=d.alternate;if(m===null){if(o=d.return,o!==null){n=o;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===n)return Nc(d),t;if(m===o)return Nc(d),r;m=m.sibling}throw Error(a(188))}if(n.return!==o.return)n=d,o=m;else{for(var g=!1,j=d.child;j;){if(j===n){g=!0,n=d,o=m;break}if(j===o){g=!0,o=d,n=m;break}j=j.sibling}if(!g){for(j=m.child;j;){if(j===n){g=!0,n=m,o=d;break}if(j===o){g=!0,o=m,n=d;break}j=j.sibling}if(!g)throw Error(a(189))}}if(n.alternate!==o)throw Error(a(190))}if(n.tag!==3)throw Error(a(188));return n.stateNode.current===n?t:r}function kc(t){return t=Gm(t),t!==null?Sc(t):null}function Sc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Sc(t);if(r!==null)return r;t=t.sibling}return null}var Ec=s.unstable_scheduleCallback,Cc=s.unstable_cancelCallback,Km=s.unstable_shouldYield,Jm=s.unstable_requestPaint,qe=s.unstable_now,Ym=s.unstable_getCurrentPriorityLevel,qi=s.unstable_ImmediatePriority,_c=s.unstable_UserBlockingPriority,da=s.unstable_NormalPriority,Qm=s.unstable_LowPriority,Pc=s.unstable_IdlePriority,ha=null,Wt=null;function Zm(t){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(ha,t,void 0,(t.current.flags&128)===128)}catch{}}var Rt=Math.clz32?Math.clz32:tf,Xm=Math.log,ef=Math.LN2;function tf(t){return t>>>=0,t===0?32:31-(Xm(t)/ef|0)|0}var ma=64,fa=4194304;function un(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pa(t,r){var n=t.pendingLanes;if(n===0)return 0;var o=0,d=t.suspendedLanes,m=t.pingedLanes,g=n&268435455;if(g!==0){var j=g&~d;j!==0?o=un(j):(m&=g,m!==0&&(o=un(m)))}else g=n&~d,g!==0?o=un(g):m!==0&&(o=un(m));if(o===0)return 0;if(r!==0&&r!==o&&(r&d)===0&&(d=o&-o,m=r&-r,d>=m||d===16&&(m&4194240)!==0))return r;if((o&4)!==0&&(o|=n&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=o;0<r;)n=31-Rt(r),d=1<<n,o|=t[n],r&=~d;return o}function rf(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sf(t,r){for(var n=t.suspendedLanes,o=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes;0<m;){var g=31-Rt(m),j=1<<g,S=d[g];S===-1?((j&n)===0||(j&o)!==0)&&(d[g]=rf(j,r)):S<=r&&(t.expiredLanes|=j),m&=~j}}function Wi(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Tc(){var t=ma;return ma<<=1,(ma&4194240)===0&&(ma=64),t}function Hi(t){for(var r=[],n=0;31>n;n++)r.push(t);return r}function dn(t,r,n){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Rt(r),t[r]=n}function nf(t,r){var n=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<n;){var d=31-Rt(n),m=1<<d;r[d]=0,o[d]=-1,t[d]=-1,n&=~m}}function Gi(t,r){var n=t.entangledLanes|=r;for(t=t.entanglements;n;){var o=31-Rt(n),d=1<<o;d&r|t[o]&r&&(t[o]|=r),n&=~d}}var Ie=0;function Ac(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Rc,Ki,Lc,Ic,Oc,Ji=!1,ga=[],mr=null,fr=null,pr=null,hn=new Map,mn=new Map,gr=[],af="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zc(t,r){switch(t){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":hn.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":mn.delete(r.pointerId)}}function fn(t,r,n,o,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:n,eventSystemFlags:o,nativeEvent:m,targetContainers:[d]},r!==null&&(r=_n(r),r!==null&&Ki(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function lf(t,r,n,o,d){switch(r){case"focusin":return mr=fn(mr,t,r,n,o,d),!0;case"dragenter":return fr=fn(fr,t,r,n,o,d),!0;case"mouseover":return pr=fn(pr,t,r,n,o,d),!0;case"pointerover":var m=d.pointerId;return hn.set(m,fn(hn.get(m)||null,t,r,n,o,d)),!0;case"gotpointercapture":return m=d.pointerId,mn.set(m,fn(mn.get(m)||null,t,r,n,o,d)),!0}return!1}function Dc(t){var r=qr(t.target);if(r!==null){var n=Vr(r);if(n!==null){if(r=n.tag,r===13){if(r=wc(n),r!==null){t.blockedOn=r,Oc(t.priority,function(){Lc(n)});return}}else if(r===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xa(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var n=Qi(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var o=new n.constructor(n.type,n);Ui=o,n.target.dispatchEvent(o),Ui=null}else return r=_n(n),r!==null&&Ki(r),t.blockedOn=n,!1;r.shift()}return!0}function Uc(t,r,n){xa(t)&&n.delete(r)}function of(){Ji=!1,mr!==null&&xa(mr)&&(mr=null),fr!==null&&xa(fr)&&(fr=null),pr!==null&&xa(pr)&&(pr=null),hn.forEach(Uc),mn.forEach(Uc)}function pn(t,r){t.blockedOn===r&&(t.blockedOn=null,Ji||(Ji=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,of)))}function gn(t){function r(d){return pn(d,t)}if(0<ga.length){pn(ga[0],t);for(var n=1;n<ga.length;n++){var o=ga[n];o.blockedOn===t&&(o.blockedOn=null)}}for(mr!==null&&pn(mr,t),fr!==null&&pn(fr,t),pr!==null&&pn(pr,t),hn.forEach(r),mn.forEach(r),n=0;n<gr.length;n++)o=gr[n],o.blockedOn===t&&(o.blockedOn=null);for(;0<gr.length&&(n=gr[0],n.blockedOn===null);)Dc(n),n.blockedOn===null&&gr.shift()}var fs=K.ReactCurrentBatchConfig,ya=!0;function cf(t,r,n,o){var d=Ie,m=fs.transition;fs.transition=null;try{Ie=1,Yi(t,r,n,o)}finally{Ie=d,fs.transition=m}}function uf(t,r,n,o){var d=Ie,m=fs.transition;fs.transition=null;try{Ie=4,Yi(t,r,n,o)}finally{Ie=d,fs.transition=m}}function Yi(t,r,n,o){if(ya){var d=Qi(t,r,n,o);if(d===null)fl(t,r,o,va,n),zc(t,o);else if(lf(d,t,r,n,o))o.stopPropagation();else if(zc(t,o),r&4&&-1<af.indexOf(t)){for(;d!==null;){var m=_n(d);if(m!==null&&Rc(m),m=Qi(t,r,n,o),m===null&&fl(t,r,o,va,n),m===d)break;d=m}d!==null&&o.stopPropagation()}else fl(t,r,o,null,n)}}var va=null;function Qi(t,r,n,o){if(va=null,t=Mi(o),t=qr(t),t!==null)if(r=Vr(t),r===null)t=null;else if(n=r.tag,n===13){if(t=wc(r),t!==null)return t;t=null}else if(n===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return va=t,null}function Mc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ym()){case qi:return 1;case _c:return 4;case da:case Qm:return 16;case Pc:return 536870912;default:return 16}default:return 16}}var xr=null,Zi=null,ba=null;function Fc(){if(ba)return ba;var t,r=Zi,n=r.length,o,d="value"in xr?xr.value:xr.textContent,m=d.length;for(t=0;t<n&&r[t]===d[t];t++);var g=n-t;for(o=1;o<=g&&r[n-o]===d[m-o];o++);return ba=d.slice(t,1<o?1-o:void 0)}function ja(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function wa(){return!0}function Bc(){return!1}function jt(t){function r(n,o,d,m,g){this._reactName=n,this._targetInst=d,this.type=o,this.nativeEvent=m,this.target=g,this.currentTarget=null;for(var j in t)t.hasOwnProperty(j)&&(n=t[j],this[j]=n?n(m):m[j]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?wa:Bc,this.isPropagationStopped=Bc,this}return $(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wa)},persist:function(){},isPersistent:wa}),r}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=jt(ps),xn=$({},ps,{view:0,detail:0}),df=jt(xn),el,tl,yn,Na=$({},xn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yn&&(yn&&t.type==="mousemove"?(el=t.screenX-yn.screenX,tl=t.screenY-yn.screenY):tl=el=0,yn=t),el)},movementY:function(t){return"movementY"in t?t.movementY:tl}}),$c=jt(Na),hf=$({},Na,{dataTransfer:0}),mf=jt(hf),ff=$({},xn,{relatedTarget:0}),rl=jt(ff),pf=$({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),gf=jt(pf),xf=$({},ps,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yf=jt(xf),vf=$({},ps,{data:0}),Vc=jt(vf),bf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nf(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=wf[t])?!!r[t]:!1}function sl(){return Nf}var kf=$({},xn,{key:function(t){if(t.key){var r=bf[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ja(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sl,charCode:function(t){return t.type==="keypress"?ja(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ja(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sf=jt(kf),Ef=$({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qc=jt(Ef),Cf=$({},xn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sl}),_f=jt(Cf),Pf=$({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tf=jt(Pf),Af=$({},Na,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rf=jt(Af),Lf=[9,13,27,32],nl=f&&"CompositionEvent"in window,vn=null;f&&"documentMode"in document&&(vn=document.documentMode);var If=f&&"TextEvent"in window&&!vn,Wc=f&&(!nl||vn&&8<vn&&11>=vn),Hc=" ",Gc=!1;function Kc(t,r){switch(t){case"keyup":return Lf.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gs=!1;function Of(t,r){switch(t){case"compositionend":return Jc(r);case"keypress":return r.which!==32?null:(Gc=!0,Hc);case"textInput":return t=r.data,t===Hc&&Gc?null:t;default:return null}}function zf(t,r){if(gs)return t==="compositionend"||!nl&&Kc(t,r)?(t=Fc(),ba=Zi=xr=null,gs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Wc&&r.locale!=="ko"?null:r.data;default:return null}}var Df={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Df[t.type]:r==="textarea"}function Qc(t,r,n,o){xc(o),r=_a(r,"onChange"),0<r.length&&(n=new Xi("onChange","change",null,n,o),t.push({event:n,listeners:r}))}var bn=null,jn=null;function Uf(t){pu(t,0)}function ka(t){var r=js(t);if(Re(r))return t}function Mf(t,r){if(t==="change")return r}var Zc=!1;if(f){var al;if(f){var il="oninput"in document;if(!il){var Xc=document.createElement("div");Xc.setAttribute("oninput","return;"),il=typeof Xc.oninput=="function"}al=il}else al=!1;Zc=al&&(!document.documentMode||9<document.documentMode)}function eu(){bn&&(bn.detachEvent("onpropertychange",tu),jn=bn=null)}function tu(t){if(t.propertyName==="value"&&ka(jn)){var r=[];Qc(r,jn,t,Mi(t)),jc(Uf,r)}}function Ff(t,r,n){t==="focusin"?(eu(),bn=r,jn=n,bn.attachEvent("onpropertychange",tu)):t==="focusout"&&eu()}function Bf(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ka(jn)}function $f(t,r){if(t==="click")return ka(r)}function Vf(t,r){if(t==="input"||t==="change")return ka(r)}function qf(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Lt=typeof Object.is=="function"?Object.is:qf;function wn(t,r){if(Lt(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var n=Object.keys(t),o=Object.keys(r);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var d=n[o];if(!p.call(r,d)||!Lt(t[d],r[d]))return!1}return!0}function ru(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function su(t,r){var n=ru(t);t=0;for(var o;n;){if(n.nodeType===3){if(o=t+n.textContent.length,t<=r&&o>=r)return{node:n,offset:r-t};t=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ru(n)}}function nu(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?nu(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function au(){for(var t=window,r=He();r instanceof t.HTMLIFrameElement;){try{var n=typeof r.contentWindow.location.href=="string"}catch{n=!1}if(n)t=r.contentWindow;else break;r=He(t.document)}return r}function ll(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Wf(t){var r=au(),n=t.focusedElem,o=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&nu(n.ownerDocument.documentElement,n)){if(o!==null&&ll(n)){if(r=o.start,t=o.end,t===void 0&&(t=r),"selectionStart"in n)n.selectionStart=r,n.selectionEnd=Math.min(t,n.value.length);else if(t=(r=n.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var d=n.textContent.length,m=Math.min(o.start,d);o=o.end===void 0?m:Math.min(o.end,d),!t.extend&&m>o&&(d=o,o=m,m=d),d=su(n,m);var g=su(n,o);d&&g&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==g.node||t.focusOffset!==g.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),t.removeAllRanges(),m>o?(t.addRange(r),t.extend(g.node,g.offset)):(r.setEnd(g.node,g.offset),t.addRange(r)))}}for(r=[],t=n;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<r.length;n++)t=r[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Hf=f&&"documentMode"in document&&11>=document.documentMode,xs=null,ol=null,Nn=null,cl=!1;function iu(t,r,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cl||xs==null||xs!==He(o)||(o=xs,"selectionStart"in o&&ll(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Nn&&wn(Nn,o)||(Nn=o,o=_a(ol,"onSelect"),0<o.length&&(r=new Xi("onSelect","select",null,r,n),t.push({event:r,listeners:o}),r.target=xs)))}function Sa(t,r){var n={};return n[t.toLowerCase()]=r.toLowerCase(),n["Webkit"+t]="webkit"+r,n["Moz"+t]="moz"+r,n}var ys={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionend:Sa("Transition","TransitionEnd")},ul={},lu={};f&&(lu=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function Ea(t){if(ul[t])return ul[t];if(!ys[t])return t;var r=ys[t],n;for(n in r)if(r.hasOwnProperty(n)&&n in lu)return ul[t]=r[n];return t}var ou=Ea("animationend"),cu=Ea("animationiteration"),uu=Ea("animationstart"),du=Ea("transitionend"),hu=new Map,mu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yr(t,r){hu.set(t,r),u(r,[t])}for(var dl=0;dl<mu.length;dl++){var hl=mu[dl],Gf=hl.toLowerCase(),Kf=hl[0].toUpperCase()+hl.slice(1);yr(Gf,"on"+Kf)}yr(ou,"onAnimationEnd"),yr(cu,"onAnimationIteration"),yr(uu,"onAnimationStart"),yr("dblclick","onDoubleClick"),yr("focusin","onFocus"),yr("focusout","onBlur"),yr(du,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jf=new Set("cancel close invalid load scroll toggle".split(" ").concat(kn));function fu(t,r,n){var o=t.type||"unknown-event";t.currentTarget=n,Hm(o,r,void 0,t),t.currentTarget=null}function pu(t,r){r=(r&4)!==0;for(var n=0;n<t.length;n++){var o=t[n],d=o.event;o=o.listeners;e:{var m=void 0;if(r)for(var g=o.length-1;0<=g;g--){var j=o[g],S=j.instance,U=j.currentTarget;if(j=j.listener,S!==m&&d.isPropagationStopped())break e;fu(d,j,U),m=S}else for(g=0;g<o.length;g++){if(j=o[g],S=j.instance,U=j.currentTarget,j=j.listener,S!==m&&d.isPropagationStopped())break e;fu(d,j,U),m=S}}}if(ua)throw t=Vi,ua=!1,Vi=null,t}function De(t,r){var n=r[bl];n===void 0&&(n=r[bl]=new Set);var o=t+"__bubble";n.has(o)||(gu(r,t,2,!1),n.add(o))}function ml(t,r,n){var o=0;r&&(o|=4),gu(n,t,o,r)}var Ca="_reactListening"+Math.random().toString(36).slice(2);function Sn(t){if(!t[Ca]){t[Ca]=!0,l.forEach(function(n){n!=="selectionchange"&&(Jf.has(n)||ml(n,!1,t),ml(n,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ca]||(r[Ca]=!0,ml("selectionchange",!1,r))}}function gu(t,r,n,o){switch(Mc(r)){case 1:var d=cf;break;case 4:d=uf;break;default:d=Yi}n=d.bind(null,r,n,t),d=void 0,!$i||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),o?d!==void 0?t.addEventListener(r,n,{capture:!0,passive:d}):t.addEventListener(r,n,!0):d!==void 0?t.addEventListener(r,n,{passive:d}):t.addEventListener(r,n,!1)}function fl(t,r,n,o,d){var m=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var j=o.stateNode.containerInfo;if(j===d||j.nodeType===8&&j.parentNode===d)break;if(g===4)for(g=o.return;g!==null;){var S=g.tag;if((S===3||S===4)&&(S=g.stateNode.containerInfo,S===d||S.nodeType===8&&S.parentNode===d))return;g=g.return}for(;j!==null;){if(g=qr(j),g===null)return;if(S=g.tag,S===5||S===6){o=m=g;continue e}j=j.parentNode}}o=o.return}jc(function(){var U=m,Y=Mi(n),Q=[];e:{var J=hu.get(t);if(J!==void 0){var ae=Xi,ce=t;switch(t){case"keypress":if(ja(n)===0)break e;case"keydown":case"keyup":ae=Sf;break;case"focusin":ce="focus",ae=rl;break;case"focusout":ce="blur",ae=rl;break;case"beforeblur":case"afterblur":ae=rl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=$c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=_f;break;case ou:case cu:case uu:ae=gf;break;case du:ae=Tf;break;case"scroll":ae=df;break;case"wheel":ae=Rf;break;case"copy":case"cut":case"paste":ae=yf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=qc}var ue=(r&4)!==0,We=!ue&&t==="scroll",L=ue?J!==null?J+"Capture":null:J;ue=[];for(var _=U,O;_!==null;){O=_;var te=O.stateNode;if(O.tag===5&&te!==null&&(O=te,L!==null&&(te=ln(_,L),te!=null&&ue.push(En(_,te,O)))),We)break;_=_.return}0<ue.length&&(J=new ae(J,ce,null,n,Y),Q.push({event:J,listeners:ue}))}}if((r&7)===0){e:{if(J=t==="mouseover"||t==="pointerover",ae=t==="mouseout"||t==="pointerout",J&&n!==Ui&&(ce=n.relatedTarget||n.fromElement)&&(qr(ce)||ce[Xt]))break e;if((ae||J)&&(J=Y.window===Y?Y:(J=Y.ownerDocument)?J.defaultView||J.parentWindow:window,ae?(ce=n.relatedTarget||n.toElement,ae=U,ce=ce?qr(ce):null,ce!==null&&(We=Vr(ce),ce!==We||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(ae=null,ce=U),ae!==ce)){if(ue=$c,te="onMouseLeave",L="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(ue=qc,te="onPointerLeave",L="onPointerEnter",_="pointer"),We=ae==null?J:js(ae),O=ce==null?J:js(ce),J=new ue(te,_+"leave",ae,n,Y),J.target=We,J.relatedTarget=O,te=null,qr(Y)===U&&(ue=new ue(L,_+"enter",ce,n,Y),ue.target=O,ue.relatedTarget=We,te=ue),We=te,ae&&ce)t:{for(ue=ae,L=ce,_=0,O=ue;O;O=vs(O))_++;for(O=0,te=L;te;te=vs(te))O++;for(;0<_-O;)ue=vs(ue),_--;for(;0<O-_;)L=vs(L),O--;for(;_--;){if(ue===L||L!==null&&ue===L.alternate)break t;ue=vs(ue),L=vs(L)}ue=null}else ue=null;ae!==null&&xu(Q,J,ae,ue,!1),ce!==null&&We!==null&&xu(Q,We,ce,ue,!0)}}e:{if(J=U?js(U):window,ae=J.nodeName&&J.nodeName.toLowerCase(),ae==="select"||ae==="input"&&J.type==="file")var he=Mf;else if(Yc(J))if(Zc)he=Vf;else{he=Bf;var xe=Ff}else(ae=J.nodeName)&&ae.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(he=$f);if(he&&(he=he(t,U))){Qc(Q,he,n,Y);break e}xe&&xe(t,J,U),t==="focusout"&&(xe=J._wrapperState)&&xe.controlled&&J.type==="number"&&ds(J,"number",J.value)}switch(xe=U?js(U):window,t){case"focusin":(Yc(xe)||xe.contentEditable==="true")&&(xs=xe,ol=U,Nn=null);break;case"focusout":Nn=ol=xs=null;break;case"mousedown":cl=!0;break;case"contextmenu":case"mouseup":case"dragend":cl=!1,iu(Q,n,Y);break;case"selectionchange":if(Hf)break;case"keydown":case"keyup":iu(Q,n,Y)}var ye;if(nl)e:{switch(t){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else gs?Kc(t,n)&&(we="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(we="onCompositionStart");we&&(Wc&&n.locale!=="ko"&&(gs||we!=="onCompositionStart"?we==="onCompositionEnd"&&gs&&(ye=Fc()):(xr=Y,Zi="value"in xr?xr.value:xr.textContent,gs=!0)),xe=_a(U,we),0<xe.length&&(we=new Vc(we,t,null,n,Y),Q.push({event:we,listeners:xe}),ye?we.data=ye:(ye=Jc(n),ye!==null&&(we.data=ye)))),(ye=If?Of(t,n):zf(t,n))&&(U=_a(U,"onBeforeInput"),0<U.length&&(Y=new Vc("onBeforeInput","beforeinput",null,n,Y),Q.push({event:Y,listeners:U}),Y.data=ye))}pu(Q,r)})}function En(t,r,n){return{instance:t,listener:r,currentTarget:n}}function _a(t,r){for(var n=r+"Capture",o=[];t!==null;){var d=t,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=ln(t,n),m!=null&&o.unshift(En(t,m,d)),m=ln(t,r),m!=null&&o.push(En(t,m,d))),t=t.return}return o}function vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xu(t,r,n,o,d){for(var m=r._reactName,g=[];n!==null&&n!==o;){var j=n,S=j.alternate,U=j.stateNode;if(S!==null&&S===o)break;j.tag===5&&U!==null&&(j=U,d?(S=ln(n,m),S!=null&&g.unshift(En(n,S,j))):d||(S=ln(n,m),S!=null&&g.push(En(n,S,j)))),n=n.return}g.length!==0&&t.push({event:r,listeners:g})}var Yf=/\r\n?/g,Qf=/\u0000|\uFFFD/g;function yu(t){return(typeof t=="string"?t:""+t).replace(Yf,`
`).replace(Qf,"")}function Pa(t,r,n){if(r=yu(r),yu(t)!==r&&n)throw Error(a(425))}function Ta(){}var pl=null,gl=null;function xl(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var yl=typeof setTimeout=="function"?setTimeout:void 0,Zf=typeof clearTimeout=="function"?clearTimeout:void 0,vu=typeof Promise=="function"?Promise:void 0,Xf=typeof queueMicrotask=="function"?queueMicrotask:typeof vu<"u"?function(t){return vu.resolve(null).then(t).catch(ep)}:yl;function ep(t){setTimeout(function(){throw t})}function vl(t,r){var n=r,o=0;do{var d=n.nextSibling;if(t.removeChild(n),d&&d.nodeType===8)if(n=d.data,n==="/$"){if(o===0){t.removeChild(d),gn(r);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=d}while(n);gn(r)}function vr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function bu(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(r===0)return t;r--}else n==="/$"&&r++}t=t.previousSibling}return null}var bs=Math.random().toString(36).slice(2),Ht="__reactFiber$"+bs,Cn="__reactProps$"+bs,Xt="__reactContainer$"+bs,bl="__reactEvents$"+bs,tp="__reactListeners$"+bs,rp="__reactHandles$"+bs;function qr(t){var r=t[Ht];if(r)return r;for(var n=t.parentNode;n;){if(r=n[Xt]||n[Ht]){if(n=r.alternate,r.child!==null||n!==null&&n.child!==null)for(t=bu(t);t!==null;){if(n=t[Ht])return n;t=bu(t)}return r}t=n,n=t.parentNode}return null}function _n(t){return t=t[Ht]||t[Xt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function js(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(a(33))}function Aa(t){return t[Cn]||null}var jl=[],ws=-1;function br(t){return{current:t}}function Ue(t){0>ws||(t.current=jl[ws],jl[ws]=null,ws--)}function Oe(t,r){ws++,jl[ws]=t.current,t.current=r}var jr={},it=br(jr),ft=br(!1),Wr=jr;function Ns(t,r){var n=t.type.contextTypes;if(!n)return jr;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===r)return o.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in n)d[m]=r[m];return o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=d),d}function pt(t){return t=t.childContextTypes,t!=null}function Ra(){Ue(ft),Ue(it)}function ju(t,r,n){if(it.current!==jr)throw Error(a(168));Oe(it,r),Oe(ft,n)}function wu(t,r,n){var o=t.stateNode;if(r=r.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var d in o)if(!(d in r))throw Error(a(108,le(t)||"Unknown",d));return $({},n,o)}function La(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jr,Wr=it.current,Oe(it,t),Oe(ft,ft.current),!0}function Nu(t,r,n){var o=t.stateNode;if(!o)throw Error(a(169));n?(t=wu(t,r,Wr),o.__reactInternalMemoizedMergedChildContext=t,Ue(ft),Ue(it),Oe(it,t)):Ue(ft),Oe(ft,n)}var er=null,Ia=!1,wl=!1;function ku(t){er===null?er=[t]:er.push(t)}function sp(t){Ia=!0,ku(t)}function wr(){if(!wl&&er!==null){wl=!0;var t=0,r=Ie;try{var n=er;for(Ie=1;t<n.length;t++){var o=n[t];do o=o(!0);while(o!==null)}er=null,Ia=!1}catch(d){throw er!==null&&(er=er.slice(t+1)),Ec(qi,wr),d}finally{Ie=r,wl=!1}}return null}var ks=[],Ss=0,Oa=null,za=0,Et=[],Ct=0,Hr=null,tr=1,rr="";function Gr(t,r){ks[Ss++]=za,ks[Ss++]=Oa,Oa=t,za=r}function Su(t,r,n){Et[Ct++]=tr,Et[Ct++]=rr,Et[Ct++]=Hr,Hr=t;var o=tr;t=rr;var d=32-Rt(o)-1;o&=~(1<<d),n+=1;var m=32-Rt(r)+d;if(30<m){var g=d-d%5;m=(o&(1<<g)-1).toString(32),o>>=g,d-=g,tr=1<<32-Rt(r)+d|n<<d|o,rr=m+t}else tr=1<<m|n<<d|o,rr=t}function Nl(t){t.return!==null&&(Gr(t,1),Su(t,1,0))}function kl(t){for(;t===Oa;)Oa=ks[--Ss],ks[Ss]=null,za=ks[--Ss],ks[Ss]=null;for(;t===Hr;)Hr=Et[--Ct],Et[Ct]=null,rr=Et[--Ct],Et[Ct]=null,tr=Et[--Ct],Et[Ct]=null}var wt=null,Nt=null,Me=!1,It=null;function Eu(t,r){var n=At(5,null,null,0);n.elementType="DELETED",n.stateNode=r,n.return=t,r=t.deletions,r===null?(t.deletions=[n],t.flags|=16):r.push(n)}function Cu(t,r){switch(t.tag){case 5:var n=t.type;return r=r.nodeType!==1||n.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,wt=t,Nt=vr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,wt=t,Nt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(n=Hr!==null?{id:tr,overflow:rr}:null,t.memoizedState={dehydrated:r,treeContext:n,retryLane:1073741824},n=At(18,null,null,0),n.stateNode=r,n.return=t,t.child=n,wt=t,Nt=null,!0):!1;default:return!1}}function Sl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function El(t){if(Me){var r=Nt;if(r){var n=r;if(!Cu(t,r)){if(Sl(t))throw Error(a(418));r=vr(n.nextSibling);var o=wt;r&&Cu(t,r)?Eu(o,n):(t.flags=t.flags&-4097|2,Me=!1,wt=t)}}else{if(Sl(t))throw Error(a(418));t.flags=t.flags&-4097|2,Me=!1,wt=t}}}function _u(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wt=t}function Da(t){if(t!==wt)return!1;if(!Me)return _u(t),Me=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!xl(t.type,t.memoizedProps)),r&&(r=Nt)){if(Sl(t))throw Pu(),Error(a(418));for(;r;)Eu(t,r),r=vr(r.nextSibling)}if(_u(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(r===0){Nt=vr(t.nextSibling);break e}r--}else n!=="$"&&n!=="$!"&&n!=="$?"||r++}t=t.nextSibling}Nt=null}}else Nt=wt?vr(t.stateNode.nextSibling):null;return!0}function Pu(){for(var t=Nt;t;)t=vr(t.nextSibling)}function Es(){Nt=wt=null,Me=!1}function Cl(t){It===null?It=[t]:It.push(t)}var np=K.ReactCurrentBatchConfig;function Pn(t,r,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(a(309));var o=n.stateNode}if(!o)throw Error(a(147,t));var d=o,m=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(g){var j=d.refs;g===null?delete j[m]:j[m]=g},r._stringRef=m,r)}if(typeof t!="string")throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function Ua(t,r){throw t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Tu(t){var r=t._init;return r(t._payload)}function Au(t){function r(L,_){if(t){var O=L.deletions;O===null?(L.deletions=[_],L.flags|=16):O.push(_)}}function n(L,_){if(!t)return null;for(;_!==null;)r(L,_),_=_.sibling;return null}function o(L,_){for(L=new Map;_!==null;)_.key!==null?L.set(_.key,_):L.set(_.index,_),_=_.sibling;return L}function d(L,_){return L=Tr(L,_),L.index=0,L.sibling=null,L}function m(L,_,O){return L.index=O,t?(O=L.alternate,O!==null?(O=O.index,O<_?(L.flags|=2,_):O):(L.flags|=2,_)):(L.flags|=1048576,_)}function g(L){return t&&L.alternate===null&&(L.flags|=2),L}function j(L,_,O,te){return _===null||_.tag!==6?(_=vo(O,L.mode,te),_.return=L,_):(_=d(_,O),_.return=L,_)}function S(L,_,O,te){var he=O.type;return he===ne?Y(L,_,O.props.children,te,O.key):_!==null&&(_.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===ie&&Tu(he)===_.type)?(te=d(_,O.props),te.ref=Pn(L,_,O),te.return=L,te):(te=oi(O.type,O.key,O.props,null,L.mode,te),te.ref=Pn(L,_,O),te.return=L,te)}function U(L,_,O,te){return _===null||_.tag!==4||_.stateNode.containerInfo!==O.containerInfo||_.stateNode.implementation!==O.implementation?(_=bo(O,L.mode,te),_.return=L,_):(_=d(_,O.children||[]),_.return=L,_)}function Y(L,_,O,te,he){return _===null||_.tag!==7?(_=ts(O,L.mode,te,he),_.return=L,_):(_=d(_,O),_.return=L,_)}function Q(L,_,O){if(typeof _=="string"&&_!==""||typeof _=="number")return _=vo(""+_,L.mode,O),_.return=L,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case R:return O=oi(_.type,_.key,_.props,null,L.mode,O),O.ref=Pn(L,null,_),O.return=L,O;case se:return _=bo(_,L.mode,O),_.return=L,_;case ie:var te=_._init;return Q(L,te(_._payload),O)}if(Zt(_)||k(_))return _=ts(_,L.mode,O,null),_.return=L,_;Ua(L,_)}return null}function J(L,_,O,te){var he=_!==null?_.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return he!==null?null:j(L,_,""+O,te);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case R:return O.key===he?S(L,_,O,te):null;case se:return O.key===he?U(L,_,O,te):null;case ie:return he=O._init,J(L,_,he(O._payload),te)}if(Zt(O)||k(O))return he!==null?null:Y(L,_,O,te,null);Ua(L,O)}return null}function ae(L,_,O,te,he){if(typeof te=="string"&&te!==""||typeof te=="number")return L=L.get(O)||null,j(_,L,""+te,he);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case R:return L=L.get(te.key===null?O:te.key)||null,S(_,L,te,he);case se:return L=L.get(te.key===null?O:te.key)||null,U(_,L,te,he);case ie:var xe=te._init;return ae(L,_,O,xe(te._payload),he)}if(Zt(te)||k(te))return L=L.get(O)||null,Y(_,L,te,he,null);Ua(_,te)}return null}function ce(L,_,O,te){for(var he=null,xe=null,ye=_,we=_=0,Xe=null;ye!==null&&we<O.length;we++){ye.index>we?(Xe=ye,ye=null):Xe=ye.sibling;var Le=J(L,ye,O[we],te);if(Le===null){ye===null&&(ye=Xe);break}t&&ye&&Le.alternate===null&&r(L,ye),_=m(Le,_,we),xe===null?he=Le:xe.sibling=Le,xe=Le,ye=Xe}if(we===O.length)return n(L,ye),Me&&Gr(L,we),he;if(ye===null){for(;we<O.length;we++)ye=Q(L,O[we],te),ye!==null&&(_=m(ye,_,we),xe===null?he=ye:xe.sibling=ye,xe=ye);return Me&&Gr(L,we),he}for(ye=o(L,ye);we<O.length;we++)Xe=ae(ye,L,we,O[we],te),Xe!==null&&(t&&Xe.alternate!==null&&ye.delete(Xe.key===null?we:Xe.key),_=m(Xe,_,we),xe===null?he=Xe:xe.sibling=Xe,xe=Xe);return t&&ye.forEach(function(Ar){return r(L,Ar)}),Me&&Gr(L,we),he}function ue(L,_,O,te){var he=k(O);if(typeof he!="function")throw Error(a(150));if(O=he.call(O),O==null)throw Error(a(151));for(var xe=he=null,ye=_,we=_=0,Xe=null,Le=O.next();ye!==null&&!Le.done;we++,Le=O.next()){ye.index>we?(Xe=ye,ye=null):Xe=ye.sibling;var Ar=J(L,ye,Le.value,te);if(Ar===null){ye===null&&(ye=Xe);break}t&&ye&&Ar.alternate===null&&r(L,ye),_=m(Ar,_,we),xe===null?he=Ar:xe.sibling=Ar,xe=Ar,ye=Xe}if(Le.done)return n(L,ye),Me&&Gr(L,we),he;if(ye===null){for(;!Le.done;we++,Le=O.next())Le=Q(L,Le.value,te),Le!==null&&(_=m(Le,_,we),xe===null?he=Le:xe.sibling=Le,xe=Le);return Me&&Gr(L,we),he}for(ye=o(L,ye);!Le.done;we++,Le=O.next())Le=ae(ye,L,we,Le.value,te),Le!==null&&(t&&Le.alternate!==null&&ye.delete(Le.key===null?we:Le.key),_=m(Le,_,we),xe===null?he=Le:xe.sibling=Le,xe=Le);return t&&ye.forEach(function(Dp){return r(L,Dp)}),Me&&Gr(L,we),he}function We(L,_,O,te){if(typeof O=="object"&&O!==null&&O.type===ne&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case R:e:{for(var he=O.key,xe=_;xe!==null;){if(xe.key===he){if(he=O.type,he===ne){if(xe.tag===7){n(L,xe.sibling),_=d(xe,O.props.children),_.return=L,L=_;break e}}else if(xe.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===ie&&Tu(he)===xe.type){n(L,xe.sibling),_=d(xe,O.props),_.ref=Pn(L,xe,O),_.return=L,L=_;break e}n(L,xe);break}else r(L,xe);xe=xe.sibling}O.type===ne?(_=ts(O.props.children,L.mode,te,O.key),_.return=L,L=_):(te=oi(O.type,O.key,O.props,null,L.mode,te),te.ref=Pn(L,_,O),te.return=L,L=te)}return g(L);case se:e:{for(xe=O.key;_!==null;){if(_.key===xe)if(_.tag===4&&_.stateNode.containerInfo===O.containerInfo&&_.stateNode.implementation===O.implementation){n(L,_.sibling),_=d(_,O.children||[]),_.return=L,L=_;break e}else{n(L,_);break}else r(L,_);_=_.sibling}_=bo(O,L.mode,te),_.return=L,L=_}return g(L);case ie:return xe=O._init,We(L,_,xe(O._payload),te)}if(Zt(O))return ce(L,_,O,te);if(k(O))return ue(L,_,O,te);Ua(L,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,_!==null&&_.tag===6?(n(L,_.sibling),_=d(_,O),_.return=L,L=_):(n(L,_),_=vo(O,L.mode,te),_.return=L,L=_),g(L)):n(L,_)}return We}var Cs=Au(!0),Ru=Au(!1),Ma=br(null),Fa=null,_s=null,_l=null;function Pl(){_l=_s=Fa=null}function Tl(t){var r=Ma.current;Ue(Ma),t._currentValue=r}function Al(t,r,n){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===n)break;t=t.return}}function Ps(t,r){Fa=t,_l=_s=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(gt=!0),t.firstContext=null)}function _t(t){var r=t._currentValue;if(_l!==t)if(t={context:t,memoizedValue:r,next:null},_s===null){if(Fa===null)throw Error(a(308));_s=t,Fa.dependencies={lanes:0,firstContext:t}}else _s=_s.next=t;return r}var Kr=null;function Rl(t){Kr===null?Kr=[t]:Kr.push(t)}function Lu(t,r,n,o){var d=r.interleaved;return d===null?(n.next=n,Rl(r)):(n.next=d.next,d.next=n),r.interleaved=n,sr(t,o)}function sr(t,r){t.lanes|=r;var n=t.alternate;for(n!==null&&(n.lanes|=r),n=t,t=t.return;t!==null;)t.childLanes|=r,n=t.alternate,n!==null&&(n.childLanes|=r),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Nr=!1;function Ll(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Iu(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function nr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function kr(t,r,n){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ae&2)!==0){var d=o.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),o.pending=r,sr(t,n)}return d=o.interleaved,d===null?(r.next=r,Rl(o)):(r.next=d.next,d.next=r),o.interleaved=r,sr(t,n)}function Ba(t,r,n){if(r=r.updateQueue,r!==null&&(r=r.shared,(n&4194240)!==0)){var o=r.lanes;o&=t.pendingLanes,n|=o,r.lanes=n,Gi(t,n)}}function Ou(t,r){var n=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var d=null,m=null;if(n=n.firstBaseUpdate,n!==null){do{var g={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};m===null?d=m=g:m=m.next=g,n=n.next}while(n!==null);m===null?d=m=r:m=m.next=r}else d=m=r;n={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:o.shared,effects:o.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=r:t.next=r,n.lastBaseUpdate=r}function $a(t,r,n,o){var d=t.updateQueue;Nr=!1;var m=d.firstBaseUpdate,g=d.lastBaseUpdate,j=d.shared.pending;if(j!==null){d.shared.pending=null;var S=j,U=S.next;S.next=null,g===null?m=U:g.next=U,g=S;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,j=Y.lastBaseUpdate,j!==g&&(j===null?Y.firstBaseUpdate=U:j.next=U,Y.lastBaseUpdate=S))}if(m!==null){var Q=d.baseState;g=0,Y=U=S=null,j=m;do{var J=j.lane,ae=j.eventTime;if((o&J)===J){Y!==null&&(Y=Y.next={eventTime:ae,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var ce=t,ue=j;switch(J=r,ae=n,ue.tag){case 1:if(ce=ue.payload,typeof ce=="function"){Q=ce.call(ae,Q,J);break e}Q=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ue.payload,J=typeof ce=="function"?ce.call(ae,Q,J):ce,J==null)break e;Q=$({},Q,J);break e;case 2:Nr=!0}}j.callback!==null&&j.lane!==0&&(t.flags|=64,J=d.effects,J===null?d.effects=[j]:J.push(j))}else ae={eventTime:ae,lane:J,tag:j.tag,payload:j.payload,callback:j.callback,next:null},Y===null?(U=Y=ae,S=Q):Y=Y.next=ae,g|=J;if(j=j.next,j===null){if(j=d.shared.pending,j===null)break;J=j,j=J.next,J.next=null,d.lastBaseUpdate=J,d.shared.pending=null}}while(!0);if(Y===null&&(S=Q),d.baseState=S,d.firstBaseUpdate=U,d.lastBaseUpdate=Y,r=d.shared.interleaved,r!==null){d=r;do g|=d.lane,d=d.next;while(d!==r)}else m===null&&(d.shared.lanes=0);Qr|=g,t.lanes=g,t.memoizedState=Q}}function zu(t,r,n){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var o=t[r],d=o.callback;if(d!==null){if(o.callback=null,o=n,typeof d!="function")throw Error(a(191,d));d.call(o)}}}var Tn={},Gt=br(Tn),An=br(Tn),Rn=br(Tn);function Jr(t){if(t===Tn)throw Error(a(174));return t}function Il(t,r){switch(Oe(Rn,r),Oe(An,t),Oe(Gt,Tn),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:$r(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=$r(r,t)}Ue(Gt),Oe(Gt,r)}function Ts(){Ue(Gt),Ue(An),Ue(Rn)}function Du(t){Jr(Rn.current);var r=Jr(Gt.current),n=$r(r,t.type);r!==n&&(Oe(An,t),Oe(Gt,n))}function Ol(t){An.current===t&&(Ue(Gt),Ue(An))}var Fe=br(0);function Va(t){for(var r=t;r!==null;){if(r.tag===13){var n=r.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var zl=[];function Dl(){for(var t=0;t<zl.length;t++)zl[t]._workInProgressVersionPrimary=null;zl.length=0}var qa=K.ReactCurrentDispatcher,Ul=K.ReactCurrentBatchConfig,Yr=0,Be=null,Je=null,Qe=null,Wa=!1,Ln=!1,In=0,ap=0;function lt(){throw Error(a(321))}function Ml(t,r){if(r===null)return!1;for(var n=0;n<r.length&&n<t.length;n++)if(!Lt(t[n],r[n]))return!1;return!0}function Fl(t,r,n,o,d,m){if(Yr=m,Be=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,qa.current=t===null||t.memoizedState===null?cp:up,t=n(o,d),Ln){m=0;do{if(Ln=!1,In=0,25<=m)throw Error(a(301));m+=1,Qe=Je=null,r.updateQueue=null,qa.current=dp,t=n(o,d)}while(Ln)}if(qa.current=Ka,r=Je!==null&&Je.next!==null,Yr=0,Qe=Je=Be=null,Wa=!1,r)throw Error(a(300));return t}function Bl(){var t=In!==0;return In=0,t}function Kt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Be.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function Pt(){if(Je===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var r=Qe===null?Be.memoizedState:Qe.next;if(r!==null)Qe=r,Je=t;else{if(t===null)throw Error(a(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Qe===null?Be.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function On(t,r){return typeof r=="function"?r(t):r}function $l(t){var r=Pt(),n=r.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=t;var o=Je,d=o.baseQueue,m=n.pending;if(m!==null){if(d!==null){var g=d.next;d.next=m.next,m.next=g}o.baseQueue=d=m,n.pending=null}if(d!==null){m=d.next,o=o.baseState;var j=g=null,S=null,U=m;do{var Y=U.lane;if((Yr&Y)===Y)S!==null&&(S=S.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),o=U.hasEagerState?U.eagerState:t(o,U.action);else{var Q={lane:Y,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};S===null?(j=S=Q,g=o):S=S.next=Q,Be.lanes|=Y,Qr|=Y}U=U.next}while(U!==null&&U!==m);S===null?g=o:S.next=j,Lt(o,r.memoizedState)||(gt=!0),r.memoizedState=o,r.baseState=g,r.baseQueue=S,n.lastRenderedState=o}if(t=n.interleaved,t!==null){d=t;do m=d.lane,Be.lanes|=m,Qr|=m,d=d.next;while(d!==t)}else d===null&&(n.lanes=0);return[r.memoizedState,n.dispatch]}function Vl(t){var r=Pt(),n=r.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=t;var o=n.dispatch,d=n.pending,m=r.memoizedState;if(d!==null){n.pending=null;var g=d=d.next;do m=t(m,g.action),g=g.next;while(g!==d);Lt(m,r.memoizedState)||(gt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),n.lastRenderedState=m}return[m,o]}function Uu(){}function Mu(t,r){var n=Be,o=Pt(),d=r(),m=!Lt(o.memoizedState,d);if(m&&(o.memoizedState=d,gt=!0),o=o.queue,ql($u.bind(null,n,o,t),[t]),o.getSnapshot!==r||m||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,zn(9,Bu.bind(null,n,o,d,r),void 0,null),Ze===null)throw Error(a(349));(Yr&30)!==0||Fu(n,r,d)}return d}function Fu(t,r,n){t.flags|=16384,t={getSnapshot:r,value:n},r=Be.updateQueue,r===null?(r={lastEffect:null,stores:null},Be.updateQueue=r,r.stores=[t]):(n=r.stores,n===null?r.stores=[t]:n.push(t))}function Bu(t,r,n,o){r.value=n,r.getSnapshot=o,Vu(r)&&qu(t)}function $u(t,r,n){return n(function(){Vu(r)&&qu(t)})}function Vu(t){var r=t.getSnapshot;t=t.value;try{var n=r();return!Lt(t,n)}catch{return!0}}function qu(t){var r=sr(t,1);r!==null&&Ut(r,t,1,-1)}function Wu(t){var r=Kt();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:t},r.queue=t,t=t.dispatch=op.bind(null,Be,t),[r.memoizedState,t]}function zn(t,r,n,o){return t={tag:t,create:r,destroy:n,deps:o,next:null},r=Be.updateQueue,r===null?(r={lastEffect:null,stores:null},Be.updateQueue=r,r.lastEffect=t.next=t):(n=r.lastEffect,n===null?r.lastEffect=t.next=t:(o=n.next,n.next=t,t.next=o,r.lastEffect=t)),t}function Hu(){return Pt().memoizedState}function Ha(t,r,n,o){var d=Kt();Be.flags|=t,d.memoizedState=zn(1|r,n,void 0,o===void 0?null:o)}function Ga(t,r,n,o){var d=Pt();o=o===void 0?null:o;var m=void 0;if(Je!==null){var g=Je.memoizedState;if(m=g.destroy,o!==null&&Ml(o,g.deps)){d.memoizedState=zn(r,n,m,o);return}}Be.flags|=t,d.memoizedState=zn(1|r,n,m,o)}function Gu(t,r){return Ha(8390656,8,t,r)}function ql(t,r){return Ga(2048,8,t,r)}function Ku(t,r){return Ga(4,2,t,r)}function Ju(t,r){return Ga(4,4,t,r)}function Yu(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Qu(t,r,n){return n=n!=null?n.concat([t]):null,Ga(4,4,Yu.bind(null,r,t),n)}function Wl(){}function Zu(t,r){var n=Pt();r=r===void 0?null:r;var o=n.memoizedState;return o!==null&&r!==null&&Ml(r,o[1])?o[0]:(n.memoizedState=[t,r],t)}function Xu(t,r){var n=Pt();r=r===void 0?null:r;var o=n.memoizedState;return o!==null&&r!==null&&Ml(r,o[1])?o[0]:(t=t(),n.memoizedState=[t,r],t)}function ed(t,r,n){return(Yr&21)===0?(t.baseState&&(t.baseState=!1,gt=!0),t.memoizedState=n):(Lt(n,r)||(n=Tc(),Be.lanes|=n,Qr|=n,t.baseState=!0),r)}function ip(t,r){var n=Ie;Ie=n!==0&&4>n?n:4,t(!0);var o=Ul.transition;Ul.transition={};try{t(!1),r()}finally{Ie=n,Ul.transition=o}}function td(){return Pt().memoizedState}function lp(t,r,n){var o=_r(t);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},rd(t))sd(r,n);else if(n=Lu(t,r,n,o),n!==null){var d=dt();Ut(n,t,o,d),nd(n,r,o)}}function op(t,r,n){var o=_r(t),d={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(rd(t))sd(r,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var g=r.lastRenderedState,j=m(g,n);if(d.hasEagerState=!0,d.eagerState=j,Lt(j,g)){var S=r.interleaved;S===null?(d.next=d,Rl(r)):(d.next=S.next,S.next=d),r.interleaved=d;return}}catch{}finally{}n=Lu(t,r,d,o),n!==null&&(d=dt(),Ut(n,t,o,d),nd(n,r,o))}}function rd(t){var r=t.alternate;return t===Be||r!==null&&r===Be}function sd(t,r){Ln=Wa=!0;var n=t.pending;n===null?r.next=r:(r.next=n.next,n.next=r),t.pending=r}function nd(t,r,n){if((n&4194240)!==0){var o=r.lanes;o&=t.pendingLanes,n|=o,r.lanes=n,Gi(t,n)}}var Ka={readContext:_t,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},cp={readContext:_t,useCallback:function(t,r){return Kt().memoizedState=[t,r===void 0?null:r],t},useContext:_t,useEffect:Gu,useImperativeHandle:function(t,r,n){return n=n!=null?n.concat([t]):null,Ha(4194308,4,Yu.bind(null,r,t),n)},useLayoutEffect:function(t,r){return Ha(4194308,4,t,r)},useInsertionEffect:function(t,r){return Ha(4,2,t,r)},useMemo:function(t,r){var n=Kt();return r=r===void 0?null:r,t=t(),n.memoizedState=[t,r],t},useReducer:function(t,r,n){var o=Kt();return r=n!==void 0?n(r):r,o.memoizedState=o.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},o.queue=t,t=t.dispatch=lp.bind(null,Be,t),[o.memoizedState,t]},useRef:function(t){var r=Kt();return t={current:t},r.memoizedState=t},useState:Wu,useDebugValue:Wl,useDeferredValue:function(t){return Kt().memoizedState=t},useTransition:function(){var t=Wu(!1),r=t[0];return t=ip.bind(null,t[1]),Kt().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,n){var o=Be,d=Kt();if(Me){if(n===void 0)throw Error(a(407));n=n()}else{if(n=r(),Ze===null)throw Error(a(349));(Yr&30)!==0||Fu(o,r,n)}d.memoizedState=n;var m={value:n,getSnapshot:r};return d.queue=m,Gu($u.bind(null,o,m,t),[t]),o.flags|=2048,zn(9,Bu.bind(null,o,m,n,r),void 0,null),n},useId:function(){var t=Kt(),r=Ze.identifierPrefix;if(Me){var n=rr,o=tr;n=(o&~(1<<32-Rt(o)-1)).toString(32)+n,r=":"+r+"R"+n,n=In++,0<n&&(r+="H"+n.toString(32)),r+=":"}else n=ap++,r=":"+r+"r"+n.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},up={readContext:_t,useCallback:Zu,useContext:_t,useEffect:ql,useImperativeHandle:Qu,useInsertionEffect:Ku,useLayoutEffect:Ju,useMemo:Xu,useReducer:$l,useRef:Hu,useState:function(){return $l(On)},useDebugValue:Wl,useDeferredValue:function(t){var r=Pt();return ed(r,Je.memoizedState,t)},useTransition:function(){var t=$l(On)[0],r=Pt().memoizedState;return[t,r]},useMutableSource:Uu,useSyncExternalStore:Mu,useId:td,unstable_isNewReconciler:!1},dp={readContext:_t,useCallback:Zu,useContext:_t,useEffect:ql,useImperativeHandle:Qu,useInsertionEffect:Ku,useLayoutEffect:Ju,useMemo:Xu,useReducer:Vl,useRef:Hu,useState:function(){return Vl(On)},useDebugValue:Wl,useDeferredValue:function(t){var r=Pt();return Je===null?r.memoizedState=t:ed(r,Je.memoizedState,t)},useTransition:function(){var t=Vl(On)[0],r=Pt().memoizedState;return[t,r]},useMutableSource:Uu,useSyncExternalStore:Mu,useId:td,unstable_isNewReconciler:!1};function Ot(t,r){if(t&&t.defaultProps){r=$({},r),t=t.defaultProps;for(var n in t)r[n]===void 0&&(r[n]=t[n]);return r}return r}function Hl(t,r,n,o){r=t.memoizedState,n=n(o,r),n=n==null?r:$({},r,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ja={isMounted:function(t){return(t=t._reactInternals)?Vr(t)===t:!1},enqueueSetState:function(t,r,n){t=t._reactInternals;var o=dt(),d=_r(t),m=nr(o,d);m.payload=r,n!=null&&(m.callback=n),r=kr(t,m,d),r!==null&&(Ut(r,t,d,o),Ba(r,t,d))},enqueueReplaceState:function(t,r,n){t=t._reactInternals;var o=dt(),d=_r(t),m=nr(o,d);m.tag=1,m.payload=r,n!=null&&(m.callback=n),r=kr(t,m,d),r!==null&&(Ut(r,t,d,o),Ba(r,t,d))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var n=dt(),o=_r(t),d=nr(n,o);d.tag=2,r!=null&&(d.callback=r),r=kr(t,d,o),r!==null&&(Ut(r,t,o,n),Ba(r,t,o))}};function ad(t,r,n,o,d,m,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,g):r.prototype&&r.prototype.isPureReactComponent?!wn(n,o)||!wn(d,m):!0}function id(t,r,n){var o=!1,d=jr,m=r.contextType;return typeof m=="object"&&m!==null?m=_t(m):(d=pt(r)?Wr:it.current,o=r.contextTypes,m=(o=o!=null)?Ns(t,d):jr),r=new r(n,m),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Ja,t.stateNode=r,r._reactInternals=t,o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=m),r}function ld(t,r,n,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(n,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(n,o),r.state!==t&&Ja.enqueueReplaceState(r,r.state,null)}function Gl(t,r,n,o){var d=t.stateNode;d.props=n,d.state=t.memoizedState,d.refs={},Ll(t);var m=r.contextType;typeof m=="object"&&m!==null?d.context=_t(m):(m=pt(r)?Wr:it.current,d.context=Ns(t,m)),d.state=t.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(Hl(t,r,m,n),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&Ja.enqueueReplaceState(d,d.state,null),$a(t,n,d,o),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function As(t,r){try{var n="",o=r;do n+=B(o),o=o.return;while(o);var d=n}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:r,stack:d,digest:null}}function Kl(t,r,n){return{value:t,source:null,stack:n??null,digest:r??null}}function Jl(t,r){try{console.error(r.value)}catch(n){setTimeout(function(){throw n})}}var hp=typeof WeakMap=="function"?WeakMap:Map;function od(t,r,n){n=nr(-1,n),n.tag=3,n.payload={element:null};var o=r.value;return n.callback=function(){ri||(ri=!0,uo=o),Jl(t,r)},n}function cd(t,r,n){n=nr(-1,n),n.tag=3;var o=t.type.getDerivedStateFromError;if(typeof o=="function"){var d=r.value;n.payload=function(){return o(d)},n.callback=function(){Jl(t,r)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(n.callback=function(){Jl(t,r),typeof o!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var g=r.stack;this.componentDidCatch(r.value,{componentStack:g!==null?g:""})}),n}function ud(t,r,n){var o=t.pingCache;if(o===null){o=t.pingCache=new hp;var d=new Set;o.set(r,d)}else d=o.get(r),d===void 0&&(d=new Set,o.set(r,d));d.has(n)||(d.add(n),t=Ep.bind(null,t,r,n),r.then(t,t))}function dd(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function hd(t,r,n,o,d){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(r=nr(-1,1),r.tag=2,kr(n,r,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=d,t)}var mp=K.ReactCurrentOwner,gt=!1;function ut(t,r,n,o){r.child=t===null?Ru(r,null,n,o):Cs(r,t.child,n,o)}function md(t,r,n,o,d){n=n.render;var m=r.ref;return Ps(r,d),o=Fl(t,r,n,o,m,d),n=Bl(),t!==null&&!gt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,ar(t,r,d)):(Me&&n&&Nl(r),r.flags|=1,ut(t,r,o,d),r.child)}function fd(t,r,n,o,d){if(t===null){var m=n.type;return typeof m=="function"&&!yo(m)&&m.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(r.tag=15,r.type=m,pd(t,r,m,o,d)):(t=oi(n.type,null,o,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,(t.lanes&d)===0){var g=m.memoizedProps;if(n=n.compare,n=n!==null?n:wn,n(g,o)&&t.ref===r.ref)return ar(t,r,d)}return r.flags|=1,t=Tr(m,o),t.ref=r.ref,t.return=r,r.child=t}function pd(t,r,n,o,d){if(t!==null){var m=t.memoizedProps;if(wn(m,o)&&t.ref===r.ref)if(gt=!1,r.pendingProps=o=m,(t.lanes&d)!==0)(t.flags&131072)!==0&&(gt=!0);else return r.lanes=t.lanes,ar(t,r,d)}return Yl(t,r,n,o,d)}function gd(t,r,n){var o=r.pendingProps,d=o.children,m=t!==null?t.memoizedState:null;if(o.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Ls,kt),kt|=n;else{if((n&1073741824)===0)return t=m!==null?m.baseLanes|n:n,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Oe(Ls,kt),kt|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=m!==null?m.baseLanes:n,Oe(Ls,kt),kt|=o}else m!==null?(o=m.baseLanes|n,r.memoizedState=null):o=n,Oe(Ls,kt),kt|=o;return ut(t,r,d,n),r.child}function xd(t,r){var n=r.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(r.flags|=512,r.flags|=2097152)}function Yl(t,r,n,o,d){var m=pt(n)?Wr:it.current;return m=Ns(r,m),Ps(r,d),n=Fl(t,r,n,o,m,d),o=Bl(),t!==null&&!gt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,ar(t,r,d)):(Me&&o&&Nl(r),r.flags|=1,ut(t,r,n,d),r.child)}function yd(t,r,n,o,d){if(pt(n)){var m=!0;La(r)}else m=!1;if(Ps(r,d),r.stateNode===null)Qa(t,r),id(r,n,o),Gl(r,n,o,d),o=!0;else if(t===null){var g=r.stateNode,j=r.memoizedProps;g.props=j;var S=g.context,U=n.contextType;typeof U=="object"&&U!==null?U=_t(U):(U=pt(n)?Wr:it.current,U=Ns(r,U));var Y=n.getDerivedStateFromProps,Q=typeof Y=="function"||typeof g.getSnapshotBeforeUpdate=="function";Q||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(j!==o||S!==U)&&ld(r,g,o,U),Nr=!1;var J=r.memoizedState;g.state=J,$a(r,o,g,d),S=r.memoizedState,j!==o||J!==S||ft.current||Nr?(typeof Y=="function"&&(Hl(r,n,Y,o),S=r.memoizedState),(j=Nr||ad(r,n,j,o,J,S,U))?(Q||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=S),g.props=o,g.state=S,g.context=U,o=j):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{g=r.stateNode,Iu(t,r),j=r.memoizedProps,U=r.type===r.elementType?j:Ot(r.type,j),g.props=U,Q=r.pendingProps,J=g.context,S=n.contextType,typeof S=="object"&&S!==null?S=_t(S):(S=pt(n)?Wr:it.current,S=Ns(r,S));var ae=n.getDerivedStateFromProps;(Y=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(j!==Q||J!==S)&&ld(r,g,o,S),Nr=!1,J=r.memoizedState,g.state=J,$a(r,o,g,d);var ce=r.memoizedState;j!==Q||J!==ce||ft.current||Nr?(typeof ae=="function"&&(Hl(r,n,ae,o),ce=r.memoizedState),(U=Nr||ad(r,n,U,o,J,ce,S)||!1)?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,ce,S),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,ce,S)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||j===t.memoizedProps&&J===t.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&J===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=ce),g.props=o,g.state=ce,g.context=S,o=U):(typeof g.componentDidUpdate!="function"||j===t.memoizedProps&&J===t.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&J===t.memoizedState||(r.flags|=1024),o=!1)}return Ql(t,r,n,o,m,d)}function Ql(t,r,n,o,d,m){xd(t,r);var g=(r.flags&128)!==0;if(!o&&!g)return d&&Nu(r,n,!1),ar(t,r,m);o=r.stateNode,mp.current=r;var j=g&&typeof n.getDerivedStateFromError!="function"?null:o.render();return r.flags|=1,t!==null&&g?(r.child=Cs(r,t.child,null,m),r.child=Cs(r,null,j,m)):ut(t,r,j,m),r.memoizedState=o.state,d&&Nu(r,n,!0),r.child}function vd(t){var r=t.stateNode;r.pendingContext?ju(t,r.pendingContext,r.pendingContext!==r.context):r.context&&ju(t,r.context,!1),Il(t,r.containerInfo)}function bd(t,r,n,o,d){return Es(),Cl(d),r.flags|=256,ut(t,r,n,o),r.child}var Zl={dehydrated:null,treeContext:null,retryLane:0};function Xl(t){return{baseLanes:t,cachePool:null,transitions:null}}function jd(t,r,n){var o=r.pendingProps,d=Fe.current,m=!1,g=(r.flags&128)!==0,j;if((j=g)||(j=t!==null&&t.memoizedState===null?!1:(d&2)!==0),j?(m=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),Oe(Fe,d&1),t===null)return El(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(g=o.children,t=o.fallback,m?(o=r.mode,m=r.child,g={mode:"hidden",children:g},(o&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=g):m=ci(g,o,0,null),t=ts(t,o,n,null),m.return=r,t.return=r,m.sibling=t,r.child=m,r.child.memoizedState=Xl(n),r.memoizedState=Zl,t):eo(r,g));if(d=t.memoizedState,d!==null&&(j=d.dehydrated,j!==null))return fp(t,r,g,o,j,d,n);if(m){m=o.fallback,g=r.mode,d=t.child,j=d.sibling;var S={mode:"hidden",children:o.children};return(g&1)===0&&r.child!==d?(o=r.child,o.childLanes=0,o.pendingProps=S,r.deletions=null):(o=Tr(d,S),o.subtreeFlags=d.subtreeFlags&14680064),j!==null?m=Tr(j,m):(m=ts(m,g,n,null),m.flags|=2),m.return=r,o.return=r,o.sibling=m,r.child=o,o=m,m=r.child,g=t.child.memoizedState,g=g===null?Xl(n):{baseLanes:g.baseLanes|n,cachePool:null,transitions:g.transitions},m.memoizedState=g,m.childLanes=t.childLanes&~n,r.memoizedState=Zl,o}return m=t.child,t=m.sibling,o=Tr(m,{mode:"visible",children:o.children}),(r.mode&1)===0&&(o.lanes=n),o.return=r,o.sibling=null,t!==null&&(n=r.deletions,n===null?(r.deletions=[t],r.flags|=16):n.push(t)),r.child=o,r.memoizedState=null,o}function eo(t,r){return r=ci({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Ya(t,r,n,o){return o!==null&&Cl(o),Cs(r,t.child,null,n),t=eo(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function fp(t,r,n,o,d,m,g){if(n)return r.flags&256?(r.flags&=-257,o=Kl(Error(a(422))),Ya(t,r,g,o)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(m=o.fallback,d=r.mode,o=ci({mode:"visible",children:o.children},d,0,null),m=ts(m,d,g,null),m.flags|=2,o.return=r,m.return=r,o.sibling=m,r.child=o,(r.mode&1)!==0&&Cs(r,t.child,null,g),r.child.memoizedState=Xl(g),r.memoizedState=Zl,m);if((r.mode&1)===0)return Ya(t,r,g,null);if(d.data==="$!"){if(o=d.nextSibling&&d.nextSibling.dataset,o)var j=o.dgst;return o=j,m=Error(a(419)),o=Kl(m,o,void 0),Ya(t,r,g,o)}if(j=(g&t.childLanes)!==0,gt||j){if(o=Ze,o!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(o.suspendedLanes|g))!==0?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,sr(t,d),Ut(o,t,d,-1))}return xo(),o=Kl(Error(a(421))),Ya(t,r,g,o)}return d.data==="$?"?(r.flags|=128,r.child=t.child,r=Cp.bind(null,t),d._reactRetry=r,null):(t=m.treeContext,Nt=vr(d.nextSibling),wt=r,Me=!0,It=null,t!==null&&(Et[Ct++]=tr,Et[Ct++]=rr,Et[Ct++]=Hr,tr=t.id,rr=t.overflow,Hr=r),r=eo(r,o.children),r.flags|=4096,r)}function wd(t,r,n){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),Al(t.return,r,n)}function to(t,r,n,o,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:d}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=o,m.tail=n,m.tailMode=d)}function Nd(t,r,n){var o=r.pendingProps,d=o.revealOrder,m=o.tail;if(ut(t,r,o.children,n),o=Fe.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wd(t,n,r);else if(t.tag===19)wd(t,n,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(Oe(Fe,o),(r.mode&1)===0)r.memoizedState=null;else switch(d){case"forwards":for(n=r.child,d=null;n!==null;)t=n.alternate,t!==null&&Va(t)===null&&(d=n),n=n.sibling;n=d,n===null?(d=r.child,r.child=null):(d=n.sibling,n.sibling=null),to(r,!1,d,n,m);break;case"backwards":for(n=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&Va(t)===null){r.child=d;break}t=d.sibling,d.sibling=n,n=d,d=t}to(r,!0,n,null,m);break;case"together":to(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Qa(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function ar(t,r,n){if(t!==null&&(r.dependencies=t.dependencies),Qr|=r.lanes,(n&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,n=Tr(t,t.pendingProps),r.child=n,n.return=r;t.sibling!==null;)t=t.sibling,n=n.sibling=Tr(t,t.pendingProps),n.return=r;n.sibling=null}return r.child}function pp(t,r,n){switch(r.tag){case 3:vd(r),Es();break;case 5:Du(r);break;case 1:pt(r.type)&&La(r);break;case 4:Il(r,r.stateNode.containerInfo);break;case 10:var o=r.type._context,d=r.memoizedProps.value;Oe(Ma,o._currentValue),o._currentValue=d;break;case 13:if(o=r.memoizedState,o!==null)return o.dehydrated!==null?(Oe(Fe,Fe.current&1),r.flags|=128,null):(n&r.child.childLanes)!==0?jd(t,r,n):(Oe(Fe,Fe.current&1),t=ar(t,r,n),t!==null?t.sibling:null);Oe(Fe,Fe.current&1);break;case 19:if(o=(n&r.childLanes)!==0,(t.flags&128)!==0){if(o)return Nd(t,r,n);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Oe(Fe,Fe.current),o)break;return null;case 22:case 23:return r.lanes=0,gd(t,r,n)}return ar(t,r,n)}var kd,ro,Sd,Ed;kd=function(t,r){for(var n=r.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ro=function(){},Sd=function(t,r,n,o){var d=t.memoizedProps;if(d!==o){t=r.stateNode,Jr(Gt.current);var m=null;switch(n){case"input":d=dr(t,d),o=dr(t,o),m=[];break;case"select":d=$({},d,{value:void 0}),o=$({},o,{value:void 0}),m=[];break;case"textarea":d=W(t,d),o=W(t,o),m=[];break;default:typeof d.onClick!="function"&&typeof o.onClick=="function"&&(t.onclick=Ta)}zi(n,o);var g;n=null;for(U in d)if(!o.hasOwnProperty(U)&&d.hasOwnProperty(U)&&d[U]!=null)if(U==="style"){var j=d[U];for(g in j)j.hasOwnProperty(g)&&(n||(n={}),n[g]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(c.hasOwnProperty(U)?m||(m=[]):(m=m||[]).push(U,null));for(U in o){var S=o[U];if(j=d?.[U],o.hasOwnProperty(U)&&S!==j&&(S!=null||j!=null))if(U==="style")if(j){for(g in j)!j.hasOwnProperty(g)||S&&S.hasOwnProperty(g)||(n||(n={}),n[g]="");for(g in S)S.hasOwnProperty(g)&&j[g]!==S[g]&&(n||(n={}),n[g]=S[g])}else n||(m||(m=[]),m.push(U,n)),n=S;else U==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,j=j?j.__html:void 0,S!=null&&j!==S&&(m=m||[]).push(U,S)):U==="children"?typeof S!="string"&&typeof S!="number"||(m=m||[]).push(U,""+S):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(c.hasOwnProperty(U)?(S!=null&&U==="onScroll"&&De("scroll",t),m||j===S||(m=[])):(m=m||[]).push(U,S))}n&&(m=m||[]).push("style",n);var U=m;(r.updateQueue=U)&&(r.flags|=4)}},Ed=function(t,r,n,o){n!==o&&(r.flags|=4)};function Dn(t,r){if(!Me)switch(t.tailMode){case"hidden":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ot(t){var r=t.alternate!==null&&t.alternate.child===t.child,n=0,o=0;if(r)for(var d=t.child;d!==null;)n|=d.lanes|d.childLanes,o|=d.subtreeFlags&14680064,o|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)n|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=o,t.childLanes=n,r}function gp(t,r,n){var o=r.pendingProps;switch(kl(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return pt(r.type)&&Ra(),ot(r),null;case 3:return o=r.stateNode,Ts(),Ue(ft),Ue(it),Dl(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Da(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,It!==null&&(fo(It),It=null))),ro(t,r),ot(r),null;case 5:Ol(r);var d=Jr(Rn.current);if(n=r.type,t!==null&&r.stateNode!=null)Sd(t,r,n,o,d),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!o){if(r.stateNode===null)throw Error(a(166));return ot(r),null}if(t=Jr(Gt.current),Da(r)){o=r.stateNode,n=r.type;var m=r.memoizedProps;switch(o[Ht]=r,o[Cn]=m,t=(r.mode&1)!==0,n){case"dialog":De("cancel",o),De("close",o);break;case"iframe":case"object":case"embed":De("load",o);break;case"video":case"audio":for(d=0;d<kn.length;d++)De(kn[d],o);break;case"source":De("error",o);break;case"img":case"image":case"link":De("error",o),De("load",o);break;case"details":De("toggle",o);break;case"input":Qt(o,m),De("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!m.multiple},De("invalid",o);break;case"textarea":me(o,m),De("invalid",o)}zi(n,m),d=null;for(var g in m)if(m.hasOwnProperty(g)){var j=m[g];g==="children"?typeof j=="string"?o.textContent!==j&&(m.suppressHydrationWarning!==!0&&Pa(o.textContent,j,t),d=["children",j]):typeof j=="number"&&o.textContent!==""+j&&(m.suppressHydrationWarning!==!0&&Pa(o.textContent,j,t),d=["children",""+j]):c.hasOwnProperty(g)&&j!=null&&g==="onScroll"&&De("scroll",o)}switch(n){case"input":je(o),sn(o,m,!0);break;case"textarea":je(o),Ve(o);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(o.onclick=Ta)}o=d,r.updateQueue=o,o!==null&&(r.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qt(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=g.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof o.is=="string"?t=g.createElement(n,{is:o.is}):(t=g.createElement(n),n==="select"&&(g=t,o.multiple?g.multiple=!0:o.size&&(g.size=o.size))):t=g.createElementNS(t,n),t[Ht]=r,t[Cn]=o,kd(t,r,!1,!1),r.stateNode=t;e:{switch(g=Di(n,o),n){case"dialog":De("cancel",t),De("close",t),d=o;break;case"iframe":case"object":case"embed":De("load",t),d=o;break;case"video":case"audio":for(d=0;d<kn.length;d++)De(kn[d],t);d=o;break;case"source":De("error",t),d=o;break;case"img":case"image":case"link":De("error",t),De("load",t),d=o;break;case"details":De("toggle",t),d=o;break;case"input":Qt(t,o),d=dr(t,o),De("invalid",t);break;case"option":d=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},d=$({},o,{value:void 0}),De("invalid",t);break;case"textarea":me(t,o),d=W(t,o),De("invalid",t);break;default:d=o}zi(n,d),j=d;for(m in j)if(j.hasOwnProperty(m)){var S=j[m];m==="style"?pc(t,S):m==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&mc(t,S)):m==="children"?typeof S=="string"?(n!=="textarea"||S!=="")&&nn(t,S):typeof S=="number"&&nn(t,""+S):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(c.hasOwnProperty(m)?S!=null&&m==="onScroll"&&De("scroll",t):S!=null&&C(t,m,S,g))}switch(n){case"input":je(t),sn(t,o,!1);break;case"textarea":je(t),Ve(t);break;case"option":o.value!=null&&t.setAttribute("value",""+de(o.value));break;case"select":t.multiple=!!o.multiple,m=o.value,m!=null?hr(t,!!o.multiple,m,!1):o.defaultValue!=null&&hr(t,!!o.multiple,o.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=Ta)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return ot(r),null;case 6:if(t&&r.stateNode!=null)Ed(t,r,t.memoizedProps,o);else{if(typeof o!="string"&&r.stateNode===null)throw Error(a(166));if(n=Jr(Rn.current),Jr(Gt.current),Da(r)){if(o=r.stateNode,n=r.memoizedProps,o[Ht]=r,(m=o.nodeValue!==n)&&(t=wt,t!==null))switch(t.tag){case 3:Pa(o.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pa(o.nodeValue,n,(t.mode&1)!==0)}m&&(r.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[Ht]=r,r.stateNode=o}return ot(r),null;case 13:if(Ue(Fe),o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&Nt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Pu(),Es(),r.flags|=98560,m=!1;else if(m=Da(r),o!==null&&o.dehydrated!==null){if(t===null){if(!m)throw Error(a(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[Ht]=r}else Es(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),m=!1}else It!==null&&(fo(It),It=null),m=!0;if(!m)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=n,r):(o=o!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Fe.current&1)!==0?Ye===0&&(Ye=3):xo())),r.updateQueue!==null&&(r.flags|=4),ot(r),null);case 4:return Ts(),ro(t,r),t===null&&Sn(r.stateNode.containerInfo),ot(r),null;case 10:return Tl(r.type._context),ot(r),null;case 17:return pt(r.type)&&Ra(),ot(r),null;case 19:if(Ue(Fe),m=r.memoizedState,m===null)return ot(r),null;if(o=(r.flags&128)!==0,g=m.rendering,g===null)if(o)Dn(m,!1);else{if(Ye!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(g=Va(t),g!==null){for(r.flags|=128,Dn(m,!1),o=g.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),r.subtreeFlags=0,o=n,n=r.child;n!==null;)m=n,t=o,m.flags&=14680066,g=m.alternate,g===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=g.childLanes,m.lanes=g.lanes,m.child=g.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=g.memoizedProps,m.memoizedState=g.memoizedState,m.updateQueue=g.updateQueue,m.type=g.type,t=g.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Oe(Fe,Fe.current&1|2),r.child}t=t.sibling}m.tail!==null&&qe()>Is&&(r.flags|=128,o=!0,Dn(m,!1),r.lanes=4194304)}else{if(!o)if(t=Va(g),t!==null){if(r.flags|=128,o=!0,n=t.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),Dn(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!Me)return ot(r),null}else 2*qe()-m.renderingStartTime>Is&&n!==1073741824&&(r.flags|=128,o=!0,Dn(m,!1),r.lanes=4194304);m.isBackwards?(g.sibling=r.child,r.child=g):(n=m.last,n!==null?n.sibling=g:r.child=g,m.last=g)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=qe(),r.sibling=null,n=Fe.current,Oe(Fe,o?n&1|2:n&1),r):(ot(r),null);case 22:case 23:return go(),o=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(r.flags|=8192),o&&(r.mode&1)!==0?(kt&1073741824)!==0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),null;case 24:return null;case 25:return null}throw Error(a(156,r.tag))}function xp(t,r){switch(kl(r),r.tag){case 1:return pt(r.type)&&Ra(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ts(),Ue(ft),Ue(it),Dl(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return Ol(r),null;case 13:if(Ue(Fe),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Es()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Ue(Fe),null;case 4:return Ts(),null;case 10:return Tl(r.type._context),null;case 22:case 23:return go(),null;case 24:return null;default:return null}}var Za=!1,ct=!1,yp=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Rs(t,r){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){$e(t,r,o)}else n.current=null}function so(t,r,n){try{n()}catch(o){$e(t,r,o)}}var Cd=!1;function vp(t,r){if(pl=ya,t=au(),ll(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var d=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{n.nodeType,m.nodeType}catch{n=null;break e}var g=0,j=-1,S=-1,U=0,Y=0,Q=t,J=null;t:for(;;){for(var ae;Q!==n||d!==0&&Q.nodeType!==3||(j=g+d),Q!==m||o!==0&&Q.nodeType!==3||(S=g+o),Q.nodeType===3&&(g+=Q.nodeValue.length),(ae=Q.firstChild)!==null;)J=Q,Q=ae;for(;;){if(Q===t)break t;if(J===n&&++U===d&&(j=g),J===m&&++Y===o&&(S=g),(ae=Q.nextSibling)!==null)break;Q=J,J=Q.parentNode}Q=ae}n=j===-1||S===-1?null:{start:j,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for(gl={focusedElem:t,selectionRange:n},ya=!1,oe=r;oe!==null;)if(r=oe,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,oe=t;else for(;oe!==null;){r=oe;try{var ce=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var ue=ce.memoizedProps,We=ce.memoizedState,L=r.stateNode,_=L.getSnapshotBeforeUpdate(r.elementType===r.type?ue:Ot(r.type,ue),We);L.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var O=r.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(te){$e(r,r.return,te)}if(t=r.sibling,t!==null){t.return=r.return,oe=t;break}oe=r.return}return ce=Cd,Cd=!1,ce}function Un(t,r,n){var o=r.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&t)===t){var m=d.destroy;d.destroy=void 0,m!==void 0&&so(r,n,m)}d=d.next}while(d!==o)}}function Xa(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&t)===t){var o=n.create;n.destroy=o()}n=n.next}while(n!==r)}}function no(t){var r=t.ref;if(r!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof r=="function"?r(t):r.current=t}}function _d(t){var r=t.alternate;r!==null&&(t.alternate=null,_d(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Ht],delete r[Cn],delete r[bl],delete r[tp],delete r[rp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Pd(t){return t.tag===5||t.tag===3||t.tag===4}function Td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Pd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ao(t,r,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?n.nodeType===8?n.parentNode.insertBefore(t,r):n.insertBefore(t,r):(n.nodeType===8?(r=n.parentNode,r.insertBefore(t,n)):(r=n,r.appendChild(t)),n=n._reactRootContainer,n!=null||r.onclick!==null||(r.onclick=Ta));else if(o!==4&&(t=t.child,t!==null))for(ao(t,r,n),t=t.sibling;t!==null;)ao(t,r,n),t=t.sibling}function io(t,r,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?n.insertBefore(t,r):n.appendChild(t);else if(o!==4&&(t=t.child,t!==null))for(io(t,r,n),t=t.sibling;t!==null;)io(t,r,n),t=t.sibling}var rt=null,zt=!1;function Sr(t,r,n){for(n=n.child;n!==null;)Ad(t,r,n),n=n.sibling}function Ad(t,r,n){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(ha,n)}catch{}switch(n.tag){case 5:ct||Rs(n,r);case 6:var o=rt,d=zt;rt=null,Sr(t,r,n),rt=o,zt=d,rt!==null&&(zt?(t=rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rt.removeChild(n.stateNode));break;case 18:rt!==null&&(zt?(t=rt,n=n.stateNode,t.nodeType===8?vl(t.parentNode,n):t.nodeType===1&&vl(t,n),gn(t)):vl(rt,n.stateNode));break;case 4:o=rt,d=zt,rt=n.stateNode.containerInfo,zt=!0,Sr(t,r,n),rt=o,zt=d;break;case 0:case 11:case 14:case 15:if(!ct&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){d=o=o.next;do{var m=d,g=m.destroy;m=m.tag,g!==void 0&&((m&2)!==0||(m&4)!==0)&&so(n,r,g),d=d.next}while(d!==o)}Sr(t,r,n);break;case 1:if(!ct&&(Rs(n,r),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(j){$e(n,r,j)}Sr(t,r,n);break;case 21:Sr(t,r,n);break;case 22:n.mode&1?(ct=(o=ct)||n.memoizedState!==null,Sr(t,r,n),ct=o):Sr(t,r,n);break;default:Sr(t,r,n)}}function Rd(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yp),r.forEach(function(o){var d=_p.bind(null,t,o);n.has(o)||(n.add(o),o.then(d,d))})}}function Dt(t,r){var n=r.deletions;if(n!==null)for(var o=0;o<n.length;o++){var d=n[o];try{var m=t,g=r,j=g;e:for(;j!==null;){switch(j.tag){case 5:rt=j.stateNode,zt=!1;break e;case 3:rt=j.stateNode.containerInfo,zt=!0;break e;case 4:rt=j.stateNode.containerInfo,zt=!0;break e}j=j.return}if(rt===null)throw Error(a(160));Ad(m,g,d),rt=null,zt=!1;var S=d.alternate;S!==null&&(S.return=null),d.return=null}catch(U){$e(d,r,U)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Ld(r,t),r=r.sibling}function Ld(t,r){var n=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dt(r,t),Jt(t),o&4){try{Un(3,t,t.return),Xa(3,t)}catch(ue){$e(t,t.return,ue)}try{Un(5,t,t.return)}catch(ue){$e(t,t.return,ue)}}break;case 1:Dt(r,t),Jt(t),o&512&&n!==null&&Rs(n,n.return);break;case 5:if(Dt(r,t),Jt(t),o&512&&n!==null&&Rs(n,n.return),t.flags&32){var d=t.stateNode;try{nn(d,"")}catch(ue){$e(t,t.return,ue)}}if(o&4&&(d=t.stateNode,d!=null)){var m=t.memoizedProps,g=n!==null?n.memoizedProps:m,j=t.type,S=t.updateQueue;if(t.updateQueue=null,S!==null)try{j==="input"&&m.type==="radio"&&m.name!=null&&la(d,m),Di(j,g);var U=Di(j,m);for(g=0;g<S.length;g+=2){var Y=S[g],Q=S[g+1];Y==="style"?pc(d,Q):Y==="dangerouslySetInnerHTML"?mc(d,Q):Y==="children"?nn(d,Q):C(d,Y,Q,U)}switch(j){case"input":rn(d,m);break;case"textarea":Se(d,m);break;case"select":var J=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var ae=m.value;ae!=null?hr(d,!!m.multiple,ae,!1):J!==!!m.multiple&&(m.defaultValue!=null?hr(d,!!m.multiple,m.defaultValue,!0):hr(d,!!m.multiple,m.multiple?[]:"",!1))}d[Cn]=m}catch(ue){$e(t,t.return,ue)}}break;case 6:if(Dt(r,t),Jt(t),o&4){if(t.stateNode===null)throw Error(a(162));d=t.stateNode,m=t.memoizedProps;try{d.nodeValue=m}catch(ue){$e(t,t.return,ue)}}break;case 3:if(Dt(r,t),Jt(t),o&4&&n!==null&&n.memoizedState.isDehydrated)try{gn(r.containerInfo)}catch(ue){$e(t,t.return,ue)}break;case 4:Dt(r,t),Jt(t);break;case 13:Dt(r,t),Jt(t),d=t.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(co=qe())),o&4&&Rd(t);break;case 22:if(Y=n!==null&&n.memoizedState!==null,t.mode&1?(ct=(U=ct)||Y,Dt(r,t),ct=U):Dt(r,t),Jt(t),o&8192){if(U=t.memoizedState!==null,(t.stateNode.isHidden=U)&&!Y&&(t.mode&1)!==0)for(oe=t,Y=t.child;Y!==null;){for(Q=oe=Y;oe!==null;){switch(J=oe,ae=J.child,J.tag){case 0:case 11:case 14:case 15:Un(4,J,J.return);break;case 1:Rs(J,J.return);var ce=J.stateNode;if(typeof ce.componentWillUnmount=="function"){o=J,n=J.return;try{r=o,ce.props=r.memoizedProps,ce.state=r.memoizedState,ce.componentWillUnmount()}catch(ue){$e(o,n,ue)}}break;case 5:Rs(J,J.return);break;case 22:if(J.memoizedState!==null){zd(Q);continue}}ae!==null?(ae.return=J,oe=ae):zd(Q)}Y=Y.sibling}e:for(Y=null,Q=t;;){if(Q.tag===5){if(Y===null){Y=Q;try{d=Q.stateNode,U?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(j=Q.stateNode,S=Q.memoizedProps.style,g=S!=null&&S.hasOwnProperty("display")?S.display:null,j.style.display=fc("display",g))}catch(ue){$e(t,t.return,ue)}}}else if(Q.tag===6){if(Y===null)try{Q.stateNode.nodeValue=U?"":Q.memoizedProps}catch(ue){$e(t,t.return,ue)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===t)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===t)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===t)break e;Y===Q&&(Y=null),Q=Q.return}Y===Q&&(Y=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:Dt(r,t),Jt(t),o&4&&Rd(t);break;case 21:break;default:Dt(r,t),Jt(t)}}function Jt(t){var r=t.flags;if(r&2){try{e:{for(var n=t.return;n!==null;){if(Pd(n)){var o=n;break e}n=n.return}throw Error(a(160))}switch(o.tag){case 5:var d=o.stateNode;o.flags&32&&(nn(d,""),o.flags&=-33);var m=Td(t);io(t,m,d);break;case 3:case 4:var g=o.stateNode.containerInfo,j=Td(t);ao(t,j,g);break;default:throw Error(a(161))}}catch(S){$e(t,t.return,S)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function bp(t,r,n){oe=t,Id(t)}function Id(t,r,n){for(var o=(t.mode&1)!==0;oe!==null;){var d=oe,m=d.child;if(d.tag===22&&o){var g=d.memoizedState!==null||Za;if(!g){var j=d.alternate,S=j!==null&&j.memoizedState!==null||ct;j=Za;var U=ct;if(Za=g,(ct=S)&&!U)for(oe=d;oe!==null;)g=oe,S=g.child,g.tag===22&&g.memoizedState!==null?Dd(d):S!==null?(S.return=g,oe=S):Dd(d);for(;m!==null;)oe=m,Id(m),m=m.sibling;oe=d,Za=j,ct=U}Od(t)}else(d.subtreeFlags&8772)!==0&&m!==null?(m.return=d,oe=m):Od(t)}}function Od(t){for(;oe!==null;){var r=oe;if((r.flags&8772)!==0){var n=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:ct||Xa(5,r);break;case 1:var o=r.stateNode;if(r.flags&4&&!ct)if(n===null)o.componentDidMount();else{var d=r.elementType===r.type?n.memoizedProps:Ot(r.type,n.memoizedProps);o.componentDidUpdate(d,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&zu(r,m,o);break;case 3:var g=r.updateQueue;if(g!==null){if(n=null,r.child!==null)switch(r.child.tag){case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}zu(r,g,n)}break;case 5:var j=r.stateNode;if(n===null&&r.flags&4){n=j;var S=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&n.focus();break;case"img":S.src&&(n.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var U=r.alternate;if(U!==null){var Y=U.memoizedState;if(Y!==null){var Q=Y.dehydrated;Q!==null&&gn(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}ct||r.flags&512&&no(r)}catch(J){$e(r,r.return,J)}}if(r===t){oe=null;break}if(n=r.sibling,n!==null){n.return=r.return,oe=n;break}oe=r.return}}function zd(t){for(;oe!==null;){var r=oe;if(r===t){oe=null;break}var n=r.sibling;if(n!==null){n.return=r.return,oe=n;break}oe=r.return}}function Dd(t){for(;oe!==null;){var r=oe;try{switch(r.tag){case 0:case 11:case 15:var n=r.return;try{Xa(4,r)}catch(S){$e(r,n,S)}break;case 1:var o=r.stateNode;if(typeof o.componentDidMount=="function"){var d=r.return;try{o.componentDidMount()}catch(S){$e(r,d,S)}}var m=r.return;try{no(r)}catch(S){$e(r,m,S)}break;case 5:var g=r.return;try{no(r)}catch(S){$e(r,g,S)}}}catch(S){$e(r,r.return,S)}if(r===t){oe=null;break}var j=r.sibling;if(j!==null){j.return=r.return,oe=j;break}oe=r.return}}var jp=Math.ceil,ei=K.ReactCurrentDispatcher,lo=K.ReactCurrentOwner,Tt=K.ReactCurrentBatchConfig,Ae=0,Ze=null,Ge=null,st=0,kt=0,Ls=br(0),Ye=0,Mn=null,Qr=0,ti=0,oo=0,Fn=null,xt=null,co=0,Is=1/0,ir=null,ri=!1,uo=null,Er=null,si=!1,Cr=null,ni=0,Bn=0,ho=null,ai=-1,ii=0;function dt(){return(Ae&6)!==0?qe():ai!==-1?ai:ai=qe()}function _r(t){return(t.mode&1)===0?1:(Ae&2)!==0&&st!==0?st&-st:np.transition!==null?(ii===0&&(ii=Tc()),ii):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:Mc(t.type)),t)}function Ut(t,r,n,o){if(50<Bn)throw Bn=0,ho=null,Error(a(185));dn(t,n,o),((Ae&2)===0||t!==Ze)&&(t===Ze&&((Ae&2)===0&&(ti|=n),Ye===4&&Pr(t,st)),yt(t,o),n===1&&Ae===0&&(r.mode&1)===0&&(Is=qe()+500,Ia&&wr()))}function yt(t,r){var n=t.callbackNode;sf(t,r);var o=pa(t,t===Ze?st:0);if(o===0)n!==null&&Cc(n),t.callbackNode=null,t.callbackPriority=0;else if(r=o&-o,t.callbackPriority!==r){if(n!=null&&Cc(n),r===1)t.tag===0?sp(Md.bind(null,t)):ku(Md.bind(null,t)),Xf(function(){(Ae&6)===0&&wr()}),n=null;else{switch(Ac(o)){case 1:n=qi;break;case 4:n=_c;break;case 16:n=da;break;case 536870912:n=Pc;break;default:n=da}n=Gd(n,Ud.bind(null,t))}t.callbackPriority=r,t.callbackNode=n}}function Ud(t,r){if(ai=-1,ii=0,(Ae&6)!==0)throw Error(a(327));var n=t.callbackNode;if(Os()&&t.callbackNode!==n)return null;var o=pa(t,t===Ze?st:0);if(o===0)return null;if((o&30)!==0||(o&t.expiredLanes)!==0||r)r=li(t,o);else{r=o;var d=Ae;Ae|=2;var m=Bd();(Ze!==t||st!==r)&&(ir=null,Is=qe()+500,Xr(t,r));do try{kp();break}catch(j){Fd(t,j)}while(!0);Pl(),ei.current=m,Ae=d,Ge!==null?r=0:(Ze=null,st=0,r=Ye)}if(r!==0){if(r===2&&(d=Wi(t),d!==0&&(o=d,r=mo(t,d))),r===1)throw n=Mn,Xr(t,0),Pr(t,o),yt(t,qe()),n;if(r===6)Pr(t,o);else{if(d=t.current.alternate,(o&30)===0&&!wp(d)&&(r=li(t,o),r===2&&(m=Wi(t),m!==0&&(o=m,r=mo(t,m))),r===1))throw n=Mn,Xr(t,0),Pr(t,o),yt(t,qe()),n;switch(t.finishedWork=d,t.finishedLanes=o,r){case 0:case 1:throw Error(a(345));case 2:es(t,xt,ir);break;case 3:if(Pr(t,o),(o&130023424)===o&&(r=co+500-qe(),10<r)){if(pa(t,0)!==0)break;if(d=t.suspendedLanes,(d&o)!==o){dt(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=yl(es.bind(null,t,xt,ir),r);break}es(t,xt,ir);break;case 4:if(Pr(t,o),(o&4194240)===o)break;for(r=t.eventTimes,d=-1;0<o;){var g=31-Rt(o);m=1<<g,g=r[g],g>d&&(d=g),o&=~m}if(o=d,o=qe()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*jp(o/1960))-o,10<o){t.timeoutHandle=yl(es.bind(null,t,xt,ir),o);break}es(t,xt,ir);break;case 5:es(t,xt,ir);break;default:throw Error(a(329))}}}return yt(t,qe()),t.callbackNode===n?Ud.bind(null,t):null}function mo(t,r){var n=Fn;return t.current.memoizedState.isDehydrated&&(Xr(t,r).flags|=256),t=li(t,r),t!==2&&(r=xt,xt=n,r!==null&&fo(r)),t}function fo(t){xt===null?xt=t:xt.push.apply(xt,t)}function wp(t){for(var r=t;;){if(r.flags&16384){var n=r.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var d=n[o],m=d.getSnapshot;d=d.value;try{if(!Lt(m(),d))return!1}catch{return!1}}}if(n=r.child,r.subtreeFlags&16384&&n!==null)n.return=r,r=n;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Pr(t,r){for(r&=~oo,r&=~ti,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var n=31-Rt(r),o=1<<n;t[n]=-1,r&=~o}}function Md(t){if((Ae&6)!==0)throw Error(a(327));Os();var r=pa(t,0);if((r&1)===0)return yt(t,qe()),null;var n=li(t,r);if(t.tag!==0&&n===2){var o=Wi(t);o!==0&&(r=o,n=mo(t,o))}if(n===1)throw n=Mn,Xr(t,0),Pr(t,r),yt(t,qe()),n;if(n===6)throw Error(a(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,es(t,xt,ir),yt(t,qe()),null}function po(t,r){var n=Ae;Ae|=1;try{return t(r)}finally{Ae=n,Ae===0&&(Is=qe()+500,Ia&&wr())}}function Zr(t){Cr!==null&&Cr.tag===0&&(Ae&6)===0&&Os();var r=Ae;Ae|=1;var n=Tt.transition,o=Ie;try{if(Tt.transition=null,Ie=1,t)return t()}finally{Ie=o,Tt.transition=n,Ae=r,(Ae&6)===0&&wr()}}function go(){kt=Ls.current,Ue(Ls)}function Xr(t,r){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Zf(n)),Ge!==null)for(n=Ge.return;n!==null;){var o=n;switch(kl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Ra();break;case 3:Ts(),Ue(ft),Ue(it),Dl();break;case 5:Ol(o);break;case 4:Ts();break;case 13:Ue(Fe);break;case 19:Ue(Fe);break;case 10:Tl(o.type._context);break;case 22:case 23:go()}n=n.return}if(Ze=t,Ge=t=Tr(t.current,null),st=kt=r,Ye=0,Mn=null,oo=ti=Qr=0,xt=Fn=null,Kr!==null){for(r=0;r<Kr.length;r++)if(n=Kr[r],o=n.interleaved,o!==null){n.interleaved=null;var d=o.next,m=n.pending;if(m!==null){var g=m.next;m.next=d,o.next=g}n.pending=o}Kr=null}return t}function Fd(t,r){do{var n=Ge;try{if(Pl(),qa.current=Ka,Wa){for(var o=Be.memoizedState;o!==null;){var d=o.queue;d!==null&&(d.pending=null),o=o.next}Wa=!1}if(Yr=0,Qe=Je=Be=null,Ln=!1,In=0,lo.current=null,n===null||n.return===null){Ye=1,Mn=r,Ge=null;break}e:{var m=t,g=n.return,j=n,S=r;if(r=st,j.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var U=S,Y=j,Q=Y.tag;if((Y.mode&1)===0&&(Q===0||Q===11||Q===15)){var J=Y.alternate;J?(Y.updateQueue=J.updateQueue,Y.memoizedState=J.memoizedState,Y.lanes=J.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ae=dd(g);if(ae!==null){ae.flags&=-257,hd(ae,g,j,m,r),ae.mode&1&&ud(m,U,r),r=ae,S=U;var ce=r.updateQueue;if(ce===null){var ue=new Set;ue.add(S),r.updateQueue=ue}else ce.add(S);break e}else{if((r&1)===0){ud(m,U,r),xo();break e}S=Error(a(426))}}else if(Me&&j.mode&1){var We=dd(g);if(We!==null){(We.flags&65536)===0&&(We.flags|=256),hd(We,g,j,m,r),Cl(As(S,j));break e}}m=S=As(S,j),Ye!==4&&(Ye=2),Fn===null?Fn=[m]:Fn.push(m),m=g;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var L=od(m,S,r);Ou(m,L);break e;case 1:j=S;var _=m.type,O=m.stateNode;if((m.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Er===null||!Er.has(O)))){m.flags|=65536,r&=-r,m.lanes|=r;var te=cd(m,j,r);Ou(m,te);break e}}m=m.return}while(m!==null)}Vd(n)}catch(he){r=he,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(!0)}function Bd(){var t=ei.current;return ei.current=Ka,t===null?Ka:t}function xo(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),Ze===null||(Qr&268435455)===0&&(ti&268435455)===0||Pr(Ze,st)}function li(t,r){var n=Ae;Ae|=2;var o=Bd();(Ze!==t||st!==r)&&(ir=null,Xr(t,r));do try{Np();break}catch(d){Fd(t,d)}while(!0);if(Pl(),Ae=n,ei.current=o,Ge!==null)throw Error(a(261));return Ze=null,st=0,Ye}function Np(){for(;Ge!==null;)$d(Ge)}function kp(){for(;Ge!==null&&!Km();)$d(Ge)}function $d(t){var r=Hd(t.alternate,t,kt);t.memoizedProps=t.pendingProps,r===null?Vd(t):Ge=r,lo.current=null}function Vd(t){var r=t;do{var n=r.alternate;if(t=r.return,(r.flags&32768)===0){if(n=gp(n,r,kt),n!==null){Ge=n;return}}else{if(n=xp(n,r),n!==null){n.flags&=32767,Ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ye=6,Ge=null;return}}if(r=r.sibling,r!==null){Ge=r;return}Ge=r=t}while(r!==null);Ye===0&&(Ye=5)}function es(t,r,n){var o=Ie,d=Tt.transition;try{Tt.transition=null,Ie=1,Sp(t,r,n,o)}finally{Tt.transition=d,Ie=o}return null}function Sp(t,r,n,o){do Os();while(Cr!==null);if((Ae&6)!==0)throw Error(a(327));n=t.finishedWork;var d=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0;var m=n.lanes|n.childLanes;if(nf(t,m),t===Ze&&(Ge=Ze=null,st=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||si||(si=!0,Gd(da,function(){return Os(),null})),m=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||m){m=Tt.transition,Tt.transition=null;var g=Ie;Ie=1;var j=Ae;Ae|=4,lo.current=null,vp(t,n),Ld(n,t),Wf(gl),ya=!!pl,gl=pl=null,t.current=n,bp(n),Jm(),Ae=j,Ie=g,Tt.transition=m}else t.current=n;if(si&&(si=!1,Cr=t,ni=d),m=t.pendingLanes,m===0&&(Er=null),Zm(n.stateNode),yt(t,qe()),r!==null)for(o=t.onRecoverableError,n=0;n<r.length;n++)d=r[n],o(d.value,{componentStack:d.stack,digest:d.digest});if(ri)throw ri=!1,t=uo,uo=null,t;return(ni&1)!==0&&t.tag!==0&&Os(),m=t.pendingLanes,(m&1)!==0?t===ho?Bn++:(Bn=0,ho=t):Bn=0,wr(),null}function Os(){if(Cr!==null){var t=Ac(ni),r=Tt.transition,n=Ie;try{if(Tt.transition=null,Ie=16>t?16:t,Cr===null)var o=!1;else{if(t=Cr,Cr=null,ni=0,(Ae&6)!==0)throw Error(a(331));var d=Ae;for(Ae|=4,oe=t.current;oe!==null;){var m=oe,g=m.child;if((oe.flags&16)!==0){var j=m.deletions;if(j!==null){for(var S=0;S<j.length;S++){var U=j[S];for(oe=U;oe!==null;){var Y=oe;switch(Y.tag){case 0:case 11:case 15:Un(8,Y,m)}var Q=Y.child;if(Q!==null)Q.return=Y,oe=Q;else for(;oe!==null;){Y=oe;var J=Y.sibling,ae=Y.return;if(_d(Y),Y===U){oe=null;break}if(J!==null){J.return=ae,oe=J;break}oe=ae}}}var ce=m.alternate;if(ce!==null){var ue=ce.child;if(ue!==null){ce.child=null;do{var We=ue.sibling;ue.sibling=null,ue=We}while(ue!==null)}}oe=m}}if((m.subtreeFlags&2064)!==0&&g!==null)g.return=m,oe=g;else e:for(;oe!==null;){if(m=oe,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Un(9,m,m.return)}var L=m.sibling;if(L!==null){L.return=m.return,oe=L;break e}oe=m.return}}var _=t.current;for(oe=_;oe!==null;){g=oe;var O=g.child;if((g.subtreeFlags&2064)!==0&&O!==null)O.return=g,oe=O;else e:for(g=_;oe!==null;){if(j=oe,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:Xa(9,j)}}catch(he){$e(j,j.return,he)}if(j===g){oe=null;break e}var te=j.sibling;if(te!==null){te.return=j.return,oe=te;break e}oe=j.return}}if(Ae=d,wr(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(ha,t)}catch{}o=!0}return o}finally{Ie=n,Tt.transition=r}}return!1}function qd(t,r,n){r=As(n,r),r=od(t,r,1),t=kr(t,r,1),r=dt(),t!==null&&(dn(t,1,r),yt(t,r))}function $e(t,r,n){if(t.tag===3)qd(t,t,n);else for(;r!==null;){if(r.tag===3){qd(r,t,n);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Er===null||!Er.has(o))){t=As(n,t),t=cd(r,t,1),r=kr(r,t,1),t=dt(),r!==null&&(dn(r,1,t),yt(r,t));break}}r=r.return}}function Ep(t,r,n){var o=t.pingCache;o!==null&&o.delete(r),r=dt(),t.pingedLanes|=t.suspendedLanes&n,Ze===t&&(st&n)===n&&(Ye===4||Ye===3&&(st&130023424)===st&&500>qe()-co?Xr(t,0):oo|=n),yt(t,r)}function Wd(t,r){r===0&&((t.mode&1)===0?r=1:(r=fa,fa<<=1,(fa&130023424)===0&&(fa=4194304)));var n=dt();t=sr(t,r),t!==null&&(dn(t,r,n),yt(t,n))}function Cp(t){var r=t.memoizedState,n=0;r!==null&&(n=r.retryLane),Wd(t,n)}function _p(t,r){var n=0;switch(t.tag){case 13:var o=t.stateNode,d=t.memoizedState;d!==null&&(n=d.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(a(314))}o!==null&&o.delete(r),Wd(t,n)}var Hd;Hd=function(t,r,n){if(t!==null)if(t.memoizedProps!==r.pendingProps||ft.current)gt=!0;else{if((t.lanes&n)===0&&(r.flags&128)===0)return gt=!1,pp(t,r,n);gt=(t.flags&131072)!==0}else gt=!1,Me&&(r.flags&1048576)!==0&&Su(r,za,r.index);switch(r.lanes=0,r.tag){case 2:var o=r.type;Qa(t,r),t=r.pendingProps;var d=Ns(r,it.current);Ps(r,n),d=Fl(null,r,o,t,d,n);var m=Bl();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,pt(o)?(m=!0,La(r)):m=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Ll(r),d.updater=Ja,r.stateNode=d,d._reactInternals=r,Gl(r,o,t,n),r=Ql(null,r,o,!0,m,n)):(r.tag=0,Me&&m&&Nl(r),ut(null,r,d,n),r=r.child),r;case 16:o=r.elementType;e:{switch(Qa(t,r),t=r.pendingProps,d=o._init,o=d(o._payload),r.type=o,d=r.tag=Tp(o),t=Ot(o,t),d){case 0:r=Yl(null,r,o,t,n);break e;case 1:r=yd(null,r,o,t,n);break e;case 11:r=md(null,r,o,t,n);break e;case 14:r=fd(null,r,o,Ot(o.type,t),n);break e}throw Error(a(306,o,""))}return r;case 0:return o=r.type,d=r.pendingProps,d=r.elementType===o?d:Ot(o,d),Yl(t,r,o,d,n);case 1:return o=r.type,d=r.pendingProps,d=r.elementType===o?d:Ot(o,d),yd(t,r,o,d,n);case 3:e:{if(vd(r),t===null)throw Error(a(387));o=r.pendingProps,m=r.memoizedState,d=m.element,Iu(t,r),$a(r,o,null,n);var g=r.memoizedState;if(o=g.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){d=As(Error(a(423)),r),r=bd(t,r,o,n,d);break e}else if(o!==d){d=As(Error(a(424)),r),r=bd(t,r,o,n,d);break e}else for(Nt=vr(r.stateNode.containerInfo.firstChild),wt=r,Me=!0,It=null,n=Ru(r,null,o,n),r.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Es(),o===d){r=ar(t,r,n);break e}ut(t,r,o,n)}r=r.child}return r;case 5:return Du(r),t===null&&El(r),o=r.type,d=r.pendingProps,m=t!==null?t.memoizedProps:null,g=d.children,xl(o,d)?g=null:m!==null&&xl(o,m)&&(r.flags|=32),xd(t,r),ut(t,r,g,n),r.child;case 6:return t===null&&El(r),null;case 13:return jd(t,r,n);case 4:return Il(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=Cs(r,null,o,n):ut(t,r,o,n),r.child;case 11:return o=r.type,d=r.pendingProps,d=r.elementType===o?d:Ot(o,d),md(t,r,o,d,n);case 7:return ut(t,r,r.pendingProps,n),r.child;case 8:return ut(t,r,r.pendingProps.children,n),r.child;case 12:return ut(t,r,r.pendingProps.children,n),r.child;case 10:e:{if(o=r.type._context,d=r.pendingProps,m=r.memoizedProps,g=d.value,Oe(Ma,o._currentValue),o._currentValue=g,m!==null)if(Lt(m.value,g)){if(m.children===d.children&&!ft.current){r=ar(t,r,n);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var j=m.dependencies;if(j!==null){g=m.child;for(var S=j.firstContext;S!==null;){if(S.context===o){if(m.tag===1){S=nr(-1,n&-n),S.tag=2;var U=m.updateQueue;if(U!==null){U=U.shared;var Y=U.pending;Y===null?S.next=S:(S.next=Y.next,Y.next=S),U.pending=S}}m.lanes|=n,S=m.alternate,S!==null&&(S.lanes|=n),Al(m.return,n,r),j.lanes|=n;break}S=S.next}}else if(m.tag===10)g=m.type===r.type?null:m.child;else if(m.tag===18){if(g=m.return,g===null)throw Error(a(341));g.lanes|=n,j=g.alternate,j!==null&&(j.lanes|=n),Al(g,n,r),g=m.sibling}else g=m.child;if(g!==null)g.return=m;else for(g=m;g!==null;){if(g===r){g=null;break}if(m=g.sibling,m!==null){m.return=g.return,g=m;break}g=g.return}m=g}ut(t,r,d.children,n),r=r.child}return r;case 9:return d=r.type,o=r.pendingProps.children,Ps(r,n),d=_t(d),o=o(d),r.flags|=1,ut(t,r,o,n),r.child;case 14:return o=r.type,d=Ot(o,r.pendingProps),d=Ot(o.type,d),fd(t,r,o,d,n);case 15:return pd(t,r,r.type,r.pendingProps,n);case 17:return o=r.type,d=r.pendingProps,d=r.elementType===o?d:Ot(o,d),Qa(t,r),r.tag=1,pt(o)?(t=!0,La(r)):t=!1,Ps(r,n),id(r,o,d),Gl(r,o,d,n),Ql(null,r,o,!0,t,n);case 19:return Nd(t,r,n);case 22:return gd(t,r,n)}throw Error(a(156,r.tag))};function Gd(t,r){return Ec(t,r)}function Pp(t,r,n,o){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(t,r,n,o){return new Pp(t,r,n,o)}function yo(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Tp(t){if(typeof t=="function")return yo(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ce)return 11;if(t===be)return 14}return 2}function Tr(t,r){var n=t.alternate;return n===null?(n=At(t.tag,r,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=r,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,r=t.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function oi(t,r,n,o,d,m){var g=2;if(o=t,typeof t=="function")yo(t)&&(g=1);else if(typeof t=="string")g=5;else e:switch(t){case ne:return ts(n.children,d,m,r);case ve:g=8,d|=8;break;case re:return t=At(12,n,r,d|2),t.elementType=re,t.lanes=m,t;case Ne:return t=At(13,n,r,d),t.elementType=Ne,t.lanes=m,t;case D:return t=At(19,n,r,d),t.elementType=D,t.lanes=m,t;case ge:return ci(n,d,m,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M:g=10;break e;case Te:g=9;break e;case Ce:g=11;break e;case be:g=14;break e;case ie:g=16,o=null;break e}throw Error(a(130,t==null?t:typeof t,""))}return r=At(g,n,r,d),r.elementType=t,r.type=o,r.lanes=m,r}function ts(t,r,n,o){return t=At(7,t,o,r),t.lanes=n,t}function ci(t,r,n,o){return t=At(22,t,o,r),t.elementType=ge,t.lanes=n,t.stateNode={isHidden:!1},t}function vo(t,r,n){return t=At(6,t,null,r),t.lanes=n,t}function bo(t,r,n){return r=At(4,t.children!==null?t.children:[],t.key,r),r.lanes=n,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Ap(t,r,n,o,d){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hi(0),this.expirationTimes=Hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.identifierPrefix=o,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function jo(t,r,n,o,d,m,g,j,S){return t=new Ap(t,r,n,j,S),r===1?(r=1,m===!0&&(r|=8)):r=0,m=At(3,null,null,r),t.current=m,m.stateNode=t,m.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ll(m),t}function Rp(t,r,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:o==null?null:""+o,children:t,containerInfo:r,implementation:n}}function Kd(t){if(!t)return jr;t=t._reactInternals;e:{if(Vr(t)!==t||t.tag!==1)throw Error(a(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(pt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(a(171))}if(t.tag===1){var n=t.type;if(pt(n))return wu(t,n,r)}return r}function Jd(t,r,n,o,d,m,g,j,S){return t=jo(n,o,!0,t,d,m,g,j,S),t.context=Kd(null),n=t.current,o=dt(),d=_r(n),m=nr(o,d),m.callback=r??null,kr(n,m,d),t.current.lanes=d,dn(t,d,o),yt(t,o),t}function ui(t,r,n,o){var d=r.current,m=dt(),g=_r(d);return n=Kd(n),r.context===null?r.context=n:r.pendingContext=n,r=nr(m,g),r.payload={element:t},o=o===void 0?null:o,o!==null&&(r.callback=o),t=kr(d,r,g),t!==null&&(Ut(t,d,g,m),Ba(t,d,g)),g}function di(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yd(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<r?n:r}}function wo(t,r){Yd(t,r),(t=t.alternate)&&Yd(t,r)}function Lp(){return null}var Qd=typeof reportError=="function"?reportError:function(t){console.error(t)};function No(t){this._internalRoot=t}hi.prototype.render=No.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));ui(t,r,null,null)},hi.prototype.unmount=No.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Zr(function(){ui(null,t,null,null)}),r[Xt]=null}};function hi(t){this._internalRoot=t}hi.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ic();t={blockedOn:null,target:t,priority:r};for(var n=0;n<gr.length&&r!==0&&r<gr[n].priority;n++);gr.splice(n,0,t),n===0&&Dc(t)}};function ko(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zd(){}function Ip(t,r,n,o,d){if(d){if(typeof o=="function"){var m=o;o=function(){var U=di(g);m.call(U)}}var g=Jd(r,o,t,0,null,!1,!1,"",Zd);return t._reactRootContainer=g,t[Xt]=g.current,Sn(t.nodeType===8?t.parentNode:t),Zr(),g}for(;d=t.lastChild;)t.removeChild(d);if(typeof o=="function"){var j=o;o=function(){var U=di(S);j.call(U)}}var S=jo(t,0,!1,null,null,!1,!1,"",Zd);return t._reactRootContainer=S,t[Xt]=S.current,Sn(t.nodeType===8?t.parentNode:t),Zr(function(){ui(r,S,n,o)}),S}function fi(t,r,n,o,d){var m=n._reactRootContainer;if(m){var g=m;if(typeof d=="function"){var j=d;d=function(){var S=di(g);j.call(S)}}ui(r,g,t,d)}else g=Ip(n,r,t,d,o);return di(g)}Rc=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var n=un(r.pendingLanes);n!==0&&(Gi(r,n|1),yt(r,qe()),(Ae&6)===0&&(Is=qe()+500,wr()))}break;case 13:Zr(function(){var o=sr(t,1);if(o!==null){var d=dt();Ut(o,t,1,d)}}),wo(t,1)}},Ki=function(t){if(t.tag===13){var r=sr(t,134217728);if(r!==null){var n=dt();Ut(r,t,134217728,n)}wo(t,134217728)}},Lc=function(t){if(t.tag===13){var r=_r(t),n=sr(t,r);if(n!==null){var o=dt();Ut(n,t,r,o)}wo(t,r)}},Ic=function(){return Ie},Oc=function(t,r){var n=Ie;try{return Ie=t,r()}finally{Ie=n}},Fi=function(t,r,n){switch(r){case"input":if(rn(t,n),r=n.name,n.type==="radio"&&r!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<n.length;r++){var o=n[r];if(o!==t&&o.form===t.form){var d=Aa(o);if(!d)throw Error(a(90));Re(o),rn(o,d)}}}break;case"textarea":Se(t,n);break;case"select":r=n.value,r!=null&&hr(t,!!n.multiple,r,!1)}},vc=po,bc=Zr;var Op={usingClientEntryPoint:!1,Events:[_n,js,Aa,xc,yc,po]},$n={findFiberByHostInstance:qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zp={bundleType:$n.bundleType,version:$n.version,rendererPackageName:$n.rendererPackageName,rendererConfig:$n.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kc(t),t===null?null:t.stateNode},findFiberByHostInstance:$n.findFiberByHostInstance||Lp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pi.isDisabled&&pi.supportsFiber)try{ha=pi.inject(zp),Wt=pi}catch{}}return vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Op,vt.createPortal=function(t,r){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ko(r))throw Error(a(200));return Rp(t,r,null,n)},vt.createRoot=function(t,r){if(!ko(t))throw Error(a(299));var n=!1,o="",d=Qd;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=jo(t,1,!1,null,null,n,!1,o,d),t[Xt]=r.current,Sn(t.nodeType===8?t.parentNode:t),new No(r)},vt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=kc(r),t=t===null?null:t.stateNode,t},vt.flushSync=function(t){return Zr(t)},vt.hydrate=function(t,r,n){if(!mi(r))throw Error(a(200));return fi(null,t,r,!0,n)},vt.hydrateRoot=function(t,r,n){if(!ko(t))throw Error(a(405));var o=n!=null&&n.hydratedSources||null,d=!1,m="",g=Qd;if(n!=null&&(n.unstable_strictMode===!0&&(d=!0),n.identifierPrefix!==void 0&&(m=n.identifierPrefix),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),r=Jd(r,null,t,1,n??null,d,!1,m,g),t[Xt]=r.current,Sn(t),o)for(t=0;t<o.length;t++)n=o[t],d=n._getVersion,d=d(n._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[n,d]:r.mutableSourceEagerHydrationData.push(n,d);return new hi(r)},vt.render=function(t,r,n){if(!mi(r))throw Error(a(200));return fi(null,t,r,!1,n)},vt.unmountComponentAtNode=function(t){if(!mi(t))throw Error(a(40));return t._reactRootContainer?(Zr(function(){fi(null,null,t,!1,function(){t._reactRootContainer=null,t[Xt]=null})}),!0):!1},vt.unstable_batchedUpdates=po,vt.unstable_renderSubtreeIntoContainer=function(t,r,n,o){if(!mi(n))throw Error(a(200));if(t==null||t._reactInternals===void 0)throw Error(a(38));return fi(t,r,n,!1,o)},vt.version="18.3.1-next-f1338f8080-20240426",vt}var ih;function Xh(){if(ih)return Co.exports;ih=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(s){console.error(s)}}return i(),Co.exports=Gp(),Co.exports}var lh;function Kp(){if(lh)return gi;lh=1;var i=Xh();return gi.createRoot=i.createRoot,gi.hydrateRoot=i.hydrateRoot,gi}var Jp=Kp();Xh();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qn(){return Qn=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])}return i},Qn.apply(this,arguments)}var zr;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(zr||(zr={}));const oh="popstate";function Yp(i){i===void 0&&(i={});function s(l,c){let{pathname:u,search:h,hash:f}=l.location;return Do("",{pathname:u,search:h,hash:f},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function a(l,c){return typeof c=="string"?c:_i(c)}return Zp(s,a,null,i)}function Ke(i,s){if(i===!1||i===null||typeof i>"u")throw new Error(s)}function em(i,s){if(!i){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Qp(){return Math.random().toString(36).substr(2,8)}function ch(i,s){return{usr:i.state,key:i.key,idx:s}}function Do(i,s,a,l){return a===void 0&&(a=null),Qn({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof s=="string"?Xs(s):s,{state:a,key:s&&s.key||l||Qp()})}function _i(i){let{pathname:s="/",search:a="",hash:l=""}=i;return a&&a!=="?"&&(s+=a.charAt(0)==="?"?a:"?"+a),l&&l!=="#"&&(s+=l.charAt(0)==="#"?l:"#"+l),s}function Xs(i){let s={};if(i){let a=i.indexOf("#");a>=0&&(s.hash=i.substr(a),i=i.substr(0,a));let l=i.indexOf("?");l>=0&&(s.search=i.substr(l),i=i.substr(0,l)),i&&(s.pathname=i)}return s}function Zp(i,s,a,l){l===void 0&&(l={});let{window:c=document.defaultView,v5Compat:u=!1}=l,h=c.history,f=zr.Pop,p=null,y=x();y==null&&(y=0,h.replaceState(Qn({},h.state,{idx:y}),""));function x(){return(h.state||{idx:null}).idx}function v(){f=zr.Pop;let T=x(),F=T==null?null:T-y;y=T,p&&p({action:f,location:V.location,delta:F})}function b(T,F){f=zr.Push;let X=Do(V.location,T,F);y=x()+1;let C=ch(X,y),K=V.createHref(X);try{h.pushState(C,"",K)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;c.location.assign(K)}u&&p&&p({action:f,location:V.location,delta:1})}function E(T,F){f=zr.Replace;let X=Do(V.location,T,F);y=x();let C=ch(X,y),K=V.createHref(X);h.replaceState(C,"",K),u&&p&&p({action:f,location:V.location,delta:0})}function z(T){let F=c.location.origin!=="null"?c.location.origin:c.location.href,X=typeof T=="string"?T:_i(T);return X=X.replace(/ $/,"%20"),Ke(F,"No window.location.(origin|href) available to create URL for href: "+X),new URL(X,F)}let V={get action(){return f},get location(){return i(c,h)},listen(T){if(p)throw new Error("A history only accepts one active listener");return c.addEventListener(oh,v),p=T,()=>{c.removeEventListener(oh,v),p=null}},createHref(T){return s(c,T)},createURL:z,encodeLocation(T){let F=z(T);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:b,replace:E,go(T){return h.go(T)}};return V}var uh;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(uh||(uh={}));function Xp(i,s,a){return a===void 0&&(a="/"),eg(i,s,a)}function eg(i,s,a,l){let c=typeof s=="string"?Xs(s):s,u=nc(c.pathname||"/",a);if(u==null)return null;let h=tm(i);tg(h);let f=null;for(let p=0;f==null&&p<h.length;++p){let y=mg(u);f=ug(h[p],y)}return f}function tm(i,s,a,l){s===void 0&&(s=[]),a===void 0&&(a=[]),l===void 0&&(l="");let c=(u,h,f)=>{let p={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(Ke(p.relativePath.startsWith(l),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(l.length));let y=Dr([l,p.relativePath]),x=a.concat(p);u.children&&u.children.length>0&&(Ke(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),tm(u.children,s,x,y)),!(u.path==null&&!u.index)&&s.push({path:y,score:og(y,u.index),routesMeta:x})};return i.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))c(u,h);else for(let p of rm(u.path))c(u,h,p)}),s}function rm(i){let s=i.split("/");if(s.length===0)return[];let[a,...l]=s,c=a.endsWith("?"),u=a.replace(/\?$/,"");if(l.length===0)return c?[u,""]:[u];let h=rm(l.join("/")),f=[];return f.push(...h.map(p=>p===""?u:[u,p].join("/"))),c&&f.push(...h),f.map(p=>i.startsWith("/")&&p===""?"/":p)}function tg(i){i.sort((s,a)=>s.score!==a.score?a.score-s.score:cg(s.routesMeta.map(l=>l.childrenIndex),a.routesMeta.map(l=>l.childrenIndex)))}const rg=/^:[\w-]+$/,sg=3,ng=2,ag=1,ig=10,lg=-2,dh=i=>i==="*";function og(i,s){let a=i.split("/"),l=a.length;return a.some(dh)&&(l+=lg),s&&(l+=ng),a.filter(c=>!dh(c)).reduce((c,u)=>c+(rg.test(u)?sg:u===""?ag:ig),l)}function cg(i,s){return i.length===s.length&&i.slice(0,-1).every((l,c)=>l===s[c])?i[i.length-1]-s[s.length-1]:0}function ug(i,s,a){let{routesMeta:l}=i,c={},u="/",h=[];for(let f=0;f<l.length;++f){let p=l[f],y=f===l.length-1,x=u==="/"?s:s.slice(u.length)||"/",v=dg({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},x),b=p.route;if(!v)return null;Object.assign(c,v.params),h.push({params:c,pathname:Dr([u,v.pathname]),pathnameBase:xg(Dr([u,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(u=Dr([u,v.pathnameBase]))}return h}function dg(i,s){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[a,l]=hg(i.path,i.caseSensitive,i.end),c=s.match(a);if(!c)return null;let u=c[0],h=u.replace(/(.)\/+$/,"$1"),f=c.slice(1);return{params:l.reduce((y,x,v)=>{let{paramName:b,isOptional:E}=x;if(b==="*"){let V=f[v]||"";h=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const z=f[v];return E&&!z?y[b]=void 0:y[b]=(z||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:i}}function hg(i,s,a){s===void 0&&(s=!1),a===void 0&&(a=!0),em(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let l=[],c="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,p)=>(l.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(l.push({paramName:"*"}),c+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?c+="\\/*$":i!==""&&i!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,s?void 0:"i"),l]}function mg(i){try{return i.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return em(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),i}}function nc(i,s){if(s==="/")return i;if(!i.toLowerCase().startsWith(s.toLowerCase()))return null;let a=s.endsWith("/")?s.length-1:s.length,l=i.charAt(a);return l&&l!=="/"?null:i.slice(a)||"/"}function fg(i,s){s===void 0&&(s="/");let{pathname:a,search:l="",hash:c=""}=typeof i=="string"?Xs(i):i;return{pathname:a?a.startsWith("/")?a:pg(a,s):s,search:yg(l),hash:vg(c)}}function pg(i,s){let a=s.replace(/\/+$/,"").split("/");return i.split("/").forEach(c=>{c===".."?a.length>1&&a.pop():c!=="."&&a.push(c)}),a.length>1?a.join("/"):"/"}function To(i,s,a,l){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gg(i){return i.filter((s,a)=>a===0||s.route.path&&s.route.path.length>0)}function sm(i,s){let a=gg(i);return s?a.map((l,c)=>c===a.length-1?l.pathname:l.pathnameBase):a.map(l=>l.pathnameBase)}function nm(i,s,a,l){l===void 0&&(l=!1);let c;typeof i=="string"?c=Xs(i):(c=Qn({},i),Ke(!c.pathname||!c.pathname.includes("?"),To("?","pathname","search",c)),Ke(!c.pathname||!c.pathname.includes("#"),To("#","pathname","hash",c)),Ke(!c.search||!c.search.includes("#"),To("#","search","hash",c)));let u=i===""||c.pathname==="",h=u?"/":c.pathname,f;if(h==null)f=a;else{let v=s.length-1;if(!l&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),v-=1;c.pathname=b.join("/")}f=v>=0?s[v]:"/"}let p=fg(c,f),y=h&&h!=="/"&&h.endsWith("/"),x=(u||h===".")&&a.endsWith("/");return!p.pathname.endsWith("/")&&(y||x)&&(p.pathname+="/"),p}const Dr=i=>i.join("/").replace(/\/\/+/g,"/"),xg=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),yg=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,vg=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function bg(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const am=["post","put","patch","delete"];new Set(am);const jg=["get",...am];new Set(jg);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zn(){return Zn=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])}return i},Zn.apply(this,arguments)}const ac=w.createContext(null),wg=w.createContext(null),os=w.createContext(null),Ri=w.createContext(null),Fr=w.createContext({outlet:null,matches:[],isDataRoute:!1}),im=w.createContext(null);function Ng(i,s){let{relative:a}=s===void 0?{}:s;ra()||Ke(!1);let{basename:l,navigator:c}=w.useContext(os),{hash:u,pathname:h,search:f}=om(i,{relative:a}),p=h;return l!=="/"&&(p=h==="/"?l:Dr([l,h])),c.createHref({pathname:p,search:f,hash:u})}function ra(){return w.useContext(Ri)!=null}function Yt(){return ra()||Ke(!1),w.useContext(Ri).location}function lm(i){w.useContext(os).static||w.useLayoutEffect(i)}function St(){let{isDataRoute:i}=w.useContext(Fr);return i?zg():kg()}function kg(){ra()||Ke(!1);let i=w.useContext(ac),{basename:s,future:a,navigator:l}=w.useContext(os),{matches:c}=w.useContext(Fr),{pathname:u}=Yt(),h=JSON.stringify(sm(c,a.v7_relativeSplatPath)),f=w.useRef(!1);return lm(()=>{f.current=!0}),w.useCallback(function(y,x){if(x===void 0&&(x={}),!f.current)return;if(typeof y=="number"){l.go(y);return}let v=nm(y,JSON.parse(h),u,x.relative==="path");i==null&&s!=="/"&&(v.pathname=v.pathname==="/"?s:Dr([s,v.pathname])),(x.replace?l.replace:l.push)(v,x.state,x)},[s,l,h,u,i])}function ic(){let{matches:i}=w.useContext(Fr),s=i[i.length-1];return s?s.params:{}}function om(i,s){let{relative:a}=s===void 0?{}:s,{future:l}=w.useContext(os),{matches:c}=w.useContext(Fr),{pathname:u}=Yt(),h=JSON.stringify(sm(c,l.v7_relativeSplatPath));return w.useMemo(()=>nm(i,JSON.parse(h),u,a==="path"),[i,h,u,a])}function Sg(i,s){return Eg(i,s)}function Eg(i,s,a,l){ra()||Ke(!1);let{navigator:c}=w.useContext(os),{matches:u}=w.useContext(Fr),h=u[u.length-1],f=h?h.params:{};h&&h.pathname;let p=h?h.pathnameBase:"/";h&&h.route;let y=Yt(),x;if(s){var v;let T=typeof s=="string"?Xs(s):s;p==="/"||(v=T.pathname)!=null&&v.startsWith(p)||Ke(!1),x=T}else x=y;let b=x.pathname||"/",E=b;if(p!=="/"){let T=p.replace(/^\//,"").split("/");E="/"+b.replace(/^\//,"").split("/").slice(T.length).join("/")}let z=Xp(i,{pathname:E}),V=Ag(z&&z.map(T=>Object.assign({},T,{params:Object.assign({},f,T.params),pathname:Dr([p,c.encodeLocation?c.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?p:Dr([p,c.encodeLocation?c.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),u,a,l);return s&&V?w.createElement(Ri.Provider,{value:{location:Zn({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:zr.Pop}},V):V}function Cg(){let i=Og(),s=bg(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),a=i instanceof Error?i.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},s),a?w.createElement("pre",{style:c},a):null,null)}const _g=w.createElement(Cg,null);class Pg extends w.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,a){return a.location!==s.location||a.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:a.error,location:a.location,revalidation:s.revalidation||a.revalidation}}componentDidCatch(s,a){console.error("React Router caught the following error during render",s,a)}render(){return this.state.error!==void 0?w.createElement(Fr.Provider,{value:this.props.routeContext},w.createElement(im.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Tg(i){let{routeContext:s,match:a,children:l}=i,c=w.useContext(ac);return c&&c.static&&c.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=a.route.id),w.createElement(Fr.Provider,{value:s},l)}function Ag(i,s,a,l){var c;if(s===void 0&&(s=[]),a===void 0&&(a=null),l===void 0&&(l=null),i==null){var u;if(!a)return null;if(a.errors)i=a.matches;else if((u=l)!=null&&u.v7_partialHydration&&s.length===0&&!a.initialized&&a.matches.length>0)i=a.matches;else return null}let h=i,f=(c=a)==null?void 0:c.errors;if(f!=null){let x=h.findIndex(v=>v.route.id&&f?.[v.route.id]!==void 0);x>=0||Ke(!1),h=h.slice(0,Math.min(h.length,x+1))}let p=!1,y=-1;if(a&&l&&l.v7_partialHydration)for(let x=0;x<h.length;x++){let v=h[x];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(y=x),v.route.id){let{loaderData:b,errors:E}=a,z=v.route.loader&&b[v.route.id]===void 0&&(!E||E[v.route.id]===void 0);if(v.route.lazy||z){p=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}return h.reduceRight((x,v,b)=>{let E,z=!1,V=null,T=null;a&&(E=f&&v.route.id?f[v.route.id]:void 0,V=v.route.errorElement||_g,p&&(y<0&&b===0?(Dg("route-fallback"),z=!0,T=null):y===b&&(z=!0,T=v.route.hydrateFallbackElement||null)));let F=s.concat(h.slice(0,b+1)),X=()=>{let C;return E?C=V:z?C=T:v.route.Component?C=w.createElement(v.route.Component,null):v.route.element?C=v.route.element:C=x,w.createElement(Tg,{match:v,routeContext:{outlet:x,matches:F,isDataRoute:a!=null},children:C})};return a&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?w.createElement(Pg,{location:a.location,revalidation:a.revalidation,component:V,error:E,children:X(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):X()},null)}var cm=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(cm||{}),um=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(um||{});function Rg(i){let s=w.useContext(ac);return s||Ke(!1),s}function Lg(i){let s=w.useContext(wg);return s||Ke(!1),s}function Ig(i){let s=w.useContext(Fr);return s||Ke(!1),s}function dm(i){let s=Ig(),a=s.matches[s.matches.length-1];return a.route.id||Ke(!1),a.route.id}function Og(){var i;let s=w.useContext(im),a=Lg(),l=dm();return s!==void 0?s:(i=a.errors)==null?void 0:i[l]}function zg(){let{router:i}=Rg(cm.UseNavigateStable),s=dm(um.UseNavigateStable),a=w.useRef(!1);return lm(()=>{a.current=!0}),w.useCallback(function(c,u){u===void 0&&(u={}),a.current&&(typeof c=="number"?i.navigate(c):i.navigate(c,Zn({fromRouteId:s},u)))},[i,s])}const hh={};function Dg(i,s,a){hh[i]||(hh[i]=!0)}function Ug(i,s){i?.v7_startTransition,i?.v7_relativeSplatPath}function nt(i){Ke(!1)}function Mg(i){let{basename:s="/",children:a=null,location:l,navigationType:c=zr.Pop,navigator:u,static:h=!1,future:f}=i;ra()&&Ke(!1);let p=s.replace(/^\/*/,"/"),y=w.useMemo(()=>({basename:p,navigator:u,static:h,future:Zn({v7_relativeSplatPath:!1},f)}),[p,f,u,h]);typeof l=="string"&&(l=Xs(l));let{pathname:x="/",search:v="",hash:b="",state:E=null,key:z="default"}=l,V=w.useMemo(()=>{let T=nc(x,p);return T==null?null:{location:{pathname:T,search:v,hash:b,state:E,key:z},navigationType:c}},[p,x,v,b,E,z,c]);return V==null?null:w.createElement(os.Provider,{value:y},w.createElement(Ri.Provider,{children:a,value:V}))}function Fg(i){let{children:s,location:a}=i;return Sg(Uo(s),a)}new Promise(()=>{});function Uo(i,s){s===void 0&&(s=[]);let a=[];return w.Children.forEach(i,(l,c)=>{if(!w.isValidElement(l))return;let u=[...s,c];if(l.type===w.Fragment){a.push.apply(a,Uo(l.props.children,u));return}l.type!==nt&&Ke(!1),!l.props.index||!l.props.children||Ke(!1);let h={id:l.props.id||u.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(h.children=Uo(l.props.children,u)),a.push(h)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mo(){return Mo=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])}return i},Mo.apply(this,arguments)}function Bg(i,s){if(i==null)return{};var a={},l=Object.keys(i),c,u;for(u=0;u<l.length;u++)c=l[u],!(s.indexOf(c)>=0)&&(a[c]=i[c]);return a}function $g(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Vg(i,s){return i.button===0&&(!s||s==="_self")&&!$g(i)}function Fo(i){return i===void 0&&(i=""),new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((s,a)=>{let l=i[a];return s.concat(Array.isArray(l)?l.map(c=>[a,c]):[[a,l]])},[]))}function qg(i,s){let a=Fo(i);return s&&s.forEach((l,c)=>{a.has(c)||s.getAll(c).forEach(u=>{a.append(c,u)})}),a}const Wg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Hg="6";try{window.__reactRouterVersion=Hg}catch{}const Gg="startTransition",mh=qp[Gg];function Kg(i){let{basename:s,children:a,future:l,window:c}=i,u=w.useRef();u.current==null&&(u.current=Yp({window:c,v5Compat:!0}));let h=u.current,[f,p]=w.useState({action:h.action,location:h.location}),{v7_startTransition:y}=l||{},x=w.useCallback(v=>{y&&mh?mh(()=>p(v)):p(v)},[p,y]);return w.useLayoutEffect(()=>h.listen(x),[h,x]),w.useEffect(()=>Ug(l),[l]),w.createElement(Mg,{basename:s,children:a,location:f.location,navigationType:f.action,navigator:h,future:l})}const Jg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Yg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=w.forwardRef(function(s,a){let{onClick:l,relative:c,reloadDocument:u,replace:h,state:f,target:p,to:y,preventScrollReset:x,viewTransition:v}=s,b=Bg(s,Wg),{basename:E}=w.useContext(os),z,V=!1;if(typeof y=="string"&&Yg.test(y)&&(z=y,Jg))try{let C=new URL(window.location.href),K=y.startsWith("//")?new URL(C.protocol+y):new URL(y),R=nc(K.pathname,E);K.origin===C.origin&&R!=null?y=R+K.search+K.hash:V=!0}catch{}let T=Ng(y,{relative:c}),F=Qg(y,{replace:h,state:f,target:p,preventScrollReset:x,relative:c,viewTransition:v});function X(C){l&&l(C),C.defaultPrevented||F(C)}return w.createElement("a",Mo({},b,{href:z||T,onClick:V||u?l:X,ref:a,target:p}))});var fh;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(fh||(fh={}));var ph;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(ph||(ph={}));function Qg(i,s){let{target:a,replace:l,state:c,preventScrollReset:u,relative:h,viewTransition:f}=s===void 0?{}:s,p=St(),y=Yt(),x=om(i,{relative:h});return w.useCallback(v=>{if(Vg(v,a)){v.preventDefault();let b=l!==void 0?l:_i(y)===_i(x);p(i,{replace:b,state:c,preventScrollReset:u,relative:h,viewTransition:f})}},[y,p,x,l,c,a,i,u,h,f])}function Zg(i){let s=w.useRef(Fo(i)),a=w.useRef(!1),l=Yt(),c=w.useMemo(()=>qg(l.search,a.current?null:s.current),[l.search]),u=St(),h=w.useCallback((f,p)=>{const y=Fo(typeof f=="function"?f(c):f);a.current=!0,u("?"+y,p)},[u,c]);return[c,h]}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),pe=(i,s)=>{const a=w.forwardRef(({color:l="currentColor",size:c=24,strokeWidth:u=2,absoluteStrokeWidth:h,className:f="",children:p,...y},x)=>w.createElement("svg",{ref:x,...Xg,width:c,height:c,stroke:l,strokeWidth:h?Number(u)*24/Number(c):u,className:["lucide",`lucide-${ex(i)}`,f].join(" "),...y},[...s.map(([v,b])=>w.createElement(v,b)),...Array.isArray(p)?p:[p]]));return a.displayName=`${i}`,a};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=pe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=pe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=pe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=pe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=pe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=pe("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=pe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=pe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=pe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=pe("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=pe("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=pe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=pe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=pe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=pe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=pe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=pe("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2h0a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"8ur5zv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=pe("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=pe("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=pe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=pe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=pe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=pe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=pe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=pe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=pe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=pe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=pe("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=pe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=pe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=pe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=pe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=pe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),yx="modulepreload",vx=function(i){return"/"+i},Nh={},na=function(s,a,l){let c=Promise.resolve();if(a&&a.length>0){let y=function(x){return Promise.all(x.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var h=y;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=f?.nonce||f?.getAttribute("nonce");c=y(a.map(x=>{if(x=vx(x),x in Nh)return;Nh[x]=!0;const v=x.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${b}`))return;const E=document.createElement("link");if(E.rel=v?"stylesheet":yx,v||(E.as="script"),E.crossOrigin="",E.href=x,p&&E.setAttribute("nonce",p),document.head.appendChild(E),v)return new Promise((z,V)=>{E.addEventListener("load",z),E.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${x}`)))})}))}function u(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return c.then(f=>{for(const p of f||[])p.status==="rejected"&&u(p.reason);return s().catch(u)})},bx=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>na(async()=>{const{default:l}=await Promise.resolve().then(()=>tn);return{default:l}},void 0).then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)};class oc extends Error{constructor(s,a="FunctionsError",l){super(s),this.name=a,this.context=l}}class jx extends oc{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class wx extends oc{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class Nx extends oc{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var Ko;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Ko||(Ko={}));var kx=function(i,s,a,l){function c(u){return u instanceof a?u:new a(function(h){h(u)})}return new(a||(a=Promise))(function(u,h){function f(x){try{y(l.next(x))}catch(v){h(v)}}function p(x){try{y(l.throw(x))}catch(v){h(v)}}function y(x){x.done?u(x.value):c(x.value).then(f,p)}y((l=l.apply(i,s||[])).next())})};class Sx{constructor(s,{headers:a={},customFetch:l,region:c=Ko.Any}={}){this.url=s,this.headers=a,this.region=c,this.fetch=bx(l)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s,a={}){var l;return kx(this,void 0,void 0,function*(){try{const{headers:c,method:u,body:h}=a;let f={},{region:p}=a;p||(p=this.region),p&&p!=="any"&&(f["x-region"]=p);let y;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=h):typeof h=="string"?(f["Content-Type"]="text/plain",y=h):typeof FormData<"u"&&h instanceof FormData?y=h:(f["Content-Type"]="application/json",y=JSON.stringify(h)));const x=yield this.fetch(`${this.url}/${s}`,{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),c),body:y}).catch(z=>{throw new jx(z)}),v=x.headers.get("x-relay-error");if(v&&v==="true")throw new wx(x);if(!x.ok)throw new Nx(x);let b=((l=x.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),E;return b==="application/json"?E=yield x.json():b==="application/octet-stream"?E=yield x.blob():b==="text/event-stream"?E=x:b==="multipart/form-data"?E=yield x.formData():E=yield x.text(),{data:E,error:null}}catch(c){return{data:null,error:c}}})}}var et={},zs={},Ds={},Us={},Ms={},Fs={},Ex=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Qs=Ex();const Cx=Qs.fetch,gm=Qs.fetch.bind(Qs),xm=Qs.Headers,_x=Qs.Request,Px=Qs.Response,tn=Object.freeze(Object.defineProperty({__proto__:null,Headers:xm,Request:_x,Response:Px,default:gm,fetch:Cx},Symbol.toStringTag,{value:"Module"})),Tx=Mp(tn);var xi={},kh;function ym(){if(kh)return xi;kh=1,Object.defineProperty(xi,"__esModule",{value:!0});class i extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return xi.default=i,xi}var Sh;function vm(){if(Sh)return Fs;Sh=1;var i=Fs&&Fs.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Fs,"__esModule",{value:!0});const s=i(Tx),a=i(ym());class l{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=s.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,h){return this.headers=Object.assign({},this.headers),this.headers[u]=h,this}then(u,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const f=this.fetch;let p=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var x,v,b;let E=null,z=null,V=null,T=y.status,F=y.statusText;if(y.ok){if(this.method!=="HEAD"){const R=await y.text();R===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?z=R:z=JSON.parse(R))}const C=(x=this.headers.Prefer)===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),K=(v=y.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");C&&K&&K.length>1&&(V=parseInt(K[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(z)&&(z.length>1?(E={code:"PGRST116",details:`Results contain ${z.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},z=null,V=null,T=406,F="Not Acceptable"):z.length===1?z=z[0]:z=null)}else{const C=await y.text();try{E=JSON.parse(C),Array.isArray(E)&&y.status===404&&(z=[],E=null,T=200,F="OK")}catch{y.status===404&&C===""?(T=204,F="No Content"):E={message:C}}if(E&&this.isMaybeSingle&&(!((b=E?.details)===null||b===void 0)&&b.includes("0 rows"))&&(E=null,T=200,F="OK"),E&&this.shouldThrowOnError)throw new a.default(E)}return{error:E,data:z,count:V,status:T,statusText:F}});return this.shouldThrowOnError||(p=p.catch(y=>{var x,v,b;return{error:{message:`${(x=y?.name)!==null&&x!==void 0?x:"FetchError"}: ${y?.message}`,details:`${(v=y?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(b=y?.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),p.then(u,h)}returns(){return this}overrideTypes(){return this}}return Fs.default=l,Fs}var Eh;function bm(){if(Eh)return Ms;Eh=1;var i=Ms&&Ms.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ms,"__esModule",{value:!0});const s=i(vm());class a extends s.default{select(c){let u=!1;const h=(c??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",h),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(c,{ascending:u=!0,nullsFirst:h,foreignTable:f,referencedTable:p=f}={}){const y=p?`${p}.order`:"order",x=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${x?`${x},`:""}${c}.${u?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:u,referencedTable:h=u}={}){const f=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(f,`${c}`),this}range(c,u,{foreignTable:h,referencedTable:f=h}={}){const p=typeof f>"u"?"offset":`${f}.offset`,y=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${c}`),this.url.searchParams.set(y,`${u-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:c=!1,verbose:u=!1,settings:h=!1,buffers:f=!1,wal:p=!1,format:y="text"}={}){var x;const v=[c?"analyze":null,u?"verbose":null,h?"settings":null,f?"buffers":null,p?"wal":null].filter(Boolean).join("|"),b=(x=this.headers.Accept)!==null&&x!==void 0?x:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${y}; for="${b}"; options=${v};`,y==="json"?this:this}rollback(){var c;return((c=this.headers.Prefer)!==null&&c!==void 0?c:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Ms.default=a,Ms}var Ch;function cc(){if(Ch)return Us;Ch=1;var i=Us&&Us.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Us,"__esModule",{value:!0});const s=i(bm());class a extends s.default{eq(c,u){return this.url.searchParams.append(c,`eq.${u}`),this}neq(c,u){return this.url.searchParams.append(c,`neq.${u}`),this}gt(c,u){return this.url.searchParams.append(c,`gt.${u}`),this}gte(c,u){return this.url.searchParams.append(c,`gte.${u}`),this}lt(c,u){return this.url.searchParams.append(c,`lt.${u}`),this}lte(c,u){return this.url.searchParams.append(c,`lte.${u}`),this}like(c,u){return this.url.searchParams.append(c,`like.${u}`),this}likeAllOf(c,u){return this.url.searchParams.append(c,`like(all).{${u.join(",")}}`),this}likeAnyOf(c,u){return this.url.searchParams.append(c,`like(any).{${u.join(",")}}`),this}ilike(c,u){return this.url.searchParams.append(c,`ilike.${u}`),this}ilikeAllOf(c,u){return this.url.searchParams.append(c,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(c,u){return this.url.searchParams.append(c,`ilike(any).{${u.join(",")}}`),this}is(c,u){return this.url.searchParams.append(c,`is.${u}`),this}in(c,u){const h=Array.from(new Set(u)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(c,`in.(${h})`),this}contains(c,u){return typeof u=="string"?this.url.searchParams.append(c,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(c,`cs.{${u.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(u)}`),this}containedBy(c,u){return typeof u=="string"?this.url.searchParams.append(c,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(c,`cd.{${u.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(u)}`),this}rangeGt(c,u){return this.url.searchParams.append(c,`sr.${u}`),this}rangeGte(c,u){return this.url.searchParams.append(c,`nxl.${u}`),this}rangeLt(c,u){return this.url.searchParams.append(c,`sl.${u}`),this}rangeLte(c,u){return this.url.searchParams.append(c,`nxr.${u}`),this}rangeAdjacent(c,u){return this.url.searchParams.append(c,`adj.${u}`),this}overlaps(c,u){return typeof u=="string"?this.url.searchParams.append(c,`ov.${u}`):this.url.searchParams.append(c,`ov.{${u.join(",")}}`),this}textSearch(c,u,{config:h,type:f}={}){let p="";f==="plain"?p="pl":f==="phrase"?p="ph":f==="websearch"&&(p="w");const y=h===void 0?"":`(${h})`;return this.url.searchParams.append(c,`${p}fts${y}.${u}`),this}match(c){return Object.entries(c).forEach(([u,h])=>{this.url.searchParams.append(u,`eq.${h}`)}),this}not(c,u,h){return this.url.searchParams.append(c,`not.${u}.${h}`),this}or(c,{foreignTable:u,referencedTable:h=u}={}){const f=h?`${h}.or`:"or";return this.url.searchParams.append(f,`(${c})`),this}filter(c,u,h){return this.url.searchParams.append(c,`${u}.${h}`),this}}return Us.default=a,Us}var _h;function jm(){if(_h)return Ds;_h=1;var i=Ds&&Ds.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ds,"__esModule",{value:!0});const s=i(cc());class a{constructor(c,{headers:u={},schema:h,fetch:f}){this.url=c,this.headers=u,this.schema=h,this.fetch=f}select(c,{head:u=!1,count:h}={}){const f=u?"HEAD":"GET";let p=!1;const y=(c??"*").split("").map(x=>/\s/.test(x)&&!p?"":(x==='"'&&(p=!p),x)).join("");return this.url.searchParams.set("select",y),h&&(this.headers.Prefer=`count=${h}`),new s.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(c,{count:u,defaultToNull:h=!0}={}){const f="POST",p=[];if(this.headers.Prefer&&p.push(this.headers.Prefer),u&&p.push(`count=${u}`),h||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(c)){const y=c.reduce((x,v)=>x.concat(Object.keys(v)),[]);if(y.length>0){const x=[...new Set(y)].map(v=>`"${v}"`);this.url.searchParams.set("columns",x.join(","))}}return new s.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}upsert(c,{onConflict:u,ignoreDuplicates:h=!1,count:f,defaultToNull:p=!0}={}){const y="POST",x=[`resolution=${h?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&x.push(this.headers.Prefer),f&&x.push(`count=${f}`),p||x.push("missing=default"),this.headers.Prefer=x.join(","),Array.isArray(c)){const v=c.reduce((b,E)=>b.concat(Object.keys(E)),[]);if(v.length>0){const b=[...new Set(v)].map(E=>`"${E}"`);this.url.searchParams.set("columns",b.join(","))}}return new s.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}update(c,{count:u}={}){const h="PATCH",f=[];return this.headers.Prefer&&f.push(this.headers.Prefer),u&&f.push(`count=${u}`),this.headers.Prefer=f.join(","),new s.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}delete({count:c}={}){const u="DELETE",h=[];return c&&h.push(`count=${c}`),this.headers.Prefer&&h.unshift(this.headers.Prefer),this.headers.Prefer=h.join(","),new s.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Ds.default=a,Ds}var qn={},Wn={},Ph;function Ax(){return Ph||(Ph=1,Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.version=void 0,Wn.version="0.0.0-automated"),Wn}var Th;function Rx(){if(Th)return qn;Th=1,Object.defineProperty(qn,"__esModule",{value:!0}),qn.DEFAULT_HEADERS=void 0;const i=Ax();return qn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${i.version}`},qn}var Ah;function Lx(){if(Ah)return zs;Ah=1;var i=zs&&zs.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(zs,"__esModule",{value:!0});const s=i(jm()),a=i(cc()),l=Rx();class c{constructor(h,{headers:f={},schema:p,fetch:y}={}){this.url=h,this.headers=Object.assign(Object.assign({},l.DEFAULT_HEADERS),f),this.schemaName=p,this.fetch=y}from(h){const f=new URL(`${this.url}/${h}`);return new s.default(f,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(h){return new c(this.url,{headers:this.headers,schema:h,fetch:this.fetch})}rpc(h,f={},{head:p=!1,get:y=!1,count:x}={}){let v;const b=new URL(`${this.url}/rpc/${h}`);let E;p||y?(v=p?"HEAD":"GET",Object.entries(f).filter(([V,T])=>T!==void 0).map(([V,T])=>[V,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([V,T])=>{b.searchParams.append(V,T)})):(v="POST",E=f);const z=Object.assign({},this.headers);return x&&(z.Prefer=`count=${x}`),new a.default({method:v,url:b,headers:z,schema:this.schemaName,body:E,fetch:this.fetch,allowEmpty:!1})}}return zs.default=c,zs}var Rh;function Ix(){if(Rh)return et;Rh=1;var i=et&&et.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(et,"__esModule",{value:!0}),et.PostgrestError=et.PostgrestBuilder=et.PostgrestTransformBuilder=et.PostgrestFilterBuilder=et.PostgrestQueryBuilder=et.PostgrestClient=void 0;const s=i(Lx());et.PostgrestClient=s.default;const a=i(jm());et.PostgrestQueryBuilder=a.default;const l=i(cc());et.PostgrestFilterBuilder=l.default;const c=i(bm());et.PostgrestTransformBuilder=c.default;const u=i(vm());et.PostgrestBuilder=u.default;const h=i(ym());return et.PostgrestError=h.default,et.default={PostgrestClient:s.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:u.default,PostgrestError:h.default},et}var Ox=Ix();const zx=Zh(Ox),{PostgrestClient:Dx,PostgrestQueryBuilder:lv,PostgrestFilterBuilder:ov,PostgrestTransformBuilder:cv,PostgrestBuilder:uv,PostgrestError:dv}=zx;let Jo;typeof window>"u"?Jo=require("ws"):Jo=window.WebSocket;const Ux="2.11.10",Mx={"X-Client-Info":`realtime-js/${Ux}`},Fx="1.0.0",wm=1e4,Bx=1e3;var Ks;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Ks||(Ks={}));var ht;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(ht||(ht={}));var Ft;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Ft||(Ft={}));var Yo;(function(i){i.websocket="websocket"})(Yo||(Yo={}));var ns;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(ns||(ns={}));class $x{constructor(){this.HEADER_LENGTH=1}decode(s,a){return s.constructor===ArrayBuffer?a(this._binaryDecode(s)):a(typeof s=="string"?JSON.parse(s):{})}_binaryDecode(s){const a=new DataView(s),l=new TextDecoder;return this._decodeBroadcast(s,a,l)}_decodeBroadcast(s,a,l){const c=a.getUint8(1),u=a.getUint8(2);let h=this.HEADER_LENGTH+2;const f=l.decode(s.slice(h,h+c));h=h+c;const p=l.decode(s.slice(h,h+u));h=h+u;const y=JSON.parse(l.decode(s.slice(h,s.byteLength)));return{ref:null,topic:f,event:p,payload:y}}}class Nm{constructor(s,a){this.callback=s,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(ze||(ze={}));const Lh=(i,s,a={})=>{var l;const c=(l=a.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(s).reduce((u,h)=>(u[h]=Vx(h,i,s,c),u),{})},Vx=(i,s,a,l)=>{const c=s.find(f=>f.name===i),u=c?.type,h=a[i];return u&&!l.includes(u)?km(u,h):Qo(h)},km=(i,s)=>{if(i.charAt(0)==="_"){const a=i.slice(1,i.length);return Gx(s,a)}switch(i){case ze.bool:return qx(s);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return Wx(s);case ze.json:case ze.jsonb:return Hx(s);case ze.timestamp:return Kx(s);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return Qo(s);default:return Qo(s)}},Qo=i=>i,qx=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Wx=i=>{if(typeof i=="string"){const s=parseFloat(i);if(!Number.isNaN(s))return s}return i},Hx=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(s){return console.log(`JSON parse error: ${s}`),i}return i},Gx=(i,s)=>{if(typeof i!="string")return i;const a=i.length-1,l=i[a];if(i[0]==="{"&&l==="}"){let u;const h=i.slice(1,a);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(f=>km(s,f))}return i},Kx=i=>typeof i=="string"?i.replace(" ","T"):i,Sm=i=>{let s=i;return s=s.replace(/^ws/i,"http"),s=s.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),s.replace(/\/+$/,"")};class Ao{constructor(s,a,l={},c=wm){this.channel=s,this.event=a,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,a){var l;return this._hasReceived(s)&&a((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:s,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:a}){this.recHooks.filter(l=>l.status===s).forEach(l=>l.callback(a))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var Ih;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Ih||(Ih={}));class Kn{constructor(s,a){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=a?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:u,onLeave:h,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kn.syncState(this.state,c,u,h),this.pendingDiffs.forEach(p=>{this.state=Kn.syncDiff(this.state,p,u,h)}),this.pendingDiffs=[],f()}),this.channel._on(l.diff,{},c=>{const{onJoin:u,onLeave:h,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Kn.syncDiff(this.state,c,u,h),f())}),this.onJoin((c,u,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:u,newPresences:h})}),this.onLeave((c,u,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,a,l,c){const u=this.cloneDeep(s),h=this.transformState(a),f={},p={};return this.map(u,(y,x)=>{h[y]||(p[y]=x)}),this.map(h,(y,x)=>{const v=u[y];if(v){const b=x.map(T=>T.presence_ref),E=v.map(T=>T.presence_ref),z=x.filter(T=>E.indexOf(T.presence_ref)<0),V=v.filter(T=>b.indexOf(T.presence_ref)<0);z.length>0&&(f[y]=z),V.length>0&&(p[y]=V)}else f[y]=x}),this.syncDiff(u,{joins:f,leaves:p},l,c)}static syncDiff(s,a,l,c){const{joins:u,leaves:h}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(u,(f,p)=>{var y;const x=(y=s[f])!==null&&y!==void 0?y:[];if(s[f]=this.cloneDeep(p),x.length>0){const v=s[f].map(E=>E.presence_ref),b=x.filter(E=>v.indexOf(E.presence_ref)<0);s[f].unshift(...b)}l(f,x,p)}),this.map(h,(f,p)=>{let y=s[f];if(!y)return;const x=p.map(v=>v.presence_ref);y=y.filter(v=>x.indexOf(v.presence_ref)<0),s[f]=y,c(f,y,p),y.length===0&&delete s[f]}),s}static map(s,a){return Object.getOwnPropertyNames(s).map(l=>a(l,s[l]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((a,l)=>{const c=s[l];return"metas"in c?a[l]=c.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):a[l]=c,a},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Oh;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Oh||(Oh={}));var zh;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(zh||(zh={}));var or;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(or||(or={}));class uc{constructor(s,a={config:{}},l){this.topic=s,this.params=a,this.socket=l,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Ao(this,Ft.join,this.params,this.timeout),this.rejoinTimer=new Nm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ft.reply,{},(c,u)=>{this._trigger(this._replyEventName(u),c)}),this.presence=new Kn(this),this.broadcastEndpointURL=Sm(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(s,a=this.timeout){var l,c;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:u,presence:h,private:f}}=this.params;this._onError(x=>s?.(or.CHANNEL_ERROR,x)),this._onClose(()=>s?.(or.CLOSED));const p={},y={broadcast:u,presence:h,postgres_changes:(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(x=>x.filter))!==null&&c!==void 0?c:[],private:f};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:y},p)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:x})=>{var v;if(this.socket.setAuth(),x===void 0){s?.(or.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,E=(v=b?.length)!==null&&v!==void 0?v:0,z=[];for(let V=0;V<E;V++){const T=b[V],{filter:{event:F,schema:X,table:C,filter:K}}=T,R=x&&x[V];if(R&&R.event===F&&R.schema===X&&R.table===C&&R.filter===K)z.push(Object.assign(Object.assign({},T),{id:R.id}));else{this.unsubscribe(),this.state=ht.errored,s?.(or.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=z,s&&s(or.SUBSCRIBED);return}}).receive("error",x=>{this.state=ht.errored,s?.(or.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{s?.(or.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,a={}){return await this.send({type:"presence",event:"track",payload:s},a.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,a,l){return this._on(s,a,l)}async send(s,a={}){var l,c;if(!this._canPush()&&s.type==="broadcast"){const{event:u,payload:h}=s,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(l=a.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=y.body)===null||c===void 0?void 0:c.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,f,p;const y=this._push(s.type,s,a.timeout||this.timeout);s.type==="broadcast"&&!(!((p=(f=(h=this.params)===null||h===void 0?void 0:h.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),y.receive("ok",()=>u("ok")),y.receive("error",()=>u("error")),y.receive("timeout",()=>u("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=ht.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ft.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(l=>{const c=new Ao(this,Ft.leave,{},s);c.receive("ok",()=>{a(),l("ok")}).receive("timeout",()=>{a(),l("timed out")}).receive("error",()=>{l("error")}),c.send(),this._canPush()||c.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(s=>s.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(s,a,l){const c=new AbortController,u=setTimeout(()=>c.abort(),l),h=await this.socket.fetch(s,Object.assign(Object.assign({},a),{signal:c.signal}));return clearTimeout(u),h}_push(s,a,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Ao(this,s,a,l);return this._canPush()?c.send():(c.startTimeout(),this.pushBuffer.push(c)),c}_onMessage(s,a,l){return a}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,a,l){var c,u;const h=s.toLocaleLowerCase(),{close:f,error:p,leave:y,join:x}=Ft;if(l&&[f,p,y,x].indexOf(h)>=0&&l!==this._joinRef())return;let b=this._onMessage(h,a,l);if(a&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(E=>{var z,V,T;return((z=E.filter)===null||z===void 0?void 0:z.event)==="*"||((T=(V=E.filter)===null||V===void 0?void 0:V.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===h}).map(E=>E.callback(b,l)):(u=this.bindings[h])===null||u===void 0||u.filter(E=>{var z,V,T,F,X,C;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in E){const K=E.id,R=(z=E.filter)===null||z===void 0?void 0:z.event;return K&&((V=a.ids)===null||V===void 0?void 0:V.includes(K))&&(R==="*"||R?.toLocaleLowerCase()===((T=a.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const K=(X=(F=E?.filter)===null||F===void 0?void 0:F.event)===null||X===void 0?void 0:X.toLocaleLowerCase();return K==="*"||K===((C=a?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===h}).map(E=>{if(typeof b=="object"&&"ids"in b){const z=b.data,{schema:V,table:T,commit_timestamp:F,type:X,errors:C}=z;b=Object.assign(Object.assign({},{schema:V,table:T,commit_timestamp:F,eventType:X,new:{},old:{},errors:C}),this._getPayloadRecords(z))}E.callback(b,l)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,a,l){const c=s.toLocaleLowerCase(),u={type:c,filter:a,callback:l};return this.bindings[c]?this.bindings[c].push(u):this.bindings[c]=[u],this}_off(s,a){const l=s.toLocaleLowerCase();return this.bindings[l]=this.bindings[l].filter(c=>{var u;return!(((u=c.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===l&&uc.isEqual(c.filter,a))}),this}static isEqual(s,a){if(Object.keys(s).length!==Object.keys(a).length)return!1;for(const l in s)if(s[l]!==a[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(Ft.close,{},s)}_onError(s){this._on(Ft.error,{},a=>s(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const a={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(a.new=Lh(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(a.old=Lh(s.columns,s.old_record)),a}}const Dh=()=>{},Jx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Yx{constructor(s,a){var l;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Mx,this.params={},this.timeout=wm,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Dh,this.ref=0,this.logger=Dh,this.conn=null,this.sendBuffer=[],this.serializer=new $x,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let h;return u?h=u:typeof fetch>"u"?h=(...f)=>na(async()=>{const{default:p}=await Promise.resolve().then(()=>tn);return{default:p}},void 0).then(({default:p})=>p(...f)):h=fetch,(...f)=>h(...f)},this.endPoint=`${s}/${Yo.websocket}`,this.httpEndpoint=Sm(s),a?.transport?this.transport=a.transport:this.transport=null,a?.params&&(this.params=a.params),a?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),a.headers)),a?.timeout&&(this.timeout=a.timeout),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),a?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=a.heartbeatIntervalMs);const c=(l=a?.params)===null||l===void 0?void 0:l.apikey;if(c&&(this.accessTokenValue=c,this.apiKey=c),this.reconnectAfterMs=a?.reconnectAfterMs?a.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=a?.encode?a.encode:(u,h)=>h(JSON.stringify(u)),this.decode=a?.decode?a.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Nm(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(a?.fetch),a?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=a?.worker||!1,this.workerUrl=a?.workerUrl}this.accessToken=a?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=Jo),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Qx(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Fx}))}disconnect(s,a){this.conn&&(this.conn.onclose=function(){},s?this.conn.close(s,a??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(l=>l.teardown()))}getChannels(){return this.channels}async removeChannel(s){const a=await s.unsubscribe();return this.channels=this.channels.filter(l=>l._joinRef!==s._joinRef),this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const s=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),s}log(s,a,l){this.logger(s,a,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Ks.connecting:return ns.Connecting;case Ks.open:return ns.Open;case Ks.closing:return ns.Closing;default:return ns.Closed}}isConnected(){return this.connectionState()===ns.Open}channel(s,a={config:{}}){const l=`realtime:${s}`,c=this.getChannels().find(u=>u.topic===l);if(c)return c;{const u=new uc(`realtime:${s}`,a,this);return this.channels.push(u),u}}push(s){const{topic:a,event:l,payload:c,ref:u}=s,h=()=>{this.encode(s,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${a} ${l} (${u})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(s=null){let a=s||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(l=>{a&&l.updateJoinPayload({access_token:a,version:this.headers&&this.headers["X-Client-Info"]}),l.joinedOnce&&l._isJoined()&&l._push(Ft.access_token,{access_token:a})}))}async sendHeartbeat(){var s;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(s=this.conn)===null||s===void 0||s.close(Bx,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(s){this.heartbeatCallback=s}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let a=this.channels.find(l=>l.topic===s&&(l._isJoined()||l._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${s}"`),a.unsubscribe())}_remove(s){this.channels=this.channels.filter(a=>a.topic!==s.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s))}_onConnMessage(s){this.decode(s.data,a=>{let{topic:l,event:c,payload:u,ref:h}=a;l==="phoenix"&&c==="phx_reply"&&this.heartbeatCallback(a.payload.status=="ok"?"ok":"error"),h&&h===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${l} ${c} ${h&&"("+h+")"||""}`,u),Array.from(this.channels).filter(f=>f._isMember(l)).forEach(f=>f._trigger(c,u,h)),this.stateChangeCallbacks.message.forEach(f=>f(a))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(s=>s())}_onConnClose(s){this.log("transport","close",s),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(a=>a(s))}_onConnError(s){this.log("transport",s.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(a=>a(s))}_triggerChanError(){this.channels.forEach(s=>s._trigger(Ft.error))}_appendParams(s,a){if(Object.keys(a).length===0)return s;const l=s.match(/\?/)?"&":"?",c=new URLSearchParams(a);return`${s}${l}${c}`}_workerObjectUrl(s){let a;if(s)a=s;else{const l=new Blob([Jx],{type:"application/javascript"});a=URL.createObjectURL(l)}return a}}class Qx{constructor(s,a,l){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ks.connecting,this.send=()=>{},this.url=null,this.url=s,this.close=l.close}}class dc extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}}function tt(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class Zx extends dc{constructor(s,a){super(s),this.name="StorageApiError",this.status=a}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Zo extends dc{constructor(s,a){super(s),this.name="StorageUnknownError",this.originalError=a}}var Xx=function(i,s,a,l){function c(u){return u instanceof a?u:new a(function(h){h(u)})}return new(a||(a=Promise))(function(u,h){function f(x){try{y(l.next(x))}catch(v){h(v)}}function p(x){try{y(l.throw(x))}catch(v){h(v)}}function y(x){x.done?u(x.value):c(x.value).then(f,p)}y((l=l.apply(i,s||[])).next())})};const Em=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>na(async()=>{const{default:l}=await Promise.resolve().then(()=>tn);return{default:l}},void 0).then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},e0=()=>Xx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield na(()=>Promise.resolve().then(()=>tn),void 0)).Response:Response}),Xo=i=>{if(Array.isArray(i))return i.map(a=>Xo(a));if(typeof i=="function"||i!==Object(i))return i;const s={};return Object.entries(i).forEach(([a,l])=>{const c=a.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));s[c]=Xo(l)}),s};var us=function(i,s,a,l){function c(u){return u instanceof a?u:new a(function(h){h(u)})}return new(a||(a=Promise))(function(u,h){function f(x){try{y(l.next(x))}catch(v){h(v)}}function p(x){try{y(l.throw(x))}catch(v){h(v)}}function y(x){x.done?u(x.value):c(x.value).then(f,p)}y((l=l.apply(i,s||[])).next())})};const Ro=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),t0=(i,s,a)=>us(void 0,void 0,void 0,function*(){const l=yield e0();i instanceof l&&!a?.noResolveJson?i.json().then(c=>{s(new Zx(Ro(c),i.status||500))}).catch(c=>{s(new Zo(Ro(c),c))}):s(new Zo(Ro(i),i))}),r0=(i,s,a,l)=>{const c={method:i,headers:s?.headers||{}};return i==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json"},s?.headers),l&&(c.body=JSON.stringify(l)),Object.assign(Object.assign({},c),a))};function aa(i,s,a,l,c,u){return us(this,void 0,void 0,function*(){return new Promise((h,f)=>{i(a,r0(s,l,c,u)).then(p=>{if(!p.ok)throw p;return l?.noResolveJson?p:p.json()}).then(p=>h(p)).catch(p=>t0(p,f,l))})})}function Ti(i,s,a,l){return us(this,void 0,void 0,function*(){return aa(i,"GET",s,a,l)})}function Lr(i,s,a,l,c){return us(this,void 0,void 0,function*(){return aa(i,"POST",s,l,c,a)})}function s0(i,s,a,l,c){return us(this,void 0,void 0,function*(){return aa(i,"PUT",s,l,c,a)})}function n0(i,s,a,l){return us(this,void 0,void 0,function*(){return aa(i,"HEAD",s,Object.assign(Object.assign({},a),{noResolveJson:!0}),l)})}function Cm(i,s,a,l,c){return us(this,void 0,void 0,function*(){return aa(i,"DELETE",s,l,c,a)})}var bt=function(i,s,a,l){function c(u){return u instanceof a?u:new a(function(h){h(u)})}return new(a||(a=Promise))(function(u,h){function f(x){try{y(l.next(x))}catch(v){h(v)}}function p(x){try{y(l.throw(x))}catch(v){h(v)}}function y(x){x.done?u(x.value):c(x.value).then(f,p)}y((l=l.apply(i,s||[])).next())})};const a0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Uh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class i0{constructor(s,a={},l,c){this.url=s,this.headers=a,this.bucketId=l,this.fetch=Em(c)}uploadOrUpdate(s,a,l,c){return bt(this,void 0,void 0,function*(){try{let u;const h=Object.assign(Object.assign({},Uh),c);let f=Object.assign(Object.assign({},this.headers),s==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&l instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),p&&u.append("metadata",this.encodeMetadata(p)),u.append("",l)):typeof FormData<"u"&&l instanceof FormData?(u=l,u.append("cacheControl",h.cacheControl),p&&u.append("metadata",this.encodeMetadata(p))):(u=l,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType,p&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),c?.headers&&(f=Object.assign(Object.assign({},f),c.headers));const y=this._removeEmptyFolders(a),x=this._getFinalPath(y),v=yield this.fetch(`${this.url}/object/${x}`,Object.assign({method:s,body:u,headers:f},h?.duplex?{duplex:h.duplex}:{})),b=yield v.json();return v.ok?{data:{path:y,id:b.Id,fullPath:b.Key},error:null}:{data:null,error:b}}catch(u){if(tt(u))return{data:null,error:u};throw u}})}upload(s,a,l){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",s,a,l)})}uploadToSignedUrl(s,a,l,c){return bt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(s),h=this._getFinalPath(u),f=new URL(this.url+`/object/upload/sign/${h}`);f.searchParams.set("token",a);try{let p;const y=Object.assign({upsert:Uh.upsert},c),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&l instanceof Blob?(p=new FormData,p.append("cacheControl",y.cacheControl),p.append("",l)):typeof FormData<"u"&&l instanceof FormData?(p=l,p.append("cacheControl",y.cacheControl)):(p=l,x["cache-control"]=`max-age=${y.cacheControl}`,x["content-type"]=y.contentType);const v=yield this.fetch(f.toString(),{method:"PUT",body:p,headers:x}),b=yield v.json();return v.ok?{data:{path:u,fullPath:b.Key},error:null}:{data:null,error:b}}catch(p){if(tt(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(s,a){return bt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(s);const c=Object.assign({},this.headers);a?.upsert&&(c["x-upsert"]="true");const u=yield Lr(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:c}),h=new URL(this.url+u.url),f=h.searchParams.get("token");if(!f)throw new dc("No token returned by API");return{data:{signedUrl:h.toString(),path:s,token:f},error:null}}catch(l){if(tt(l))return{data:null,error:l};throw l}})}update(s,a,l){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",s,a,l)})}move(s,a,l){return bt(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:s,destinationKey:a,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(tt(c))return{data:null,error:c};throw c}})}copy(s,a,l){return bt(this,void 0,void 0,function*(){try{return{data:{path:(yield Lr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:s,destinationKey:a,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(tt(c))return{data:null,error:c};throw c}})}createSignedUrl(s,a,l){return bt(this,void 0,void 0,function*(){try{let c=this._getFinalPath(s),u=yield Lr(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:a},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const h=l?.download?`&download=${l.download===!0?"":l.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${h}`)},{data:u,error:null}}catch(c){if(tt(c))return{data:null,error:c};throw c}})}createSignedUrls(s,a,l){return bt(this,void 0,void 0,function*(){try{const c=yield Lr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:s},{headers:this.headers}),u=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:c.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${u}`):null})),error:null}}catch(c){if(tt(c))return{data:null,error:c};throw c}})}download(s,a){return bt(this,void 0,void 0,function*(){const c=typeof a?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(a?.transform||{}),h=u?`?${u}`:"";try{const f=this._getFinalPath(s);return{data:yield(yield Ti(this.fetch,`${this.url}/${c}/${f}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(tt(f))return{data:null,error:f};throw f}})}info(s){return bt(this,void 0,void 0,function*(){const a=this._getFinalPath(s);try{const l=yield Ti(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:Xo(l),error:null}}catch(l){if(tt(l))return{data:null,error:l};throw l}})}exists(s){return bt(this,void 0,void 0,function*(){const a=this._getFinalPath(s);try{return yield n0(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(tt(l)&&l instanceof Zo){const c=l.originalError;if([400,404].includes(c?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(s,a){const l=this._getFinalPath(s),c=[],u=a?.download?`download=${a.download===!0?"":a.download}`:"";u!==""&&c.push(u);const f=typeof a?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(a?.transform||{});p!==""&&c.push(p);let y=c.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${l}${y}`)}}}remove(s){return bt(this,void 0,void 0,function*(){try{return{data:yield Cm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:s},{headers:this.headers}),error:null}}catch(a){if(tt(a))return{data:null,error:a};throw a}})}list(s,a,l){return bt(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},a0),a),{prefix:s||""});return{data:yield Lr(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},l),error:null}}catch(c){if(tt(c))return{data:null,error:c};throw c}})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const a=[];return s.width&&a.push(`width=${s.width}`),s.height&&a.push(`height=${s.height}`),s.resize&&a.push(`resize=${s.resize}`),s.format&&a.push(`format=${s.format}`),s.quality&&a.push(`quality=${s.quality}`),a.join("&")}}const l0="2.7.1",o0={"X-Client-Info":`storage-js/${l0}`};var Bs=function(i,s,a,l){function c(u){return u instanceof a?u:new a(function(h){h(u)})}return new(a||(a=Promise))(function(u,h){function f(x){try{y(l.next(x))}catch(v){h(v)}}function p(x){try{y(l.throw(x))}catch(v){h(v)}}function y(x){x.done?u(x.value):c(x.value).then(f,p)}y((l=l.apply(i,s||[])).next())})};class c0{constructor(s,a={},l){this.url=s,this.headers=Object.assign(Object.assign({},o0),a),this.fetch=Em(l)}listBuckets(){return Bs(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(s){if(tt(s))return{data:null,error:s};throw s}})}getBucket(s){return Bs(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/bucket/${s}`,{headers:this.headers}),error:null}}catch(a){if(tt(a))return{data:null,error:a};throw a}})}createBucket(s,a={public:!1}){return Bs(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/bucket`,{id:s,name:s,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(tt(l))return{data:null,error:l};throw l}})}updateBucket(s,a){return Bs(this,void 0,void 0,function*(){try{return{data:yield s0(this.fetch,`${this.url}/bucket/${s}`,{id:s,name:s,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(tt(l))return{data:null,error:l};throw l}})}emptyBucket(s){return Bs(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/bucket/${s}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(tt(a))return{data:null,error:a};throw a}})}deleteBucket(s){return Bs(this,void 0,void 0,function*(){try{return{data:yield Cm(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(a){if(tt(a))return{data:null,error:a};throw a}})}}class u0 extends c0{constructor(s,a={},l){super(s,a,l)}from(s){return new i0(this.url,this.headers,s,this.fetch)}}const d0="2.50.0";let Hn="";typeof Deno<"u"?Hn="deno":typeof document<"u"?Hn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hn="react-native":Hn="node";const h0={"X-Client-Info":`supabase-js-${Hn}/${d0}`},m0={headers:h0},f0={schema:"public"},p0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},g0={};var x0=function(i,s,a,l){function c(u){return u instanceof a?u:new a(function(h){h(u)})}return new(a||(a=Promise))(function(u,h){function f(x){try{y(l.next(x))}catch(v){h(v)}}function p(x){try{y(l.throw(x))}catch(v){h(v)}}function y(x){x.done?u(x.value):c(x.value).then(f,p)}y((l=l.apply(i,s||[])).next())})};const y0=i=>{let s;return i?s=i:typeof fetch>"u"?s=gm:s=fetch,(...a)=>s(...a)},v0=()=>typeof Headers>"u"?xm:Headers,b0=(i,s,a)=>{const l=y0(a),c=v0();return(u,h)=>x0(void 0,void 0,void 0,function*(){var f;const p=(f=yield s())!==null&&f!==void 0?f:i;let y=new c(h?.headers);return y.has("apikey")||y.set("apikey",i),y.has("Authorization")||y.set("Authorization",`Bearer ${p}`),l(u,Object.assign(Object.assign({},h),{headers:y}))})};var j0=function(i,s,a,l){function c(u){return u instanceof a?u:new a(function(h){h(u)})}return new(a||(a=Promise))(function(u,h){function f(x){try{y(l.next(x))}catch(v){h(v)}}function p(x){try{y(l.throw(x))}catch(v){h(v)}}function y(x){x.done?u(x.value):c(x.value).then(f,p)}y((l=l.apply(i,s||[])).next())})};function w0(i){return i.endsWith("/")?i:i+"/"}function N0(i,s){var a,l;const{db:c,auth:u,realtime:h,global:f}=i,{db:p,auth:y,realtime:x,global:v}=s,b={db:Object.assign(Object.assign({},p),c),auth:Object.assign(Object.assign({},y),u),realtime:Object.assign(Object.assign({},x),h),global:Object.assign(Object.assign(Object.assign({},v),f),{headers:Object.assign(Object.assign({},(a=v?.headers)!==null&&a!==void 0?a:{}),(l=f?.headers)!==null&&l!==void 0?l:{})}),accessToken:()=>j0(this,void 0,void 0,function*(){return""})};return i.accessToken?b.accessToken=i.accessToken:delete b.accessToken,b}const _m="2.70.0",Ws=30*1e3,ec=3,Lo=ec*Ws,k0="http://localhost:9999",S0="supabase.auth.token",E0={"X-Client-Info":`gotrue-js/${_m}`},tc="X-Supabase-Api-Version",Pm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},C0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_0=6e5;class hc extends Error{constructor(s,a,l){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=l}}function Ee(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class P0 extends hc{constructor(s,a,l){super(s,a,l),this.name="AuthApiError",this.status=a,this.code=l}}function T0(i){return Ee(i)&&i.name==="AuthApiError"}class Tm extends hc{constructor(s,a){super(s),this.name="AuthUnknownError",this.originalError=a}}class Br extends hc{constructor(s,a,l,c){super(s,l,c),this.name=a,this.status=l}}class Rr extends Br{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function A0(i){return Ee(i)&&i.name==="AuthSessionMissingError"}class yi extends Br{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vi extends Br{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class bi extends Br{constructor(s,a=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function R0(i){return Ee(i)&&i.name==="AuthImplicitGrantRedirectError"}class Mh extends Br{constructor(s,a=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rc extends Br{constructor(s,a){super(s,"AuthRetryableFetchError",a,void 0)}}function Io(i){return Ee(i)&&i.name==="AuthRetryableFetchError"}class Fh extends Br{constructor(s,a,l){super(s,"AuthWeakPasswordError",a,"weak_password"),this.reasons=l}}class Jn extends Br{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ai="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bh=` 	
\r=`.split(""),L0=(()=>{const i=new Array(128);for(let s=0;s<i.length;s+=1)i[s]=-1;for(let s=0;s<Bh.length;s+=1)i[Bh[s].charCodeAt(0)]=-2;for(let s=0;s<Ai.length;s+=1)i[Ai[s].charCodeAt(0)]=s;return i})();function $h(i,s,a){if(i!==null)for(s.queue=s.queue<<8|i,s.queuedBits+=8;s.queuedBits>=6;){const l=s.queue>>s.queuedBits-6&63;a(Ai[l]),s.queuedBits-=6}else if(s.queuedBits>0)for(s.queue=s.queue<<6-s.queuedBits,s.queuedBits=6;s.queuedBits>=6;){const l=s.queue>>s.queuedBits-6&63;a(Ai[l]),s.queuedBits-=6}}function Am(i,s,a){const l=L0[i];if(l>-1)for(s.queue=s.queue<<6|l,s.queuedBits+=6;s.queuedBits>=8;)a(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Vh(i){const s=[],a=h=>{s.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},u=h=>{z0(h,l,a)};for(let h=0;h<i.length;h+=1)Am(i.charCodeAt(h),c,u);return s.join("")}function I0(i,s){if(i<=127){s(i);return}else if(i<=2047){s(192|i>>6),s(128|i&63);return}else if(i<=65535){s(224|i>>12),s(128|i>>6&63),s(128|i&63);return}else if(i<=1114111){s(240|i>>18),s(128|i>>12&63),s(128|i>>6&63),s(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function O0(i,s){for(let a=0;a<i.length;a+=1){let l=i.charCodeAt(a);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(i.charCodeAt(a+1)-56320&65535|c)+65536,a+=1}I0(l,s)}}function z0(i,s,a){if(s.utf8seq===0){if(i<=127){a(i);return}for(let l=1;l<6;l+=1)if((i>>7-l&1)===0){s.utf8seq=l;break}if(s.utf8seq===2)s.codepoint=i&31;else if(s.utf8seq===3)s.codepoint=i&15;else if(s.utf8seq===4)s.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|i&63,s.utf8seq-=1,s.utf8seq===0&&a(s.codepoint)}}function D0(i){const s=[],a={queue:0,queuedBits:0},l=c=>{s.push(c)};for(let c=0;c<i.length;c+=1)Am(i.charCodeAt(c),a,l);return new Uint8Array(s)}function U0(i){const s=[];return O0(i,a=>s.push(a)),new Uint8Array(s)}function M0(i){const s=[],a={queue:0,queuedBits:0},l=c=>{s.push(c)};return i.forEach(c=>$h(c,a,l)),$h(null,a,l),s.join("")}function F0(i){return Math.round(Date.now()/1e3)+i}function B0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const s=Math.random()*16|0;return(i=="x"?s:s&3|8).toString(16)})}const Mt=()=>typeof window<"u"&&typeof document<"u",rs={tested:!1,writable:!1},Yn=()=>{if(!Mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rs.tested)return rs.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),rs.tested=!0,rs.writable=!0}catch{rs.tested=!0,rs.writable=!1}return rs.writable};function $0(i){const s={},a=new URL(i);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((c,u)=>{s[u]=c})}catch{}return a.searchParams.forEach((l,c)=>{s[c]=l}),s}const Rm=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>na(async()=>{const{default:l}=await Promise.resolve().then(()=>tn);return{default:l}},void 0).then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},V0=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Lm=async(i,s,a)=>{await i.setItem(s,JSON.stringify(a))},ji=async(i,s)=>{const a=await i.getItem(s);if(!a)return null;try{return JSON.parse(a)}catch{return a}},wi=async(i,s)=>{await i.removeItem(s)};class Li{constructor(){this.promise=new Li.promiseConstructor((s,a)=>{this.resolve=s,this.reject=a})}}Li.promiseConstructor=Promise;function Oo(i){const s=i.split(".");if(s.length!==3)throw new Jn("Invalid JWT structure");for(let l=0;l<s.length;l++)if(!C0.test(s[l]))throw new Jn("JWT not in base64url format");return{header:JSON.parse(Vh(s[0])),payload:JSON.parse(Vh(s[1])),signature:D0(s[2]),raw:{header:s[0],payload:s[1]}}}async function q0(i){return await new Promise(s=>{setTimeout(()=>s(null),i)})}function W0(i,s){return new Promise((l,c)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await i(u);if(!s(u,null,h)){l(h);return}}catch(h){if(!s(u,h)){c(h);return}}})()})}function H0(i){return("0"+i.toString(16)).substr(-2)}function G0(){const s=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=a.length;let c="";for(let u=0;u<56;u++)c+=a.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(s),Array.from(s,H0).join("")}async function K0(i){const a=new TextEncoder().encode(i),l=await crypto.subtle.digest("SHA-256",a),c=new Uint8Array(l);return Array.from(c).map(u=>String.fromCharCode(u)).join("")}async function J0(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const a=await K0(i);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $s(i,s,a=!1){const l=G0();let c=l;a&&(c+="/PASSWORD_RECOVERY"),await Lm(i,`${s}-code-verifier`,c);const u=await J0(l);return[u,l===u?"plain":"s256"]}const Y0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Q0(i){const s=i.headers.get(tc);if(!s||!s.match(Y0))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function Z0(i){if(!i)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(i<=s)throw new Error("JWT has expired")}function X0(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ey=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vs(i){if(!ey.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var ty=function(i,s){var a={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&s.indexOf(l)<0&&(a[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(i);c<l.length;c++)s.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(i,l[c])&&(a[l[c]]=i[l[c]]);return a};const ss=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),ry=[502,503,504];async function qh(i){var s;if(!V0(i))throw new rc(ss(i),0);if(ry.includes(i.status))throw new rc(ss(i),i.status);let a;try{a=await i.json()}catch(u){throw new Tm(ss(u),u)}let l;const c=Q0(i);if(c&&c.getTime()>=Pm["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?l=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(l=a.error_code),l){if(l==="weak_password")throw new Fh(ss(a),i.status,((s=a.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(l==="session_not_found")throw new Rr}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new Fh(ss(a),i.status,a.weak_password.reasons);throw new P0(ss(a),i.status||500,l)}const sy=(i,s,a,l)=>{const c={method:i,headers:s?.headers||{}};return i==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s?.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),a))};async function Pe(i,s,a,l){var c;const u=Object.assign({},l?.headers);u[tc]||(u[tc]=Pm["2024-01-01"].name),l?.jwt&&(u.Authorization=`Bearer ${l.jwt}`);const h=(c=l?.query)!==null&&c!==void 0?c:{};l?.redirectTo&&(h.redirect_to=l.redirectTo);const f=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await ny(i,s,a+f,{headers:u,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(p):{data:Object.assign({},p),error:null}}async function ny(i,s,a,l,c,u){const h=sy(s,l,c,u);let f;try{f=await i(a,Object.assign({},h))}catch(p){throw console.error(p),new rc(ss(p),0)}if(f.ok||await qh(f),l?.noResolveJson)return f;try{return await f.json()}catch(p){await qh(p)}}function lr(i){var s;let a=null;oy(i)&&(a=Object.assign({},i),i.expires_at||(a.expires_at=F0(i.expires_in)));const l=(s=i.user)!==null&&s!==void 0?s:i;return{data:{session:a,user:l},error:null}}function Wh(i){const s=lr(i);return!s.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0)&&(s.data.weak_password=i.weak_password),s}function Ir(i){var s;return{data:{user:(s=i.user)!==null&&s!==void 0?s:i},error:null}}function ay(i){return{data:i,error:null}}function iy(i){const{action_link:s,email_otp:a,hashed_token:l,redirect_to:c,verification_type:u}=i,h=ty(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:s,email_otp:a,hashed_token:l,redirect_to:c,verification_type:u},p=Object.assign({},h);return{data:{properties:f,user:p},error:null}}function ly(i){return i}function oy(i){return i.access_token&&i.refresh_token&&i.expires_in}const zo=["global","local","others"];var cy=function(i,s){var a={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&s.indexOf(l)<0&&(a[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(i);c<l.length;c++)s.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(i,l[c])&&(a[l[c]]=i[l[c]]);return a};class uy{constructor({url:s="",headers:a={},fetch:l}){this.url=s,this.headers=a,this.fetch=Rm(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(s,a=zo[0]){if(zo.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zo.join(", ")}`);try{return await Pe(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(l){if(Ee(l))return{data:null,error:l};throw l}}async inviteUserByEmail(s,a={}){try{return await Pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Ir})}catch(l){if(Ee(l))return{data:{user:null},error:l};throw l}}async generateLink(s){try{const{options:a}=s,l=cy(s,["options"]),c=Object.assign(Object.assign({},l),a);return"newEmail"in l&&(c.new_email=l?.newEmail,delete c.newEmail),await Pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:iy,redirectTo:a?.redirectTo})}catch(a){if(Ee(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(s){try{return await Pe(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:Ir})}catch(a){if(Ee(a))return{data:{user:null},error:a};throw a}}async listUsers(s){var a,l,c,u,h,f,p;try{const y={nextPage:null,lastPage:0,total:0},x=await Pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(a=s?.page)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:"",per_page:(u=(c=s?.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:ly});if(x.error)throw x.error;const v=await x.json(),b=(h=x.headers.get("x-total-count"))!==null&&h!==void 0?h:0,E=(p=(f=x.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return E.length>0&&(E.forEach(z=>{const V=parseInt(z.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(z.split(";")[1].split("=")[1]);y[`${T}Page`]=V}),y.total=parseInt(b)),{data:Object.assign(Object.assign({},v),y),error:null}}catch(y){if(Ee(y))return{data:{users:[]},error:y};throw y}}async getUserById(s){Vs(s);try{return await Pe(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:Ir})}catch(a){if(Ee(a))return{data:{user:null},error:a};throw a}}async updateUserById(s,a){Vs(s);try{return await Pe(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:a,headers:this.headers,xform:Ir})}catch(l){if(Ee(l))return{data:{user:null},error:l};throw l}}async deleteUser(s,a=!1){Vs(s);try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:a},xform:Ir})}catch(l){if(Ee(l))return{data:{user:null},error:l};throw l}}async _listFactors(s){Vs(s.userId);try{const{data:a,error:l}=await Pe(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:a,error:l}}catch(a){if(Ee(a))return{data:null,error:a};throw a}}async _deleteFactor(s){Vs(s.userId),Vs(s.id);try{return{data:await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(a){if(Ee(a))return{data:null,error:a};throw a}}}const dy={getItem:i=>Yn()?globalThis.localStorage.getItem(i):null,setItem:(i,s)=>{Yn()&&globalThis.localStorage.setItem(i,s)},removeItem:i=>{Yn()&&globalThis.localStorage.removeItem(i)}};function Hh(i={}){return{getItem:s=>i[s]||null,setItem:(s,a)=>{i[s]=a},removeItem:s=>{delete i[s]}}}function hy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const qs={debug:!!(globalThis&&Yn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Im extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class my extends Im{}async function fy(i,s,a){qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,s);const l=new globalThis.AbortController;return s>0&&setTimeout(()=>{l.abort(),qs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,c.name);try{return await a()}finally{qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,c.name)}}else{if(s===0)throw qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new my(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(qs.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}hy();const py={url:k0,storageKey:S0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:E0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Gh(i,s,a){return await a()}class ta{constructor(s){var a,l;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ta.nextInstanceID,ta.nextInstanceID+=1,this.instanceID>0&&Mt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},py),s);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new uy({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Rm(c.fetch),this.lock=c.lock||Gh,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:Mt()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=fy:this.lock=Gh,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?c.storage?this.storage=c.storage:Yn()?this.storage=dy:(this.memoryStorage={},this.storage=Hh(this.memoryStorage)):(this.memoryStorage={},this.storage=Hh(this.memoryStorage)),Mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...s){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_m}) ${new Date().toISOString()}`,...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{const a=$0(window.location.href);let l="none";if(this._isImplicitGrantCallback(a)?l="implicit":await this._isPKCECallback(a)&&(l="pkce"),Mt()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:u}=await this._getSessionFromURL(a,l);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),R0(u)){const p=(s=u.details)===null||s===void 0?void 0:s.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:h,redirectType:f}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",f),await this._saveSession(h),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return Ee(a)?{error:a}:{error:new Tm("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var a,l,c;try{const u=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(a=s?.options)===null||a===void 0?void 0:a.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=s?.options)===null||c===void 0?void 0:c.captchaToken}},xform:lr}),{data:h,error:f}=u;if(f||!h)return{data:{user:null,session:null},error:f};const p=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:y,session:p},error:null}}catch(u){if(Ee(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(s){var a,l,c;try{let u;if("email"in s){const{email:x,password:v,options:b}=s;let E=null,z=null;this.flowType==="pkce"&&([E,z]=await $s(this.storage,this.storageKey)),u=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:x,password:v,data:(a=b?.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:E,code_challenge_method:z},xform:lr})}else if("phone"in s){const{phone:x,password:v,options:b}=s;u=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:v,data:(l=b?.data)!==null&&l!==void 0?l:{},channel:(c=b?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:lr})}else throw new vi("You must provide either an email or phone number and a password");const{data:h,error:f}=u;if(f||!h)return{data:{user:null,session:null},error:f};const p=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:y,session:p},error:null}}catch(u){if(Ee(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(s){try{let a;if("email"in s){const{email:u,password:h,options:f}=s;a=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Wh})}else if("phone"in s){const{phone:u,password:h,options:f}=s;a=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Wh})}else throw new vi("You must provide either an email or phone number and a password");const{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new yi}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(a){if(Ee(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(s){var a,l,c,u;return await this._handleProviderSignIn(s.provider,{redirectTo:(a=s.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=s.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=s.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(u=s.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async signInWithWeb3(s){const{chain:a}=s;if(a==="solana")return await this.signInWithSolana(s);throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}async signInWithSolana(s){var a,l,c,u,h,f,p,y,x,v,b,E;let z,V;if("message"in s)z=s.message,V=s.signature;else{const{chain:T,wallet:F,statement:X,options:C}=s;let K;if(Mt())if(typeof F=="object")K=F;else{const se=window;if("solana"in se&&typeof se.solana=="object"&&("signIn"in se.solana&&typeof se.solana.signIn=="function"||"signMessage"in se.solana&&typeof se.solana.signMessage=="function"))K=se.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof F!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=F}const R=new URL((a=C?.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in K&&K.signIn){const se=await K.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),X?{statement:X}:null));let ne;if(Array.isArray(se)&&se[0]&&typeof se[0]=="object")ne=se[0];else if(se&&typeof se=="object"&&"signedMessage"in se&&"signature"in se)ne=se;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ne&&"signature"in ne&&(typeof ne.signedMessage=="string"||ne.signedMessage instanceof Uint8Array)&&ne.signature instanceof Uint8Array)z=typeof ne.signedMessage=="string"?ne.signedMessage:new TextDecoder().decode(ne.signedMessage),V=ne.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in K)||typeof K.signMessage!="function"||!("publicKey"in K)||typeof K!="object"||!K.publicKey||!("toBase58"in K.publicKey)||typeof K.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");z=[`${R.host} wants you to sign in with your Solana account:`,K.publicKey.toBase58(),...X?["",X,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(c=(l=C?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((u=C?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((h=C?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((f=C?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((p=C?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((y=C?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((v=(x=C?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||v===void 0)&&v.length?["Resources",...C.signInWithSolana.resources.map(ne=>`- ${ne}`)]:[]].join(`
`);const se=await K.signMessage(new TextEncoder().encode(z),"utf8");if(!se||!(se instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");V=se}}try{const{data:T,error:F}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:z,signature:M0(V)},!((b=s.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(E=s.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:lr});if(F)throw F;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new yi}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:F})}catch(T){if(Ee(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(s){const a=await ji(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(a??"").split("/");try{const{data:u,error:h}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:l},xform:lr});if(await wi(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new yi}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:c??null}),error:h})}catch(u){if(Ee(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(s){try{const{options:a,provider:l,token:c,access_token:u,nonce:h}=s,f=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:lr}),{data:p,error:y}=f;return y?{data:{user:null,session:null},error:y}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new yi}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:y})}catch(a){if(Ee(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(s){var a,l,c,u,h;try{if("email"in s){const{email:f,options:p}=s;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await $s(this.storage,this.storageKey));const{error:v}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(a=p?.data)!==null&&a!==void 0?a:{},create_user:(l=p?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:y,code_challenge_method:x},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in s){const{phone:f,options:p}=s,{data:y,error:x}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(c=p?.data)!==null&&c!==void 0?c:{},create_user:(u=p?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(h=p?.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:y?.message_id},error:x}}throw new vi("You must provide either an email or phone number.")}catch(f){if(Ee(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(s){var a,l;try{let c,u;"options"in s&&(c=(a=s.options)===null||a===void 0?void 0:a.redirectTo,u=(l=s.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:f}=await Pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:u}}),redirectTo:c,xform:lr});if(f)throw f;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,y=h.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:y,session:p},error:null}}catch(c){if(Ee(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(s){var a,l,c;try{let u=null,h=null;return this.flowType==="pkce"&&([u,h]=await $s(this.storage,this.storageKey)),await Pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(l=(a=s.options)===null||a===void 0?void 0:a.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=s?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:h}),headers:this.headers,xform:ay})}catch(u){if(Ee(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:a},error:l}=s;if(l)throw l;if(!a)throw new Rr;const{error:c}=await Pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:c}})}catch(s){if(Ee(s))return{data:{user:null,session:null},error:s};throw s}}async resend(s){try{const a=`${this.url}/resend`;if("email"in s){const{email:l,type:c,options:u}=s,{error:h}=await Pe(this.fetch,"POST",a,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in s){const{phone:l,type:c,options:u}=s,{data:h,error:f}=await Pe(this.fetch,"POST",a,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:h?.message_id},error:f}}throw new vi("You must provide either an email or phone number and a type")}catch(a){if(Ee(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(s,a){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await a()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=a();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await s(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const a=await ji(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?s=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const l=s.expires_at?s.expires_at*1e3-Date.now()<Lo:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",s.expires_at),!l){if(this.storage.isServer){let h=this.suppressGetSessionWarning;s=new Proxy(s,{get:(p,y,x)=>(!h&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,y,x))})}return{data:{session:s},error:null}}const{session:c,error:u}=await this._callRefreshToken(s.refresh_token);return u?{data:{session:null},error:u}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(s){return s?await this._getUser(s):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(s){try{return s?await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:Ir}):await this._useSession(async a=>{var l,c,u;const{data:h,error:f}=a;if(f)throw f;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rr}:await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:Ir})})}catch(a){if(Ee(a))return A0(a)&&(await this._removeSession(),await wi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(s,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,a))}async _updateUser(s,a={}){try{return await this._useSession(async l=>{const{data:c,error:u}=l;if(u)throw u;if(!c.session)throw new Rr;const h=c.session;let f=null,p=null;this.flowType==="pkce"&&s.email!=null&&([f,p]=await $s(this.storage,this.storageKey));const{data:y,error:x}=await Pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a?.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:f,code_challenge_method:p}),jwt:h.access_token,xform:Ir});if(x)throw x;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(l){if(Ee(l))return{data:{user:null},error:l};throw l}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new Rr;const a=Date.now()/1e3;let l=a,c=!0,u=null;const{payload:h}=Oo(s.access_token);if(h.exp&&(l=h.exp,c=l<=a),c){const{session:f,error:p}=await this._callRefreshToken(s.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:p}=await this._getUser(s.access_token);if(p)throw p;u={access_token:s.access_token,refresh_token:s.refresh_token,user:f.user,token_type:"bearer",expires_in:l-a,expires_at:l},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(a){if(Ee(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async a=>{var l;if(!s){const{data:h,error:f}=a;if(f)throw f;s=(l=h.session)!==null&&l!==void 0?l:void 0}if(!s?.refresh_token)throw new Rr;const{session:c,error:u}=await this._callRefreshToken(s.refresh_token);return u?{data:{user:null,session:null},error:u}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(Ee(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(s,a){try{if(!Mt())throw new bi("No browser detected.");if(s.error||s.error_description||s.error_code)throw new bi(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Mh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bi("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new Mh("No code detected.");const{data:X,error:C}=await this._exchangeCodeForSession(s.code);if(C)throw C;const K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:X.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:u,refresh_token:h,expires_in:f,expires_at:p,token_type:y}=s;if(!u||!f||!h||!y)throw new bi("No session defined in URL");const x=Math.round(Date.now()/1e3),v=parseInt(f);let b=x+v;p&&(b=parseInt(p));const E=b-x;E*1e3<=Ws&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${v}s`);const z=b-v;x-z>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",z,b,x):x-z<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",z,b,x);const{data:V,error:T}=await this._getUser(u);if(T)throw T;const F={provider_token:l,provider_refresh_token:c,access_token:u,expires_in:v,expires_at:b,refresh_token:h,token_type:y,user:V.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:F,redirectType:s.type},error:null}}catch(l){if(Ee(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(s){return!!(s.access_token||s.error_description)}async _isPKCECallback(s){const a=await ji(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&a)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async a=>{var l;const{data:c,error:u}=a;if(u)return{error:u};const h=(l=c.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:f}=await this.admin.signOut(h,s);if(f&&!(T0(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return s!=="others"&&(await this._removeSession(),await wi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(s){const a=B0(),l={id:a,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:l}}}async _emitInitialSession(s){return await this._useSession(async a=>{var l,c;try{const{data:{session:u},error:h}=a;if(h)throw h;await((l=this.stateChangeEmitters.get(s))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",s,"session",u)}catch(u){await((c=this.stateChangeEmitters.get(s))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",u),console.error(u)}})}async resetPasswordForEmail(s,a={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await $s(this.storage,this.storageKey,!0));try{return await Pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(u){if(Ee(u))return{data:null,error:u};throw u}}async getUserIdentities(){var s;try{const{data:a,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(s=a.user.identities)!==null&&s!==void 0?s:[]},error:null}}catch(a){if(Ee(a))return{data:null,error:a};throw a}}async linkIdentity(s){var a;try{const{data:l,error:c}=await this._useSession(async u=>{var h,f,p,y,x;const{data:v,error:b}=u;if(b)throw b;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(h=s.options)===null||h===void 0?void 0:h.redirectTo,scopes:(f=s.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=s.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Pe(this.fetch,"GET",E,{headers:this.headers,jwt:(x=(y=v.session)===null||y===void 0?void 0:y.access_token)!==null&&x!==void 0?x:void 0})});if(c)throw c;return Mt()&&!(!((a=s.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(l?.url),{data:{provider:s.provider,url:l?.url},error:null}}catch(l){if(Ee(l))return{data:{provider:s.provider,url:null},error:l};throw l}}async unlinkIdentity(s){try{return await this._useSession(async a=>{var l,c;const{data:u,error:h}=a;if(h)throw h;return await Pe(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(c=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(a){if(Ee(a))return{data:null,error:a};throw a}}async _refreshAccessToken(s){const a=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(a,"begin");try{const l=Date.now();return await W0(async c=>(c>0&&await q0(200*Math.pow(2,c-1)),this._debug(a,"refreshing attempt",c),await Pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:lr})),(c,u)=>{const h=200*Math.pow(2,c);return u&&Io(u)&&Date.now()+h-l<Ws})}catch(l){if(this._debug(a,"error",l),Ee(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(a,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,a){const l=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",a,"url",l),Mt()&&!a.skipBrowserRedirect&&window.location.assign(l),{data:{provider:s,url:l},error:null}}async _recoverAndRefresh(){var s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await ji(this.storage,this.storageKey);if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const c=((s=l.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Lo;if(this._debug(a,`session has${c?"":" not"} expired with margin of ${Lo}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:u}=await this._callRefreshToken(l.refresh_token);u&&(console.error(u),Io(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(s){var a,l;if(!s)throw new Rr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Li;const{data:u,error:h}=await this._refreshAccessToken(s);if(h)throw h;if(!u.session)throw new Rr;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={session:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(c,"error",u),Ee(u)){const h={session:null,error:u};return Io(u)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(u),u}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(s,a,l=!0){const c=`#_notifyAllSubscribers(${s})`;this._debug(c,"begin",a,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:s,session:a});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(s,a)}catch(p){u.push(p)}});if(await Promise.all(h),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(c,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0,await Lm(this.storage,this.storageKey,s)}async _removeSession(){this._debug("#_removeSession()"),await wi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&Mt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",s)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),Ws);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async a=>{const{data:{session:l}}=a;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-s)/Ws);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Ws}ms, refresh threshold is ${ec} ticks`),c<=ec&&await this._callRefreshToken(l.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof Im)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const a=`#_onVisibilityChanged(${s})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,a,l){const c=[`provider=${encodeURIComponent(a)}`];if(l?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[u,h]=await $s(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(f.toString())}if(l?.queryParams){const u=new URLSearchParams(l.queryParams);c.push(u.toString())}return l?.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${s}?${c.join("&")}`}async _unenroll(s){try{return await this._useSession(async a=>{var l;const{data:c,error:u}=a;return u?{data:null,error:u}:await Pe(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token})})}catch(a){if(Ee(a))return{data:null,error:a};throw a}}async _enroll(s){try{return await this._useSession(async a=>{var l,c;const{data:u,error:h}=a;if(h)return{data:null,error:h};const f=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:{issuer:s.issuer}),{data:p,error:y}=await Pe(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return y?{data:null,error:y}:(s.factorType==="totp"&&(!((c=p?.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(a){if(Ee(a))return{data:null,error:a};throw a}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var l;const{data:c,error:u}=a;if(u)return{data:null,error:u};const{data:h,error:f}=await Pe(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:{code:s.code,challenge_id:s.challengeId},headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:f})})}catch(a){if(Ee(a))return{data:null,error:a};throw a}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var l;const{data:c,error:u}=a;return u?{data:null,error:u}:await Pe(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:{channel:s.channel},headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token})})}catch(a){if(Ee(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(s){const{data:a,error:l}=await this._challenge({factorId:s.factorId});return l?{data:null,error:l}:await this._verify({factorId:s.factorId,challengeId:a.id,code:s.code})}async _listFactors(){const{data:{user:s},error:a}=await this.getUser();if(a)return{data:null,error:a};const l=s?.factors||[],c=l.filter(h=>h.factor_type==="totp"&&h.status==="verified"),u=l.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:l,totp:c,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async s=>{var a,l;const{data:{session:c},error:u}=s;if(u)return{data:null,error:u};if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Oo(c.access_token);let f=null;h.aal&&(f=h.aal);let p=f;((l=(a=c.user.factors)===null||a===void 0?void 0:a.filter(v=>v.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(p="aal2");const x=h.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:x},error:null}}))}async fetchJwk(s,a={keys:[]}){let l=a.keys.find(h=>h.kid===s);if(l||(l=this.jwks.keys.find(h=>h.kid===s),l&&this.jwks_cached_at+_0>Date.now()))return l;const{data:c,error:u}=await Pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;if(!c.keys||c.keys.length===0)throw new Jn("JWKS is empty");if(this.jwks=c,this.jwks_cached_at=Date.now(),l=c.keys.find(h=>h.kid===s),!l)throw new Jn("No matching signing key found in JWKS");return l}async getClaims(s,a={keys:[]}){try{let l=s;if(!l){const{data:E,error:z}=await this.getSession();if(z||!E.session)return{data:null,error:z};l=E.session.access_token}const{header:c,payload:u,signature:h,raw:{header:f,payload:p}}=Oo(l);if(Z0(u.exp),!c.kid||c.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:E}=await this.getUser(l);if(E)throw E;return{data:{claims:u,header:c,signature:h},error:null}}const y=X0(c.alg),x=await this.fetchJwk(c.kid,a),v=await crypto.subtle.importKey("jwk",x,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,h,U0(`${f}.${p}`)))throw new Jn("Invalid JWT signature");return{data:{claims:u,header:c,signature:h},error:null}}catch(l){if(Ee(l))return{data:null,error:l};throw l}}}ta.nextInstanceID=0;const gy=ta;class xy extends gy{constructor(s){super(s)}}var yy=function(i,s,a,l){function c(u){return u instanceof a?u:new a(function(h){h(u)})}return new(a||(a=Promise))(function(u,h){function f(x){try{y(l.next(x))}catch(v){h(v)}}function p(x){try{y(l.throw(x))}catch(v){h(v)}}function y(x){x.done?u(x.value):c(x.value).then(f,p)}y((l=l.apply(i,s||[])).next())})};class vy{constructor(s,a,l){var c,u,h;if(this.supabaseUrl=s,this.supabaseKey=a,!s)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const f=w0(s),p=new URL(f);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const y=`sb-${p.hostname.split(".")[0]}-auth-token`,x={db:f0,realtime:g0,auth:Object.assign(Object.assign({},p0),{storageKey:y}),global:m0},v=N0(l??{},x);this.storageKey=(c=v.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(u=v.global.headers)!==null&&u!==void 0?u:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(b,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=v.auth)!==null&&h!==void 0?h:{},this.headers,v.global.fetch),this.fetch=b0(a,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new Dx(new URL("rest/v1",p).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new Sx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new u0(this.storageUrl.href,this.headers,this.fetch)}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,a={},l={}){return this.rest.rpc(s,a,l)}channel(s,a={config:{}}){return this.realtime.channel(s,a)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var s,a;return yy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:null})}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:a,detectSessionInUrl:l,storage:c,storageKey:u,flowType:h,lock:f,debug:p},y,x){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xy({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),y),storageKey:u,autoRefreshToken:s,persistSession:a,detectSessionInUrl:l,storage:c,flowType:h,lock:f,debug:p,fetch:x,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(s){return new Yx(this.realtimeUrl.href,Object.assign(Object.assign({},s),{params:Object.assign({apikey:this.supabaseKey},s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,l)=>{this._handleTokenChanged(a,"CLIENT",l?.access_token)})}_handleTokenChanged(s,a,l){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:s==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Mr=(i,s,a)=>new vy(i,s,a);let Ni;const by=new Uint8Array(16);function jy(){if(!Ni&&(Ni=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ni))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ni(by)}const at=[];for(let i=0;i<256;++i)at.push((i+256).toString(16).slice(1));function wy(i,s=0){return at[i[s+0]]+at[i[s+1]]+at[i[s+2]]+at[i[s+3]]+"-"+at[i[s+4]]+at[i[s+5]]+"-"+at[i[s+6]]+at[i[s+7]]+"-"+at[i[s+8]]+at[i[s+9]]+"-"+at[i[s+10]]+at[i[s+11]]+at[i[s+12]]+at[i[s+13]]+at[i[s+14]]+at[i[s+15]]}const Ny=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Kh={randomUUID:Ny};function Ci(i,s,a){if(Kh.randomUUID&&!i)return Kh.randomUUID();i=i||{};const l=i.random||(i.rng||jy)();return l[6]=l[6]&15|64,l[8]=l[8]&63|128,wy(l)}const ky="https://tidnmzsivsthwwcfdzyo.supabase.co",Sy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRpZG5tenNpdnN0aHd3Y2ZkenlvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MjE5NTgsImV4cCI6MjA2NjI5Nzk1OH0.Sr1gSZ2qtoff7gmulkT8uIzB8eL7gqKUUNVj82OqHog",ee=Mr(ky,Sy,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"}}),$t=["București S1","București S2","București S3","București S4","București S5","București S6","Abrud","Adjud","Agnita","Aiud","Alba Iulia","Aleșd","Alexandria","Amara","Anina","Arad","Ardud","Avrig","Azuga","Bacău","Baia de Aramă","Baia de Arieș","Baia Mare","Baia Sprie","Băbeni","Băicoi","Băile Felix","Băile Govora","Băile Herculane","Băile Olănești","Băile Tușnad","Bălan","Bălcești","Bălți","Balș","Băneasa","Baraolt","Bârlad","Bechet","Beclean","Beiuș","Bistrița","Bistrița Bârgăului","Blaj","Bocșa","Bolintin-Vale","Borșa","Botoșani","Brad","Brăila","Bragadiru","Breaza","Brezoi","Broșteni","Buftea","Buhusi","Bumbești-Jiu","Buzău","Bușteni","Călan","Călărași","Câmpeni","Câmpia Turzii","Câmpina","Câmpulung","Câmpulung Moldovenesc","Caracal","Caransebeș","Carei","Cărbunești","Cavnic","Cehu Silvaniei","Cernavodă","Cernica","Chitila","Chișineu-Criș","Ciurea","Cluj-Napoca","Codlea","Comănești","Constanța","Copșa Mică","Corabia","Corbeanca","Costești","Costinești","Covasna","Craiova","Cristuru Secuiesc","Curtea de Argeș","Curtici","Dăbuleni","Darabani","Dărmănești","Dej","Deta","Deva","Domnești","Dorohoi","Drobeta-Turnu Severin","Dumbrăvița","Dumbrăveni","Eforie","Eforie Nord","Eforie Sud","Făgăraș","Făget","Fălticeni","Făurei","Feleacu","Fetești","Filiași","Florești","Focșani","Fundulea","Galați","Găești","Gătaia","Geoagiu","Gherla","Gheorgheni","Ghimbav","Ghiroda","Gilău","Giurgiu","Glina","Giroc","Gura Humorului","Hațeg","Horezu","Huedin","Hunedoara","Huși","Iași","Ineu","Însurăței","Întorsura Buzăului","Isaccea","Jibou","Jimbolia","Jilava","Jucu","Kolozsvar","Lehliu-Gară","Luduș","Lugoj","Lupeni","Măgurele","Mamaia","Mangalia","Marghita","Mediaș","Medgidia","Miercurea Ciuc","Miercurea Nirajului","Mihăilești","Miroslava","Mioveni","Mizil","Moinești","Mogoșoaia","Moșnița Nouă","Moldova Nouă","Motru","Murgeni","Murfatlar","Nădlac","Năsăud","Năvodari","Negrești","Negrești-Oaș","Nehoiu","Neptun","Nucet","Ocna Mureș","Ocna Sibiului","Odobești","Odorheiu Secuiesc","Olimp","Oltenița","Onești","Oradea","Orăștie","Oravița","Orșova","Otopeni","Pașcani","Pătârlagele","Pâncota","Peris","Piatra Neamț","Piatra-Olt","Pișchia","Pitești","Plopeni","Podu Iloaiei","Popeci-Leordeni","Popricani","Predeal","Pucioasa","Răcari","Rădăuți","Râmnicu Sărat","Râmnicu Vâlcea","Rășinari","Recaș","Reghin","Remetea","Remetea Mare","Reșița","Rediu","Roman","Roșiorii de Vede","Rovinari","Rupea","Săcele","Săcueni","Salonta","Sângeorgiu de Pădure","Sânnicolau Mare","Sărmașu","Satu Mare","Săveni","Scornicești","Sebeș","Sebiș","Segarcea","Sfântu Gheorghe","Sibiu","Sighetu Marmației","Sighișoara","Simeria","Șimleu Silvaniei","Ștefănești","Sinaia","Slănic","Slănic Moldova","Slatina","Slobozia","Snagov","Solca","Sovata","Spătaru","Strehaia","Ștefanestii de Jos","Suceava","Sulina","Tălmaciu","Tășnad","Târgu Cărbunești","Târgu Frumos","Târgu Jiu","Târgu Lăpuș","Târgu Mureș","Târgu Neamț","Târgu Ocna","Târgu Secuiesc","Târnăveni","Târgoviște","Tecuci","Techirghiol","Teiuș","Timișoara","Tismana","Titu","Tomești","Toplița","Tulcea","Tunari","Turda","Turnu Măgurele","Turnu Roșu","Țăndărei","Țicleni","Țintea","Țureni","Uricani","Urlați","Urziceni","Valea Lupului","Valea lui Mihai","Vaslui","Vălenii de Munte","Vatra Dornei","Victoria","Videle","Vicovu de Sus","Viișoara","Vulcan","Vânju Mare","Zalău","Zărnești","Zimnicea","Zlatna"],Jh=async(i,s)=>{try{console.log("🔍 Checking if profile exists for user:",i.email);const{data:a,error:l}=await ee.from("profiles").select("*").eq("user_id",i.id).single();if(a&&!l)return console.log("✅ Profile already exists for user:",i.email),a;console.log("❌ Profile not found, creating new profile for:",i.email);const c={user_id:i.id,name:s?.name||i.user_metadata?.name||i.email?.split("@")[0]||"Utilizator",email:i.email,phone:s?.phone||i.user_metadata?.phone||"",location:s?.location||i.user_metadata?.location||"",seller_type:s?.sellerType||i.user_metadata?.sellerType||"individual",verified:!1,is_admin:i.email==="admin@nexar.ro"};console.log("📝 Creating profile with data:",c);const{data:u,error:h}=await ee.rpc("create_profile_bypass_rls",c).catch(async f=>(console.error("❌ RPC method failed, trying direct insert:",f),await ee.from("profiles").insert([c]).select().single()));if(h)throw console.error("❌ Error creating profile:",h),h;return console.log("✅ Profile created successfully:",u),u}catch(a){throw console.error("💥 Error in ensureProfileExists:",a),a}},as={signUp:async(i,s,a)=>{try{console.log("🚀 Starting signup process for:",i);const{data:l,error:c}=await ee.auth.signUp({email:i,password:s,options:{data:a,emailRedirectTo:`${window.location.origin}/auth/confirm`}});if(c)return console.error("❌ Signup error:",c),{data:l,error:c};if(l.user){console.log("👤 User created, ensuring profile exists...");try{await Jh(l.user,a)}catch(u){console.error("⚠️ Profile creation failed during signup:",u)}}return{data:l,error:c}}catch(l){return console.error("💥 SignUp error:",l),{data:null,error:l}}},signIn:async(i,s)=>{try{console.log("🔐 Starting signin process for:",i),await ee.auth.signOut();const{data:a,error:l}=await ee.auth.signInWithPassword({email:i,password:s});if(l)return console.error("❌ Signin error:",l),{data:a,error:l};if(a.user){console.log("✅ User signed in successfully:",a.user.email);try{const c=await Jh(a.user);if(c){const u={id:a.user.id,name:c.name,email:c.email,sellerType:c.seller_type,isAdmin:c.is_admin||a.user.email==="admin@nexar.ro",isLoggedIn:!0};localStorage.setItem("user",JSON.stringify(u)),console.log("💾 User data saved to localStorage:",u)}}catch(c){console.error("⚠️ Profile handling failed during signin:",c);const u={id:a.user.id,name:a.user.email?.split("@")[0]||"Utilizator",email:a.user.email,sellerType:"individual",isAdmin:a.user.email==="admin@nexar.ro",isLoggedIn:!0};localStorage.setItem("user",JSON.stringify(u))}}return{data:a,error:l}}catch(a){return console.error("💥 SignIn error:",a),{data:null,error:a}}},signOut:async()=>{console.log("👋 Signing out user..."),localStorage.removeItem("user");try{const{error:i}=await ee.auth.signOut();return i&&(console.error("❌ Error during signOut:",i),localStorage.clear(),sessionStorage.clear()),setTimeout(()=>{window.location.reload()},100),{error:i}}catch(i){return console.error("💥 Error in signOut:",i),localStorage.clear(),sessionStorage.clear(),{error:i}}},getCurrentUser:async()=>{try{const{data:{user:i},error:s}=await ee.auth.getUser();return s?(console.error("❌ Error getting current user:",s),(s.message.includes("refresh")||s.message.includes("token"))&&(localStorage.removeItem("user"),sessionStorage.clear()),null):i}catch(i){return console.error("💥 Error in getCurrentUser:",i),null}},resetPassword:async i=>{console.log("🔑 Sending password reset email to:",i);try{const{data:s,error:a}=await ee.auth.resetPasswordForEmail(i,{redirectTo:`${window.location.origin}/auth/reset-password`});return a?(console.error("❌ Error sending password reset email:",a),{data:null,error:a}):(console.log("✅ Password reset email sent successfully"),{data:s,error:null})}catch(s){return console.error("💥 Error sending password reset email:",s),{data:null,error:s}}},updatePassword:async i=>{try{console.log("🔐 Updating password...");const{data:s,error:a}=await ee.auth.updateUser({password:i});return a?(console.error("❌ Error updating password:",a),{data:null,error:a}):(console.log("✅ Password updated successfully"),{data:s,error:null})}catch(s){return console.error("💥 Error updating password:",s),{data:null,error:s}}},verifyEmailToken:async i=>{try{console.log("🔍 Verifying email confirmation token");const{data:s,error:a}=await ee.auth.getSession();return a?(console.error("❌ Error verifying email token:",a),{success:!1,error:a}):s?.session?(console.log("✅ Email confirmed successfully"),{success:!0,user:s.session.user}):(console.error("❌ No session found after email confirmation"),{success:!1,error:new Error("No session found")})}catch(s){return console.error("💥 Error in verifyEmailToken:",s),{success:!1,error:s}}},resendConfirmationEmail:async i=>{try{console.log("🔄 Resending confirmation email to:",i);const{data:s,error:a}=await ee.auth.resend({type:"signup",email:i,options:{emailRedirectTo:`${window.location.origin}/auth/confirm`}});return a?(console.error("❌ Error resending confirmation email:",a),{success:!1,error:a}):(console.log("✅ Confirmation email resent successfully"),{success:!0,data:s})}catch(s){return console.error("💥 Error in resendConfirmationEmail:",s),{success:!1,error:s}}}},Ii={getAll:async i=>{try{console.log("🔍 Fetching all listings from Supabase...");let s=ee.from("listings").select("*").eq("status","active").order("created_at",{ascending:!1});i&&(i.category&&(s=s.eq("category",i.category.toLowerCase())),i.brand&&(s=s.eq("brand",i.brand)),i.priceMin&&(s=s.gte("price",i.priceMin)),i.priceMax&&(s=s.lte("price",i.priceMax)),i.yearMin&&(s=s.gte("year",i.yearMin)),i.yearMax&&(s=s.lte("year",i.yearMax)),i.location&&(s=s.ilike("location",`%${i.location}%`)),i.sellerType&&(s=s.eq("seller_type",i.sellerType)),i.condition&&(s=s.eq("condition",i.condition)),i.fuel&&(s=s.eq("fuel_type",i.fuel)),i.transmission&&(s=s.eq("transmission",i.transmission)),i.engineMin&&(s=s.gte("engine_capacity",i.engineMin)),i.engineMax&&(s=s.lte("engine_capacity",i.engineMax)),i.mileageMax&&(s=s.lte("mileage",i.mileageMax)));const{data:a,error:l}=await s;return l?(console.error("❌ Error fetching listings:",l),{data:null,error:l}):(console.log(`✅ Successfully fetched ${a?.length||0} listings`),{data:a,error:null})}catch(s){return console.error("💥 Error in listings.getAll:",s),{data:null,error:s}}},getUserListings:async i=>{try{console.log("🔍 Fetching user listings from Supabase...");const{data:s,error:a}=await ee.from("profiles").select("id").eq("user_id",i).single();if(a||!s)return console.error("❌ Error fetching user profile:",a),{data:null,error:a||new Error("User profile not found")};const{data:l,error:c}=await ee.from("listings").select("*").eq("seller_id",s.id).order("created_at",{ascending:!1});return c?(console.error("❌ Error fetching user listings:",c),{data:null,error:c}):(console.log(`✅ Successfully fetched ${l?.length||0} user listings`),{data:l,error:null})}catch(s){return console.error("💥 Error in listings.getUserListings:",s),{data:null,error:s}}},getAllForAdmin:async()=>{try{console.log("🔍 Fetching ALL listings for admin...");const{data:i,error:s}=await ee.from("listings").select(`
          *,
          profiles!listings_seller_id_fkey (
            name,
            email,
            seller_type,
            verified
          )
        `).order("created_at",{ascending:!1});return s?(console.error("❌ Error fetching admin listings:",s),{data:null,error:s}):(console.log(`✅ Successfully fetched ${i?.length||0} listings for admin`),{data:i,error:null})}catch(i){return console.error("💥 Error in listings.getAllForAdmin:",i),{data:null,error:i}}},getById:async i=>{try{const{data:s,error:a}=await ee.from("listings").select("*").eq("id",i).single();return s&&!a&&await ee.from("listings").update({views_count:(s.views_count||0)+1}).eq("id",i),{data:s,error:a}}catch(s){return console.error("Error fetching listing:",s),{data:null,error:s}}},create:async(i,s)=>{try{console.log("🚀 Starting listing creation process...");const{data:{user:a}}=await ee.auth.getUser();if(!a)throw new Error("Utilizatorul nu este autentificat");console.log("👤 Current user:",a.email);const{data:l,error:c}=await ee.from("profiles").select("id, name, seller_type").eq("user_id",a.id).single();if(c||!l)throw console.error("❌ Profile not found:",c),new Error("Profilul utilizatorului nu a fost găsit. Te rugăm să-ți completezi profilul mai întâi.");console.log("✅ Profile found:",l);const u=[];if(s&&s.length>0){console.log(`📸 Uploading ${s.length} images...`);for(const y of s){const x=y.name.split(".").pop(),v=`${Ci()}.${x}`,b=`${l.id}/${v}`;console.log(`📤 Uploading image: ${v}`);const{error:E,data:z}=await ee.storage.from("listing-images").upload(b,y,{cacheControl:"3600",upsert:!1});if(E){console.error("❌ Error uploading image:",E);continue}console.log("✅ Image uploaded:",z.path);const{data:{publicUrl:V}}=ee.storage.from("listing-images").getPublicUrl(b);console.log("🔗 Public URL:",V),u.push(V)}console.log(`✅ Uploaded ${u.length} images successfully`)}const h={...i,id:Ci(),seller_id:l.id,seller_name:l.name,seller_type:l.seller_type,images:u,status:"pending",views_count:0,favorites_count:0,featured:!1};console.log("📝 Creating listing with data:",{...h,images:`${u.length} images`});const{data:f,error:p}=await ee.from("listings").insert([h]).select().single();if(p)throw console.error("❌ Error creating listing:",p),new Error(`Eroare la crearea anunțului: ${p.message}`);return console.log("✅ Listing created successfully:",f.id),{data:f,error:null}}catch(a){return console.error("💥 Error in listings.create:",a),{data:null,error:a}}},update:async(i,s,a,l)=>{try{console.log("🔄 Starting listing update process...");const{data:c,error:u}=await ee.from("listings").select("images, seller_id, seller_name, status, availability").eq("id",i).single();if(u||!c)throw console.error("❌ Error fetching current listing:",u),new Error(`Eroare la obținerea anunțului: ${u?.message||"Anunțul nu a fost găsit"}`);let h=[...c.images||[]];if(l&&l.length>0){console.log(`🗑️ Removing ${l.length} images...`),h=h.filter(x=>!l.includes(x));for(const x of l)try{const v=x.split("/"),b=v[v.length-1],z=`${v[v.length-2]}/${b}`;await ee.storage.from("listing-images").remove([z]),console.log(`✅ Removed image from storage: ${z}`)}catch(v){console.error("⚠️ Error removing image from storage:",v)}}if(a&&a.length>0){console.log(`📸 Uploading ${a.length} new images...`);for(const x of a){const v=x.name.split(".").pop(),b=`${Ci()}.${v}`,E=`${c.seller_id}/${b}`;console.log(`📤 Uploading image: ${b}`);const{error:z,data:V}=await ee.storage.from("listing-images").upload(E,x,{cacheControl:"3600",upsert:!1});if(z){console.error("❌ Error uploading image:",z);continue}console.log("✅ Image uploaded:",V.path);const{data:{publicUrl:T}}=ee.storage.from("listing-images").getPublicUrl(E);console.log("🔗 Public URL:",T),h.push(T)}}const f={...s,images:h,updated_at:new Date().toISOString(),status:s.status||"pending",availability:s.availability||c.availability};if(console.log("📝 Updating listing with data:",{...f,images:`${h.length} images`}),!s.seller_name)try{const{data:{user:x}}=await ee.auth.getUser();if(x){const{data:v}=await ee.from("profiles").select("name").eq("id",c.seller_id).single();v&&v.name!==c.seller_name&&(f.seller_name=v.name,console.log("✅ Updated seller name to:",v.name))}}catch(x){console.error("⚠️ Error updating seller name:",x)}const{data:p,error:y}=await ee.from("listings").update(f).eq("id",i).select();if(y)throw console.error("❌ Error updating listing:",y),new Error(`Eroare la actualizarea anunțului: ${y.message}`);return console.log("✅ Listing updated successfully:",i),{data:p,error:null}}catch(c){return console.error("💥 Error in listings.update:",c),{data:null,error:c}}},delete:async i=>{try{const{data:s}=await ee.from("listings").select("images").eq("id",i).single();if(s&&s.images)for(const l of s.images)try{const c=l.split("/"),u=c[c.length-1],f=`${c[c.length-2]}/${u}`;await ee.storage.from("listing-images").remove([f]),console.log(`✅ Removed image from storage: ${f}`)}catch(c){console.error("Error removing image:",c)}const{error:a}=await ee.from("listings").delete().eq("id",i);return{error:a}}catch(s){return console.error("Error deleting listing:",s),{error:s}}}},Yh={getById:async i=>{try{const{data:s,error:a}=await ee.from("profiles").select("*").eq("user_id",i).single();return{data:s,error:a}}catch(s){return console.error("Error fetching profile:",s),{data:null,error:s}}},update:async(i,s)=>{try{const{data:a,error:l}=await ee.from("profiles").update(s).eq("user_id",i).select();if(l)return console.error("Error updating profile:",l),{data:a,error:l};if(s.name&&a&&a.length>0){const c=a[0],{error:u}=await ee.from("listings").update({seller_name:c.name}).eq("seller_id",c.id);u?console.error("Error updating seller name in listings:",u):console.log("✅ Updated seller name in all listings")}return{data:a,error:l}}catch(a){return console.error("Error updating profile:",a),{data:null,error:a}}},uploadAvatar:async(i,s)=>{try{const a=s.name.split(".").pop(),l=`${Ci()}.${a}`,c=`${i}/${l}`,{error:u}=await ee.storage.from("profile-images").upload(c,s);if(u)return{error:u};const{data:{publicUrl:h}}=ee.storage.from("profile-images").getPublicUrl(c),{data:f,error:p}=await ee.from("profiles").update({avatar_url:h}).eq("user_id",i).select();return{data:f,error:p}}catch(a){return console.error("Error uploading avatar:",a),{data:null,error:a}}}},Or={isAdmin:async()=>{try{console.log("🔍 Checking admin status...");const i=localStorage.getItem("user");if(i)try{const a=JSON.parse(i);if(a&&a.isAdmin)return console.log("✅ User is admin based on localStorage"),!0}catch(a){console.error("Error parsing user from localStorage:",a)}const{data:{user:s}}=await ee.auth.getUser();if(!s)return console.log("❌ No authenticated user"),!1;if(console.log("👤 Checking admin status for user:",s.email),s.email==="admin@nexar.ro"){console.log("✅ User is admin based on email");try{const a=localStorage.getItem("user");if(a){const l=JSON.parse(a);l.isAdmin=!0,localStorage.setItem("user",JSON.stringify(l))}}catch(a){console.error("Error updating localStorage:",a)}return!0}try{const{data:a,error:l}=await ee.from("profiles").select("is_admin").eq("user_id",s.id).single();if(!l&&a){console.log("✅ Profile found, is_admin:",a.is_admin);try{const c=localStorage.getItem("user");if(c){const u=JSON.parse(c);u.isAdmin=a.is_admin,localStorage.setItem("user",JSON.stringify(u))}}catch(c){console.error("Error updating localStorage:",c)}return a.is_admin||!1}else return console.log("⚠️ Profile not found or error:",l),s.email==="admin@nexar.ro"}catch(a){return console.error("⚠️ Error checking profile, using email fallback:",a),s.email==="admin@nexar.ro"}}catch(i){return console.error("💥 Error checking admin status:",i),!1}},getAllListings:async()=>{try{console.log("🔍 Fetching ALL listings for admin...");const{data:i,error:s}=await ee.from("listings").select(`
          *,
          profiles!listings_seller_id_fkey (
            name,
            email,
            seller_type,
            verified
          )
        `).order("created_at",{ascending:!1});return s?(console.error("❌ Error fetching admin listings:",s),{data:null,error:s}):(console.log(`✅ Successfully fetched ${i?.length||0} listings for admin`),{data:i,error:null})}catch(i){return console.error("💥 Error in listings.getAllForAdmin:",i),{data:null,error:i}}},updateListingStatus:async(i,s)=>{try{console.log("📝 Updating listing status:",i,"to",s);const{data:a,error:l}=await ee.from("listings").update({status:s}).eq("id",i).select();return l?(console.error("❌ Error updating listing status:",l),{data:null,error:l}):(console.log("✅ Listing status updated successfully"),{data:a,error:null})}catch(a){return console.error("💥 Error in updateListingStatus:",a),{data:null,error:a}}},deleteListing:async i=>{try{console.log("🗑️ Deleting listing:",i);const{data:s}=await ee.from("listings").select("images").eq("id",i).single();if(s&&s.images)for(const l of s.images)try{const c=l.split("/"),u=c[c.length-1],f=`${c[c.length-2]}/${u}`;await ee.storage.from("listing-images").remove([f]),console.log(`✅ Removed image from storage: ${f}`)}catch(c){console.error("Error removing image:",c)}const{error:a}=await ee.from("listings").delete().eq("id",i);return a?(console.error("❌ Error deleting listing:",a),{error:a}):(console.log("✅ Listing deleted successfully"),{error:null})}catch(s){return console.error("💥 Error in deleteListing:",s),{error:s}}},getAllUsers:async()=>{try{const{data:i,error:s}=await ee.from("profiles").select("*").order("created_at",{ascending:!1});return{data:i,error:s}}catch(i){return console.error("Error fetching users:",i),{data:null,error:i}}},toggleUserStatus:async(i,s)=>{try{const{data:a,error:l}=await ee.from("profiles").update({suspended:s}).eq("user_id",i).select();return{data:a,error:l}}catch(a){return console.error("Error toggling user status:",a),{data:null,error:a}}},deleteUser:async i=>{try{const{data:s,error:a}=await ee.from("profiles").select("id").eq("user_id",i).single();if(a||!s)return console.error("Error fetching user profile:",a),{error:a||new Error("User profile not found")};const{data:l}=await ee.from("listings").select("id, images").eq("seller_id",s.id);if(l&&l.length>0){console.log(`Found ${l.length} listings to delete for user ${i}`);for(const h of l)if(h.images&&h.images.length>0)for(const f of h.images)try{const p=f.split("/"),y=p[p.length-1],v=`${p[p.length-2]}/${y}`;await ee.storage.from("listing-images").remove([v]),console.log(`Removed image from storage: ${v}`)}catch(p){console.error("Error removing image:",p)}}const{error:c}=await ee.from("listings").delete().eq("seller_id",s.id);if(c)return console.error("Error deleting user listings:",c),{error:c};console.log(`Successfully deleted all listings for user ${i}`);const{error:u}=await ee.from("profiles").delete().eq("user_id",i);return u?(console.error("Error deleting user profile:",u),{error:u}):(console.log(`Successfully deleted user ${i} and all associated data`),{error:null})}catch(s){return console.error("Error deleting user:",s),{error:s}}}},Om=async()=>{try{const{data:{user:i}}=await ee.auth.getUser();return!!i}catch(i){return console.error("Error checking authentication:",i),!1}},Ey=async()=>{try{const{error:i}=await ee.from("profiles").select("count",{count:"exact",head:!0});return!i}catch(i){return console.error("Supabase connection error:",i),!1}},Cy=()=>{const[i,s]=w.useState(!1),[a,l]=w.useState(!1),[c,u]=w.useState(null),[h,f]=w.useState(null),[p,y]=w.useState(!0),[x,v]=w.useState(!1),b=Yt(),E=St();w.useEffect(()=>{z()},[]);const z=async()=>{try{y(!0);const X=await Ey();if(f(X),!X){console.warn("⚠️ Supabase connection failed"),y(!1);return}const{data:{user:C}}=await ee.auth.getUser();if(C){console.log("👤 Found authenticated user:",C.email);const K=await Or.isAdmin();v(K);const{data:R,error:se}=await ee.from("profiles").select("*").eq("user_id",C.id).single();if(!se&&R){console.log("✅ Profile found:",R.name);const ne={id:C.id,name:R.name,email:R.email,sellerType:R.seller_type,isAdmin:R.is_admin||C.email==="admin@nexar.ro",isLoggedIn:!0};u(ne),localStorage.setItem("user",JSON.stringify(ne))}else{console.warn("⚠️ Profile not found for authenticated user");try{const{data:ne}=await ee.from("profiles").insert([{user_id:C.id,name:C.email?.split("@")[0]||"Utilizator",email:C.email,seller_type:"individual",is_admin:C.email==="admin@nexar.ro"}]).select().single();if(ne){const ve={id:C.id,name:ne.name,email:ne.email,sellerType:ne.seller_type,isAdmin:ne.is_admin||C.email==="admin@nexar.ro",isLoggedIn:!0};u(ve),localStorage.setItem("user",JSON.stringify(ve))}else u({id:C.id,email:C.email,isAdmin:C.email==="admin@nexar.ro",isLoggedIn:!0})}catch(ne){console.error("❌ Error creating profile:",ne),u({id:C.id,email:C.email,isAdmin:C.email==="admin@nexar.ro",isLoggedIn:!0})}}}else console.log("👤 No authenticated user"),u(null),localStorage.removeItem("user")}catch(X){console.error("💥 Error checking auth state:",X),u(null),localStorage.removeItem("user")}finally{y(!1)}const{data:{subscription:F}}=ee.auth.onAuthStateChange(async(X,C)=>{if(console.log("🔄 Auth state changed:",X,C?.user?.email),X==="SIGNED_IN"&&C?.user){const K=await Or.isAdmin();v(K);const{data:R,error:se}=await ee.from("profiles").select("*").eq("user_id",C.user.id).single();if(!se&&R){const ne={id:C.user.id,name:R.name,email:R.email,sellerType:R.seller_type,isAdmin:R.is_admin||C.user.email==="admin@nexar.ro",isLoggedIn:!0};u(ne),localStorage.setItem("user",JSON.stringify(ne)),b.pathname==="/auth"&&E("/")}else try{const{data:ne}=await ee.from("profiles").insert([{user_id:C.user.id,name:C.user.email?.split("@")[0]||"Utilizator",email:C.user.email,seller_type:"individual",is_admin:C.user.email==="admin@nexar.ro"}]).select().single();if(ne){const ve={id:C.user.id,name:ne.name,email:ne.email,sellerType:ne.seller_type,isAdmin:ne.is_admin||C.user.email==="admin@nexar.ro",isLoggedIn:!0};u(ve),localStorage.setItem("user",JSON.stringify(ve)),b.pathname==="/auth"&&E("/")}else u({id:C.user.id,email:C.user.email,isAdmin:C.user.email==="admin@nexar.ro",isLoggedIn:!0})}catch(ne){console.error("❌ Error creating profile:",ne),u({id:C.user.id,email:C.user.email,isAdmin:C.user.email==="admin@nexar.ro",isLoggedIn:!0})}y(!1)}else X==="SIGNED_OUT"&&(u(null),v(!1),localStorage.removeItem("user"),y(!1))});return()=>{F.unsubscribe()}},V=async()=>{try{y(!0),console.log("🔄 Logging out user..."),localStorage.removeItem("user");const{error:F}=await as.signOut();F?(console.error("❌ Error during logout:",F),alert(`Eroare la deconectare: ${F.message}`)):(console.log("✅ User logged out successfully"),u(null),v(!1),l(!1),E("/"))}catch(F){console.error("💥 Unexpected error during logout:",F),alert("A apărut o eroare la deconectare. Te rugăm să încerci din nou.")}finally{y(!1)}},T=()=>p?e.jsx("div",{className:"w-7 h-7 bg-gray-200 rounded-full animate-pulse"}):c?e.jsx("button",{onClick:()=>l(!a),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-7 h-7 bg-nexar-accent rounded-full flex items-center justify-center text-white font-semibold text-xs",children:c.name?c.name.charAt(0).toUpperCase():"U"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700 hidden xl:inline",children:["Bună, ",c.name||"Utilizator"]})]})}):e.jsx("button",{onClick:()=>l(!a),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(sa,{className:"h-5 w-5 text-gray-700"})});return e.jsx("header",{className:"bg-white/95 backdrop-blur-md shadow-sm border-b border-gray-100 sticky top-0 z-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[e.jsxs(ke,{to:"/",className:"flex items-center group min-w-0",onClick:F=>{F.preventDefault(),window.scrollTo(0,0),window.location.href="/"},children:[e.jsx("img",{src:"/Nexar - logo_black & red.png",alt:"Nexar",className:"h-20 sm:h-24 w-auto flex-shrink-0",onError:F=>{const X=F.currentTarget;if(X.src.includes("Nexar - logo_black & red.png"))X.src="/nexar-logo.jpg";else if(X.src.includes("nexar-logo.jpg"))X.src="/nexar-logo.png";else if(X.src.includes("nexar-logo.png"))X.src="/image.png";else{X.style.display="none";const C=X.nextElementSibling;C&&(C.style.display="block")}}}),e.jsx("div",{className:"hidden text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-nexar-accent",children:"NEXAR"})]}),e.jsxs("nav",{className:"hidden lg:flex items-center space-x-1",children:[e.jsxs(ke,{to:"/adauga-anunt",className:"flex items-center space-x-2 bg-nexar-accent text-white px-3 xl:px-4 py-2 rounded-lg font-medium hover:bg-nexar-gold transition-all duration-200 text-sm",children:[e.jsx(bh,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden xl:inline",children:"Adaugă Anunț"}),e.jsx("span",{className:"xl:hidden",children:"Adaugă"})]}),e.jsxs("div",{className:"relative",children:[T(),a&&!p&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white/95 backdrop-blur-md rounded-lg shadow-lg border border-gray-200 py-2 animate-scale-in",children:c?e.jsxs(e.Fragment,{children:[e.jsx(ke,{to:"/profil",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>l(!1),children:"Profilul Meu"}),x&&e.jsx(ke,{to:"/admin",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>l(!1),children:"Admin Panel"}),e.jsx("hr",{className:"my-2"}),e.jsxs("button",{onClick:V,className:"flex items-center space-x-2 w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",disabled:p,children:[e.jsx(vh,{className:"h-4 w-4"}),e.jsx("span",{children:"Deconectează-te"})]})]}):e.jsx(ke,{to:"/auth",className:"block px-4 py-2 text-sm text-gray-900 font-medium hover:bg-gray-50 transition-colors",onClick:()=>l(!1),children:"Conectează-te"})})]})]}),e.jsx("button",{onClick:()=>s(!i),className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:i?e.jsx(Bt,{className:"h-5 w-5"}):e.jsx(dx,{className:"h-5 w-5"})})]}),i&&e.jsx("div",{className:"lg:hidden py-4 border-t border-gray-200 animate-slide-up bg-white/95 backdrop-blur-md",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ke,{to:"/adauga-anunt",className:"flex items-center space-x-2 px-4 py-3 bg-nexar-accent text-white rounded-lg font-medium mx-0",onClick:()=>s(!1),children:[e.jsx(bh,{className:"h-4 w-4"}),e.jsx("span",{children:"Adaugă Anunț"})]}),p?e.jsx("div",{className:"px-4 py-3 text-gray-700 font-medium border-t border-gray-200 mt-2 pt-4",children:"Se încarcă..."}):c?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-4 py-3 text-gray-700 font-medium border-t border-gray-200 mt-2 pt-4",children:["Bună, ",c.name||"Utilizator"]}),e.jsx(ke,{to:"/profil",className:"block px-4 py-3 rounded-lg font-medium text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>s(!1),children:"Profilul Meu"}),x&&e.jsx(ke,{to:"/admin",className:"block px-4 py-3 rounded-lg font-medium text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>s(!1),children:"Admin Panel"}),e.jsxs("button",{onClick:()=>{V(),s(!1)},className:"flex items-center space-x-2 w-full text-left px-4 py-3 rounded-lg font-medium text-red-600 hover:bg-red-50 transition-colors",disabled:p,children:[e.jsx(vh,{className:"h-4 w-4"}),e.jsx("span",{children:"Deconectează-te"})]})]}):e.jsx(ke,{to:"/auth",className:"block px-4 py-3 rounded-lg font-medium text-gray-900 hover:bg-gray-100 transition-colors",onClick:()=>s(!1),children:"Conectează-te"})]})})]})})},_y=()=>{const i=St(),s=()=>{window.scrollTo(0,0)},a=l=>{i(`/?categorie=${l.toLowerCase()}`),window.scrollTo(0,0)};return e.jsx("footer",{className:"bg-gray-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ke,{to:"/",onClick:s,children:e.jsx("img",{loading:"lazy",src:"/Nexar - logo_white & red.png",alt:"Nexar Logo",className:"h-28 sm:h-32 md:h-36 w-auto hover:scale-105 transition-transform duration-300",onError:l=>{const c=l.currentTarget;if(c.src.includes("Nexar - logo_white & red.png"))c.src="/nexar-logo.png";else if(c.src.includes("nexar-logo.png"))c.src="/image.png";else{c.style.display="none";const u=c.nextElementSibling;u&&(u.style.display="block")}}})}),e.jsx("div",{className:"hidden text-3xl font-bold text-nexar-accent",children:"NEXAR"})]}),e.jsx("p",{className:"text-gray-300 leading-relaxed text-sm",children:"Cel mai premium marketplace pentru motociclete din România. Găsește sau vinde motocicleta perfectă cu încredere și siguranță."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:"https://www.facebook.com/nnexar.ro",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-nexar-accent transition-colors",children:e.jsx(ix,{className:"h-5 w-5"})}),e.jsx("a",{href:"https://www.instagram.com/nexar.ro/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-nexar-accent transition-colors",children:e.jsx(ux,{className:"h-5 w-5"})}),e.jsx("a",{href:"https://www.tiktok.com/@nexar.ro",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-nexar-accent transition-colors",children:e.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"})})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Navigare Rapidă"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(ke,{to:"/",className:"text-gray-300 hover:text-white transition-colors text-sm",onClick:s,children:"Toate Anunțurile"})}),e.jsx("li",{children:e.jsx(ke,{to:"/adauga-anunt",className:"text-gray-300 hover:text-white transition-colors text-sm",onClick:s,children:"Adaugă Anunț"})}),e.jsx("li",{children:e.jsx(ke,{to:"/despre",className:"text-gray-300 hover:text-white transition-colors text-sm",onClick:s,children:"Despre Noi"})}),e.jsx("li",{children:e.jsx(ke,{to:"/contact",className:"text-gray-300 hover:text-white transition-colors text-sm",onClick:s,children:"Contact"})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Categorii Populare"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx("button",{onClick:()=>a("sport"),className:"text-gray-300 hover:text-white transition-colors text-sm text-left",children:"Motociclete Sport"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>a("touring"),className:"text-gray-300 hover:text-white transition-colors text-sm text-left",children:"Touring"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>a("cruiser"),className:"text-gray-300 hover:text-white transition-colors text-sm text-left",children:"Cruiser"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>a("adventure"),className:"text-gray-300 hover:text-white transition-colors text-sm text-left",children:"Adventure"})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Contact"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(cs,{className:"h-4 w-4 text-nexar-accent"}),e.jsx("span",{className:"text-gray-300 text-sm",children:"0790 454 647"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(en,{className:"h-4 w-4 text-nexar-accent"}),e.jsx("span",{className:"text-gray-300 text-sm",children:"contact@nexar.ro"})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(cr,{className:"h-4 w-4 text-nexar-accent mt-0.5"}),e.jsx("span",{className:"text-gray-300 text-sm",children:"Bulevardul Dem Radulescu 24, Râmnicu Vâlcea"})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Ys,{className:"h-4 w-4 text-nexar-accent mt-0.5"}),e.jsxs("div",{className:"text-gray-300 text-sm",children:[e.jsx("div",{children:"Luni - Vineri: 09:00 - 17:00"}),e.jsx("div",{children:"Weekend: Închis"})]})]})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 sm:mt-12 pt-6 sm:pt-8",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-3 sm:space-y-0",children:[e.jsx("p",{className:"text-gray-300 text-sm text-center sm:text-left",children:"© 2024 Nexar.ro. Toate drepturile rezervate."}),e.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-end gap-x-4 gap-y-2 text-sm",children:[e.jsx(ke,{to:"/termeni",className:"text-gray-300 hover:text-white transition-colors",onClick:s,children:"Termeni și Condiții"}),e.jsx(ke,{to:"/confidentialitate",className:"text-gray-300 hover:text-white transition-colors",onClick:s,children:"Politica de Confidențialitate"}),e.jsx(ke,{to:"/cookies",className:"text-gray-300 hover:text-white transition-colors",onClick:s,children:"Cookies"})]})]}),e.jsx("div",{className:"flex justify-center sm:justify-start",children:e.jsxs("a",{href:"https://nextsoft-it.com/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 group transition-all duration-500 ease-out transform-gpu relative",style:{filter:"drop-shadow(0 0 0px transparent)",transition:"all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)"},onMouseEnter:l=>{const c=l.currentTarget;c.style.filter="drop-shadow(0 4px 20px rgba(215, 58, 48, 0.4))",c.style.transform="translateY(-2px) scale(1.05)"},onMouseLeave:l=>{const c=l.currentTarget;c.style.filter="drop-shadow(0 0 0px transparent)",c.style.transform="translateY(0px) scale(1)"},onClick:l=>{const c=l.currentTarget;c.style.transform="translateY(0px) scale(0.98)",c.style.filter="drop-shadow(0 2px 15px rgba(215, 58, 48, 0.6))",setTimeout(()=>{c.style.transform="translateY(-3px) scale(1.08)",c.style.filter="drop-shadow(0 6px 25px rgba(215, 58, 48, 0.5))"},150),setTimeout(()=>{c.style.transform="translateY(0px) scale(1)",c.style.filter="drop-shadow(0 0 0px transparent)"},300)},children:[e.jsx("span",{className:"text-gray-400 text-sm group-hover:text-nexar-accent transition-all duration-500 group-hover:font-semibold",children:"Dezvoltat de"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-gray-400 text-sm font-bold tracking-wide group-hover:text-nexar-accent transition-all duration-500 group-hover:tracking-wider relative",children:["NEXT SOFT",e.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-nexar-accent group-hover:w-full transition-all duration-500 ease-out"})]}),e.jsx("img",{loading:"lazy",src:"/Next Soft Logo - ALB.png",alt:"NEXT SOFT",className:"h-12 w-12 sm:h-14 sm:w-14 object-contain opacity-70 group-hover:opacity-100 transition-all duration-500 transform-gpu",style:{filter:"brightness(0.8) saturate(0.8)",transition:"all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)"},onMouseEnter:l=>{l.currentTarget.style.filter="brightness(1.2) saturate(1.2)",l.currentTarget.style.transform="scale(1.15)"},onMouseLeave:l=>{l.currentTarget.style.filter="brightness(0.8) saturate(0.8)",l.currentTarget.style.transform="scale(1)"},onError:l=>{l.currentTarget.style.display="none"}})]}),e.jsx("div",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-20 transition-opacity duration-500 bg-gradient-to-r from-nexar-accent/20 to-transparent blur-xl -z-10"})]})})]})})]})})},Py=()=>{const[i]=Zg(),[s,a]=w.useState(window.innerWidth>=1024),[l,c]=w.useState(1),[u,h]=w.useState(""),[f,p]=w.useState({priceMin:"",priceMax:"",category:i.get("categorie")||"",brand:"",yearMin:"",yearMax:"",location:""}),[y,x]=w.useState([]),[v,b]=w.useState(!0),[E,z]=w.useState(null),[V,T]=w.useState(!1),F=St(),X=10;w.useEffect(()=>{C()},[f,u,l]),w.useEffect(()=>{const D=i.get("categorie");D&&p(be=>({...be,category:D}))},[i]),w.useEffect(()=>{const D=()=>{T(!0)};return window.addEventListener("scroll",D),()=>window.removeEventListener("scroll",D)},[]);const C=async()=>{try{b(!0),z(null),console.log("🔄 Loading listings from Supabase...");const{data:D,error:be}=await Ii.getAll();if(be){console.error("❌ Error loading listings:",be),z("Nu s-au putut încărca anunțurile: "+be.message),x([]);return}console.log("✅ Loaded listings:",D?.length||0);const ie=(D||[]).map(ge=>({id:ge.id,title:ge.title,price:ge.price,year:ge.year,mileage:ge.mileage,location:ge.location,images:ge.images||[],category:ge.category,brand:ge.brand,model:ge.model,seller:ge.seller_name,sellerId:ge.seller_id,sellerType:ge.seller_type,featured:ge.featured||!1}));x(ie)}catch(D){console.error("💥 Error in loadListings (catch block):",D),z("A apărut o eroare neașteptată la încărcarea anunțurilor: "+D.message),x([])}finally{b(!1)}};w.useEffect(()=>{const D=()=>{window.innerWidth>=1024&&a(!0)};return window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]);const K=w.useMemo(()=>y.filter(D=>{const be=u.toLowerCase(),ie=!u||D.title.toLowerCase().includes(be)||D.brand.toLowerCase().includes(be)||D.model.toLowerCase().includes(be)||D.category.toLowerCase().includes(be)||D.location.toLowerCase().includes(be)||D.seller.toLowerCase().includes(be),ge=(!f.priceMin||D.price>=parseInt(f.priceMin))&&(!f.priceMax||D.price<=parseInt(f.priceMax)),G=!f.category||D.category.toLowerCase()===f.category.toLowerCase(),k=!f.brand||D.brand.toLowerCase()===f.brand.toLowerCase(),$=(!f.yearMin||D.year>=parseInt(f.yearMin))&&(!f.yearMax||D.year<=parseInt(f.yearMax)),N=!f.location||D.location.toLowerCase().includes(f.location.toLowerCase());return ie&&ge&&G&&k&&$&&N}),[u,f,y]),R=Math.ceil(K.length/X),se=(l-1)*X,ne=se+X,ve=K.slice(se,ne),re=(D,be)=>{p(ie=>({...ie,[D]:be})),c(1)},M=()=>{p({priceMin:"",priceMax:"",category:"",brand:"",yearMin:"",yearMax:"",location:""}),h(""),c(1),F("/",{replace:!0})},Te=D=>{c(D),window.scrollTo({top:0,behavior:"smooth"})},Ce=[{name:"Sport",image:"https://images.pexels.com/photos/595807/pexels-photo-595807.jpeg"},{name:"Touring",image:"https://images.pexels.com/photos/2519374/pexels-photo-2519374.jpeg"},{name:"Cruiser",image:"https://images.pexels.com/photos/1413412/pexels-photo-1413412.jpeg"},{name:"Adventure",image:"https://www.advpulse.com/wp-content/uploads/2016/04/Honda-XRE-300-a-561x373.jpg"},{name:"Naked",image:"https://images.pexels.com/photos/1715193/pexels-photo-1715193.jpeg"},{name:"Enduro",image:"https://images.pexels.com/photos/2611690/pexels-photo-2611690.jpeg"},{name:"Scooter",image:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxITEhUSExMWFRUXGBcYGBgYGBoXFxcVGBgaGBUYFxcYHSggGBolHRcVITEhJSkrLi4uFx8zODMtNygtLisBCgoKDg0OGhAQGy0lHyUtLS0tLS0tLS0tLS0tLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLf/AABEIAKEBOQMBIgACEQEDEQH/xAAcAAACAwEBAQEAAAAAAAAAAAAEBQIDBgEABwj/xABKEAACAAQDAwoDBAcGBAYDAAABAgADESEEEjEFQVEGEyIyYXGBkbHBQqHRFFJy8CMzYoKSsuEHFVOTosIkQ9LxNGNzdIPiFkRU/8QAGQEAAwEBAQAAAAAAAAAAAAAAAAECAwQF/8QAMREAAgIABAQEBAUFAAAAAAAAAAECEQMSIUETMTJRBGGRsSJxoeEzYoHR8BQjUsHx/9oADAMBAAIRAxEAPwD55QQy2KlsR/6Ez2heBcwx2V1cR/7eZ7Q2iLApY4W7ovl4qYNJjj95vrFEuLlEIYUu1sQP+c3jQ+ohrsnGzTOlrMZCxmIMvNoTlYVLB1FB8Ipr0uyEaiGGwgPtEm3xr6wgDP7/AJikpzMllVmABXdmMEyOUqrrhEH4GyH5CM/iv1j/AI3/AJjEUUsSdw0gCzcYXlZhvjkT/wDMLjyZqQ82JtbBTWdJQmKzS5lay0AC5bklVBPdWPmkpKClfeNRyFB+0PX/AAZvpDC2BpsXCEDLjpf76OnsYKfk3mNJWJw7r8NZoDEbq1AvSM8ZdgBwHoILw2q27PlCsS5WMpnJPGE1VVYfsTEb0aHM7ZGJXZ6oZT5xiCxGUk5ebIrbdWMfMoOINd0aeVimXZaukx1P2oioYg0Es0Fa6QwEows0GkxWQXNSjagWFKb9Kw45FOTPYEU6B9oAkco8WtAMTM7ia+sONg8o8S8wq8wNY/AldeOWKRDRotlj/iJf4fZoTyT1Pwn1MNtkbUd8TKQpL6VellowADG1D2fOF8vass0zYdRSoGV2G/trFWTWhKX1k7j7RzBdZfxxcmPw5K/onBHBweHFRHcI+HqtDNF7AopvXSzQWKiOOHTm/wDrN/MYrmC694g7aCyOdmLzwVucJIKvrU7wCN8Q5hCRSdKNCPjp/MBAOme2P/4lPxf7TClZf85jQbMwjCcrVUrmBqHU2pTcYBbZ80Fqy3pnr1TpWAKdADS7n87o0PJVP1nhCxMFMZmAQnwoBbeTYQx2bikkFr84zUAWXcDvc9HyrEyaS1HBNsjyql1w83fWW481NIQbMwLy0VpgWXVFFWYgmnSUhKVzA0Oh8Kw9lbaZ5ktQVAZrqgqacWdvQDSFE+bMD1qEHFrs1z0atcihJ9453ipao6lht8zzZLOFacXNnmWSwJ/Vy7kW+M+Ucxjl5SitQHcUUKq0FCOiDloK6GtaawHjhmrQACtfvVU8XGm404VEXoqcystgKCY9VoK0OUgjs13XjLiN2aZEqBUaurALUk0qhII6PS3+fGtSYHRycioAACScgBG/UDQm+lRTdEjNlIWBpVq0FBUChAAQXOuojnOzmrklkL+30R2218wIzruXfYJqBJZWpmLIw62Y26RIp0Tup2dpgKdjJag5mCkgWIHWGpXvPjFy7Lc9ead9k6I87t5GLpWAlITlQVqL6nxJvFWTQnTGndLdu5X9W1iRxlfgnAj/AMuo9YczfcQPJa/iYLARqZhIt0DVTUFWoCTYE2NzfsgpAMyUuKEdw/Ji7HHTvPka/WIy6ZkHY3tDsRHFyxQroK3890DfZzxMFzkBJO8VHhW/yj1B+RFkowplwfsxaLiP/bzPVYrXZ+IBqZczuy29YZYXCOFn1RhWQ4Fjc1Fo6mzmQklCLiYqlSpgN0Yd6kR1mPCJGWZ4P2BX7TJ/GvrCtXhlsF64mT+NfWACjGGjzDwd/UxHCOSteMQ2m4zON5dh/qMSlsAAIBhWHtv/AKxpOQcyuJa//LmAd2WMkkxQRWt/LgfaHfJbHLLmTX0pKm0O+pWi/MiGDBcGcwJi3L0l74qwJyqAd94IdhUX3E/KJXIWxCahJteptGiRCNlUI/8A2/WWYQFo0MmZm2YRXTEqfOWR7GGhboUMoDCgtaHPJeUDiiKbm9YTLr3H+sP+Sgpij3N6iCI9jRbIkgYmUabreIeEk3Diqj8XqYe7Gmhp0lhoQKf6xCqc4Dqu8858j/WNTMoTDXUca+0d2an6SWa/Gv8AMIKA6Sdx9or2fYof2h6iACzbEj9LOO/nPUwI0gi2tafOC8a1cVixWwmS7cKiphjLmZZQYGhLEE6GgA+ICo8xrEuaUbKjHM6F2zdlsk1GmAIisD0us3cgufKC8kuXOamYnMxJdiqi5JyouvifCKJc4E6GlQQQTXTQ311+sS2mhDkdFQXJJFDUVOq8TpHNLGbWh0RwUnqFyMe0xwCzMSr0qRloUOksWtx+ZrAknOBWoYgaX1IuaaVBrqK9sByNqKhIRQzXFhmJBFKEKPUiK5cifMI6Ky9bnUDXqr9Yxk21qbLTkMJc8S2TOQSrVzZQSBW4G8V7PlCfHYxCSLtXRT0m6uXS507hDRNiKOu7P2dVd+5ddN5MFS8IiABFVRfQU4wvIBDKlTWYKqZQbZnNLDsFWPiRHjsklenMY30XoDTs6RHeYegdJe8wPN6te32MPYW4NgMKiL0VArXQXrXfxi2YNe5vWOyDYePtHZhue5okplVLREb+FQYtP19opBvFEg08a7tIGlDpecFYtr+FPGBWF/OFYAmLF/l84jLHSXvPpE8V539DEJa3XvPpAB2bW/57454R6e1Knu+YiPO9nzjWLJowv95Nm1Ydxp6RouSmJZ3cFmIyb2O9h2xk8sabkT+smfgH8wjpZzINO36E1VrV+N93jEpfKKuqP/HX1EZfETjmYV3n1iwFgaEEUtfdBQszNUu3kOqN5IfVYP2Ti5U1+ilGWjXSXx3ELWMSwPGNFyM/WP8AhHrBQKQdjsXg5cwpMly81AxPMg631BF4rXFbObUS/wDLcejwl5WIDijU06CekLDKAvWHQNm0ly9lkXyD96YvuYC5R4bCJIDYYglnCmjs4pQnQjjl3wqkzpVOklj1SFFR9LxQKsVVRWpBp20/pEvkFmi2fsuS015M4lQlgQ6qcwoDdhQ74O2hyawsuW82XMmFkRiAXlEGgNjQ18ozm1p7TCZosWfMaGlCa1gGfMfMK3EC5C2LkmEuFlKWYmlDrm9KRstgbInzJMzDzVSSWaW6EEzA2XMHFFBIpmXzhVyalSwOcyZXVmXNuatwfxUNIe7MxWWcEzzCWSeBmNQehmtwpl3RjGdzo7JYSWFmQowuzSzykDKDNDEVrQFSwKk016O7iI02xthzJWIzu8qhDWz9KlRehAtGAl4p6owdgcoZbnot8VOG6HOzdrzTNLtNfMoYAkk0U3IrwtGqZyXoabkiG59lJH6OZS7CwqwtU3FeHGKtrYR0nyCV60yYg0+PT0inkhjD9tmBzUzFJqd7ijg+WaJ8vcY6zpYBFFyOth1qHz7oduhaUHPgpoZaS2oAb0PZAcjCTRlrLfUaqeIiMrlHNqbSzr8A7OEHbL5Ru01EdUAYmtKg0AJ49kaWxUgCc4OKxpF/0q6fs29jBszGAIJYQu9a2BNARTXQabzGV2djmVJxI6M5WJNT94movc9Kl42Oxdpc/KEymXdSpNgNamOeUrgaYXUAfZZxoKCWulScx7iF7zvMXytjpSrlnPaaLr91aDzrBbPUrrcGJ5uj4+8cx1FWCRVAoAABu7zE11/PCISzpTt946jX/PCEUETmv+eBipzp4+8edvz4RXXTx94AogxuIpmHo+I94k0c+Hy9TFrkSymRdR4xZM1Pj6RXh+qO8+8WzPf2iEUykn8+AiqlovUevtFTC3lDECzkvWB2F/GC53tAtL+UJggfGaeI9YoK3T8V/wCE2gzGaHsgdB1fxa+cVsTuemqCaU/NoGyQcV6Xh7COVWLiSz5qqxpeRn6yZ+AfzCESKOMP+SApMf8ACP5hHUzmTtmfmIczW3n1hhMxyMzMZB6RJFJmlTW9r/KJYfA5sxrTpH6xxcDWt9OyNVhtqzln4jDi6kwbFzgzkohRaCgJzEcb0EP+QxPOzK/dH80LFwN6V3V0h1yQlkTXB+77iHKDSKwseE3UWLOVv/iT+FPSEuc5aRrNv7OV5+YsR0V+QjPYzBBFqCT0qRSwnlsl+LwuJw71uiWaiiulIP5LSQ2JlDcc3zQ0hdiahadhI8hD/kcoOJDfdSvdcDd2NHN2+Z1Cx+oK7iK+Biqa4vnBC2uDe19OEdZw6EaZjanfWEe1sQqlUzEmt6EGg3mggitxpGgwG1jKzVUzEbrAAilOqQSMpNN1fKkS5P7TYz8zE0SZUCukpyRWm4gVB7oCw2IMpVNA6FQwAoWyk0YV7Beh94FYos5CpBlzLKeKPp4hgPKL4ceaHKcqUdhrcFCTYZh86iGOxa86V+9mA7ypp33MUJNC561oVK9+alD8oLwGK6WHX7sytexiLesYXqZqSaCsPi+bxEmZWnRkse7qv8gYecv/ANaDSvQHyrGLxE2rJ2KV+bH3jUcpcRzkqS51aTLJ79D86w70YPRFLPTmv2h/tBiufNKIXFiAb94p7xQ039Fhm7FB8qe0Sx7jIw4sg+X9ItypMmzu1pJl4bDftyp3+lyQfIiH/JU5cOo3X79Yxu2sJNkFVYVV0ExSDqrJVrbiCQD3iNTyamf8Ove3yYxnNVE3wuoehgSsdbQ8K284ESZTL4eUFfCfH3jmfM6kQk/X3iam4gebiElirsFFSPG8cwuNlOwCzASa2rc+Bgyurodqw3+npEB7j1iz6D0EVV0hDKqeo9o4Rb8/eMec3p3GOubfn70XHkQweQbDv9jFrbvzuinDt6+xi4/D4ehiEUyKe/tFR08osl+/sYrOkUIonwHWDX1HdAJhMEV4+9oolvQD8Qi7GHUjUAQPINVFRvWGuRNahOJpXwI9Ij9nXhFeIJJ/PjFmcRaCj56qRouSo6b/AIfeFUvDCgOYUhtycFHcA16OvlHU2cUeYAswZSMt8xNd1KC3y+cWS8Xa6sdb0juAQnPQV6QHidBEcKpEvLlYkVGkXBu3RhixjSzKzql8oatjQacT3Q45Lg889TXo+4hKXbm0sKVFL9sOuTB/TN+A+ojaXSc3h9MWqXN9iW3yQ5P7A30PlCCarBRU6NvuIdcpG/SGzdRaUpTt3woxc2qgZSL1vT2MVm+HXt7kLD/uuqfxX8qBcVWq2BrX5n5RpORqU59uCKPMn/pjOzfhI4/WHewMWUZkpUTAFPYaGh8zHEtj1NTMyJDOrgE5l6o7KcO20W8nOSP2nK0ybzRYEhdWpW1Bu366xXMGVg614NSgOgrQ04ekbDk9gObRJrzCKtVLdKh0BKjQ318YrNFJWaRjKXSA7U5JnDSy8l+cVVBINmy6Eilj3UEYna+F5pM6m2YMo4VN6cLgR9rxMuiF2PQysDX7p1+EaG4j4zylYKJsoGqq4y9lq09vCNJONaEpPc0cmbziseKqf9I94nh3o0sk6Mp8v+0CbDaqy675SfJRX1gnCqG6J4Ed3b845XpI53Gn+v8At/uc2hZ/328gYcNOzYeWp1TMp/zMw+TCE8hhnkFrqXWvaCamvhBckkGeh+E1t5W/hikaS5F88EYaV+zf/UYsxcvnJ0uUDTnGUCulSFUHwLCKOc/QEcGoBSvxZr/OK8Q9RJcEggVqDQgqgOo0uvyhPYEtTQ/2jMueUEoSistKi1QoAPC0BbO29KkSDzmYBLsaVoGagqNdTwjLTscsxy8tFByqCzF3mTn0ZixJpWnygqbgMqqoJEyYCHC25tb3qRWoF7Rbim9TZaam82LteTPFZMxZgVlzU1WulQdNPWGOIxKoDWpJJCqoqzG+g9zYbzGC2FLk4P8ASJKZ5mXLZsqsSQaFWNAtbjhFGH5S46XNVsXKIyK4NEI6+U1qCVPVAFDaprGMsJ2bLEVDzbOxcfiWDiZJk0LBUOZyF1qzUpm7hwvHOS/JGZh8QJ8+eJrAEIACArNYtfsqLDfBmC5XYcqhm5pJa/TVgpr91iOlDuTOVsrAgqSCpFwVNwQeERKU0q2Liot2GE+g9opO6IvNBsN4FO+K2Y2PafLd7RjZpROcd4vERofzvjk5qiK1cgGvaPEUrXxjRMhlcs+sWu1AL8IFlubkjUj1/rFzYautxb5xFlEWmgA30MV86CDQ7vS0WrJoT+d5gebhRwpr+fSDUWhWhJ18PIfLWB3P0i0YniLg/wDaIyltU60hrXQT01B8UKeQ94rkS+iD2rBOJHoIGW8rgap8iPrFRWhLepKf1vzwMA8/+yPlBc49K/Z9IjlH3YbQ00uZlZCkDTjuhjyfUjNUEW9xDGVKYXYgDgLn6QcrClFWp4n2/IjrtnIoJMR7IwzqwrLa7qa0Og390EyJMwK4yNcvS3EmGhnuKWX5/WJypznUKPOHGWV2RiYKmqZnRgpvNqvNtUEaC9tYZ8n8HNWczOjKMpFx2iHOFQNXMorxBII7qGC50iXlGaWppxLediIp4jaoiHhYxlmM7tvZ82Y5KIWGUC3HhCHG4WZzqyihExhRVNKmpt7xu5Cy75Zad1CfG5rDnZeHQggohFd6g926E8RySQ4+FjGbnu7+p8dz0TtDUP8AF/WHezJRUhiKBkZ17QM1DrxEfVZOxcKRbDYe+v6GXr/DBkvZkgaSZItT9VL04dXSM8ptR8DcDmzmoVJOu+gFe7SOT9sYuXh1yc2ZfSXOScxyUqMoO4Mt98foJcBJGkqV/lp/0wFyj2Os7CT5KIgZ5bhTlUUenRuBa4EGRPmXGUo8mfmzCbZxiDKs+bQm4Jqmv3WrQdwgXFVo7PcsxNRWhNyYJlruNe7f22gwWTTQgg0tUEa1jZQshyG+xJQzgBqosqW1dOgVUbzrcAjsg3ALd3qMquUNxWrVItru1jcciMBI+24nESUdUPOUzbjMmlytNBvoOFI3iiMKUtRzwqevzPzvLxIEmWwYVFL1GoDKPQQ12U+dm6S5mlM2oFadIgcTQmPu4J4xNWpvMPKJxs+DSwSxVQaVY2BO4QtxEwsol06IJJ3VrXU8OyPtX9pOMnLgXWQTnmHKTmpSWAXm34lVK/vR8TWa3NK4UKppSgBJrU7jff5QKNAkNJODMlFmvMEtm6iAKDTiS1aeVYsloQSTWp1Jue76/wBIDw0mZPmtPmAsJQWhNTTMSFN7fCx01pB7EAVi0q1Y7Kp72pvj6BySwM2ZhELS3NiFJB6SiyN3U9IyXI/YZxuJyH9UlGnEbk3LXcWpTuDHdGz2n/aXJluZeHlK8tOjnrlU0tSWoHV3A74mUM+hSllCk5MsGtKOVq1S3N/iym1T84nP2M65RRUC0F3RQFFaCldKUjG7V5Wz8STmmMqHREOVadtDVvGsJ3noLmD+lW4+Mz6aySais/DilP8Ampr4GL8PskOejNlN+Fs3A7hHyJMdMepkyHmKCAWAtUmgFeNx5xPFtiZZTnEl4dm6mdszmhpVVSpJB4Q/6aAuNI+vTeTRJBzgU4A9vdHRyZF6zDfgv/2hlsTG87JBF8vQLVDZitAWDDrX38awcYlYUUHEbEP/AOMyt7OdOA0Ne2CP7olftHxHsIZsYi0Phx7Cc2BSdiYc16JrwzGJTeT0gimUjtDGvzi1moaxfKxIOtj8jA4R7ApMw+2uTzSTmFXStc1Lg0tmppuvpCsSxaPprTlpQ0I3/wBYyu1djSFJdSyrvUXAJ4V3dkZ8JF52ZaenDhAJw75ctKad1qRpjIk8WPh/WItLkfteQ+sHCQZzNysLMdiqoxpT83i/+7Z3+Ef4l+sOzhJNS2Y3pwoNdPP5RH7PJ++flDyBmMZLmj7xPgYulleJiSy4IReyKskjLYaXgyWkDGx7/wA8IKkTKQAEYVqNTsiybOqAOyA5c79KddNd26OTZlDSAAzAv0jGi2KdYyuDm9KNFsifSsEQY1wE2q+Jg9W7Yy8jZCD4m7dBfyg2Xs1OLfxEekUKh8rDjEudX7w84TJsqVwb+NvrFq7Olfd8yfrAB8H5aYAYfaOIlr1c+ZfwuA9B2AsR4Qqx0482QNSKeP13+Eb3+2HZcqXNkT0oCwKMu85bq1PEivdGKwGG52bIlUvMnylp+yxOb5V8o1iyGfoXD4qUiKi5VAAFqC4AG7uiTbXlDVx84HbDSgT0E8hEkaSKdSvhGDlXM0Jjbcn74Pdr5RxtvSh949ymJMZZIJCW00t3RYMQn3l8xDAxv9o3KSXzCrRxmE1RUU6TJRd+gv5xlMTt7BzFAeTqFIoFcJTNmFqa27vGGP8AbZLac2GEvphFmlgKEKSUy14VFfKPlgkGWkxyzK4oqJe5Y3PDKFDeLLFE1rZ9Yk4lZcxkNDKaXLlmlxlC9EinC0Zja2LEvONcpIHadIUckNozCzynGYEBs3DRekeBqoHbENrPXN2ufUw7BKj6skwYbYU77KCzTJReZOFRmZqLNatLZVqAK1GUb4+M4HaPSubbobbG2vkltImEmU27XKeIG7v/ACPNJwVagPXsX6iGo+YWQ/vkDfEZc9px1og6x9hxJjxSU7UlhhvJbLlA3k0NfDfFvOgUVRRRpXUneT2n5aQ22KkFScabqpKhaKqgmiilSR+1pfvh5yY2fMxE0SlYit2a5yrvY3vuFN5IjGnEsGYKubef4RX5CNjyR5TYVJcuWZM158wgnoqahuqVv1Rp2GpPGJtjpH2fZPNYaRLkBqhFpVqAsdSTS1ySYum7Ykj41/iX6xlklrY5aW0oAR2GkStwibHQ/wD75kamYtO8H0iL7dw/369ysfQQow8yhpF7NDsKL5m3ZH3m/wAuZ/0wvxfKbDLbnVroAbNXtU3ETeZA817qeB9jBYqK/wC/Ee6MGG7L0vSITscWUihoeKkeogn7ZAuNxFVMSUCmbHC0UmZETNhiJTDwiFDEedvEqwhiVZ44/MRNZv5rAizDFiuYkYVWusczb9fE/WKlYx2hgAvV9DpFWKnXMRaTXWsUzMCT8bf6fpC1GXYDEgvD/CNMr0CAPeMxh8Hkaqm/aa1+doeYHFulOgWqadAg+pFIcRMdyhOIGZ79gjuLnvKltMZzRRWFcrbTAkFRY07Relx5QedrYZ0KThVW6LXIBG/S9e6G+WghAeUUyxLmpvlFgB20hPtH+0R0BSVdvvEmg7RxjVcouTcibgJgwcsGaQGVi1XahBK5mNqiopaPmWF5GzakYiYsigstQ7nQ0bKaKL61J7IjDwMrzSYOV6ITYzGPPcvMcux6zE1MOuT7Krq9QTKOZDW4Jre276w52psvApgGlyRmnqVcvlHSp11rqRQmla34Qn5DYqSuIJnIrrlqK1oHBGWoBAIpXW0bSuUHRK0ZpdrbamNQZ7EA2tZqW8Kwpl4s1rU17T3/AEjWbSOGxGuEykUFRMKm1KWW1LUiOF2FhKBlRwaEZucYkEggih6O86jfHGsFm2ZE5W3MmGluRV3LAE6UWgr26gQDP5RvlJzAW3Ure3nWGszZ0vmvs+QFFbMrNdyfxClB2CkYnlHMlrNZJahVTWhN2PSOtbCtPAxXAbatiz9gLC8oJuEoWmc8psedAY1OrKda99Yr2zjDOBLUNqigA8oA2hstzLkz845yYwMuV8Sya9GYddTQ90Qw1aGUxBZa76Eg3Gv50jqszpFvJ0ZDLGYAzZydGxqktWNa1+84txXsie05ZIJGoYmnHWFRxhl4hadWUaDgStnPmWhoJ1ekN8FjoXLMNIklSaDWLcRhj11FibjgfpHkIUUqK7z7DshiL1IUZRpqT94/TgIraaTZbt4W7aaxFHDEAXJsP++gja7I2PKloUcKxfrEqHAO6imlQO8QAYrDyFJmrNd5ZEpnl9GzzAK5GNiCd3fBnJTZ5mM+JmHLIwsvMSb1YqciDvoSRv03xpdj7MkZcTKms81OcCXCrmCy0PVFQtCTSnCL57IhlyZMt1Vp8kVJXK1ZgmOFUINAp32ywCGfIiWyAM2cCYq0ltUZCKk0B7/KkatpsBGf2xznhElDGQ16xa8yF8rErSgiL4iAAubMgWZNuO+AJ2PXey+YgU7Vlj4142Nd/ZAA4LxRiGsYTTuUUoUpmbuWn81IFxPKCo6CEntIUfKtYVMBkXiBeEyYzEP1Za+Z/pHv+K3mWPL6mEMco94t52M6wnb56L3X9ojmm/8A9P8Ap/pDAISb2RMTIoWWYmJR4iGSWAxNB3+cQRKb4vQwAdCnjFijjeOAx1RABNJYi1V4RBQYsEpjxgGSSWu+3aNfEb4oxuGZh0CDvI0PGCBhW4H0jnMnioP4qGEIa8jGeUSk0UVuoag0a9VsbVFD4Qn27s+Y2KmgADNRgSwuCALDXju3QRIxBU3cfxH8mKsVPlN0mKki4qSaC9QIbbCgVOTTlQpdVqKGgqaanWlb2j59J2fPlYsSFSs1WplAzFr1BAB0Iv3GPo6cqpNBQubbkHvDjkdNwT4lsWWAnsvNUdgCEBBqErvtfshxYpAmK2a0t6MJhAAzZFBYHhSpO8aA6GDJOAVrpnA1C0Iymt7MK6WvGp5U8zzRcTpct1FRmfKG/ZJ7eN+6MCm3MQ10kH/U3oIlpIa1Hy4DSoNragV118x5CPiu3JxMydxaY414ud8fUFx+OPVk5e9SL+JEfLOVeDeXPmpMGUsTM3UIck1FCeJHhAmu5VMZbV2Zi8Mf+KZHYyzkKZQFFArUIC3AC30hls/JJwUzEcyVu0tWZtZgCHMlKZgiK1a2q0Z+Ztxp06U+IZgiSilQM9WpSlALVPHjCvGYlpvQUFZQaqpxY78ugJhiJ7A2BNxXOGWVGQLXNUAlq2BAN7QVitnz8P8ArEopsGBDLXvGnjGj2NhcJIkKsyY5c9JwoFAx3VY3ppWnGL5uLwJBXm5jqdczKoPksKx0ZOZjhlCjTf2xQu0kFhKWv53RqBicDLumBVuBZnmR6dyjopVMGiAgj9UQbilix17YSk1t7A4oDweEd5azDNWWTRgolZhTUZixEK9s7TxUl8rTXobqRQKR2WrY2oSYc4TlBiZaJJlKtFUAHKtaDiSK9kVbU+1YpQs9wwBqLdU8V0pFXJipCZ8fNbLRnFQS7A0Bc2zUWtQAF7TQ1h5yM2RPL/arMFzKjTGABY2YjMw0FRbj2QHh+TlLF2I4W+kOJODIoKm1h2Q8r2FaNG3PnrT5CfvqfQGOFfvYxf3VY+iiEwk9piQlQsr7jtdhoVk78TObuWnq0QP2X7s5u9lHsYACx6sGTzDMHc7hxph/4pjH0pHRjEGkiUO8E+rQurHqw8i/jDMxkNqMOqste6WnuI8dtT/8QjuoPQQrLREtBw49hZn3DJuLZjVmLHtJMUmYIoLRWWiqFYQ0yI84IHLRzPBQWG/ak+8fKPHHyxqfSKZOBYgUwTE/tFte5oKl7Ln7sJJXtbL/ANUZW+3sXS7lP98ShvHnFkvbAJoqk9ysfSDE2difvYeX3AV/lMXrs2cetiwPwp9KRLk129fsNRXn6Ai4ycerJf8AgI/mi5WxX+Fl/EyL7wQ2yZY/WYmafEL6mIfY8AOs5b8UwewhZ/Ne48vkU559806Qv/y3H8IvHjO+9ipQ7lmP9IKSfs5fgU9+dv6Rcm3MGvVkL4Sl/wBxhW/P0/cdLy9RZz0nfiXY/sSaHwLGJokptBjJncFFf4VMNRyuA6kmngq+gMVvy0nblA72+gEHxdn9ELTy+oPL2cT1cDiG/FMmD0AglNiT/h2eg/HMLfzPERyhxr9VK/hR29zFittN9EmD/wCML/MIMsu3rJjtd/ogiXsTFf4GETvAPuYqxOGxiGglyz2y0lkfMVHjEk2PtNtSy98xR/KYsHJPFt156DvmMfaDI969xZl5gnM47Xq+MtfSITJOJ+PEqO+cfQGGacih8eJXwUt/ugGdyWmq1FKOPvVK+YI+sL4VuvT7j1ez9QCbIX48Sh7szwq2vszCzVo01ywrlKyyKH943HZGhPJ9h15slf3j9I4NkyB1sSn7or7w8y/yf6L7Blfb+ep8zTYOIBoMpG4moNO4Vp5wywGx8l3UO3ZVad0bsYTBjWbMbuWnqI6PsY0lTG/E1PQxTkns/YVNboyi4QDSVL8RmPzi0S24qO5VjT/bZA6uFT945vUR0bZYdWVKXuX+sKvy+r/6F/mM2mHmN8Tnu/8ArBKbGmt8Dn8RP+4w2m7YnH4gO5VHtAszGTTq7eZHpDSnskgbju2VyeSswX5tV33YelTFo2GR15slf3qmBZjV1Ne819YlLlMeqjHuUn0EXU939Cfh2RzFYMJpMlv3Vr8xT5xRlEHLs2adJZ8aD1MXS9izTrlHjX0EHEilqwySfJCoiImHDbJVevOUeQ9TFU3C4UD9c1ewV9B7wcWO3sHDe4qJjlRFs9VB6LFh2jL7mKSY0TsijhMRJjpIiBpDEdJiJMRaIGsAEmMVkxxjFZaADpaI5zES0RrABvsdofGAJMej0ceNyOjDLVgXafVPdHo9HLHqN5dJl118YsGkdj0equRxbliwQsej0ICxt8b3kb+rWPR6ExmtbSPR6PRIAGO0gGX+fnHo9Hl+I/EZ3YPQWrGc5T6juj0eh4H4iFi9JncP7H3izdHo9HrHCeiY0j0egAqfSOiPR6ADh0j0dj0ADjYGp74dNHo9Hn43WdmF0kWhHyj0HcY7HoMLrQYvSzOJE2j0ej0TiK4gI9HoAK5kVmOx6ADgiLR2PQAVvFRj0ehgQMcj0ehAf//Z"},{name:"Chopper",image:"https://images.pexels.com/photos/2393821/pexels-photo-2393821.jpeg"}],Ne=({listing:D})=>{const[be,ie]=w.useState(0),ge=w.useRef(0),G=w.useRef(0),k=w.useRef(null),[$,N]=w.useState(null);w.useEffect(()=>{(async()=>{try{const{data:H,error:je}=await ee.from("profiles").select("avatar_url").eq("id",D.sellerId).single();!je&&H&&N(H.avatar_url)}catch(H){console.error("Error fetching seller avatar:",H)}})()},[D.sellerId]);const q=A=>{ge.current=A.targetTouches[0].clientX},I=A=>{G.current=A.targetTouches[0].clientX},P=A=>{if(A.preventDefault(),A.stopPropagation(),!ge.current||!G.current)return;const H=ge.current-G.current,je=H>50,Re=H<-50;je&&be<D.images.length-1&&ie(He=>He+1),Re&&be>0&&ie(He=>He-1)},B=A=>{A.preventDefault(),A.stopPropagation(),ie(H=>H===D.images.length-1?0:H+1)},Z=A=>{A.preventDefault(),A.stopPropagation(),ie(H=>H===0?D.images.length-1:H-1)},le=A=>{A.preventDefault(),A.stopPropagation(),F(`/profil/${D.sellerId}`)},de=()=>D.images&&D.images.length>0&&D.images[be]?D.images[be]:"https://images.pexels.com/photos/2116475/pexels-photo-2116475.jpeg";return e.jsx(ke,{to:`/anunt/${D.id}`,className:"bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-lg transition-all duration-300 group border border-gray-100 block",children:e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsxs("div",{ref:k,className:"relative w-full sm:w-64 flex-shrink-0",onTouchStart:q,onTouchMove:I,onTouchEnd:P,children:[e.jsx("img",{loading:"lazy",src:de(),alt:D.title,className:"w-full h-48 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300",onError:A=>{const H=A.currentTarget;H.src="https://images.pexels.com/photos/2116475/pexels-photo-2116475.jpeg"}}),D.images&&D.images.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:Z,className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white/80 backdrop-blur-sm rounded-full p-1.5 hover:bg-white transition-colors opacity-0 group-hover:opacity-100 hidden sm:block",children:e.jsx(Bo,{className:"h-4 w-4 text-gray-600"})}),e.jsx("button",{onClick:B,className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white/80 backdrop-blur-sm rounded-full p-1.5 hover:bg-white transition-colors opacity-0 group-hover:opacity-100 hidden sm:block",children:e.jsx(ki,{className:"h-4 w-4 text-gray-600"})}),e.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1",children:D.images.map((A,H)=>e.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-colors ${H===be?"bg-white":"bg-white/50"}`},H))})]}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("span",{className:"bg-nexar-accent text-white px-3 py-1 rounded-full text-xs font-semibold",children:D.category})})]}),e.jsxs("div",{className:"flex-1 p-4 sm:p-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-3",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 group-hover:text-nexar-accent transition-colors mb-2",children:D.title}),e.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:["€",D.price.toLocaleString()]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full overflow-hidden border border-gray-200",children:$?e.jsx("img",{loading:"lazy",src:$,alt:D.seller,className:"w-full h-full object-cover",onError:A=>{const H=A.currentTarget;H.style.display="none";const je=H.parentElement;je&&(je.innerHTML=`<div class="w-full h-full bg-nexar-accent flex items-center justify-center text-white text-xs font-bold">${D.seller.charAt(0).toUpperCase()}</div>`)}}):e.jsx("div",{className:"w-full h-full bg-nexar-accent flex items-center justify-center text-white text-xs font-bold",children:D.seller.charAt(0).toUpperCase()})}),e.jsx("button",{onClick:le,className:"font-semibold text-nexar-accent hover:text-nexar-gold transition-colors underline",children:D.seller})]}),D.sellerType==="dealer"?e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white px-3 py-1.5 rounded-full shadow-md border border-emerald-400",children:[e.jsx(Js,{className:"h-3 w-3"}),e.jsx("span",{className:"font-bold text-xs tracking-wide",children:"DEALER PREMIUM"}),e.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full animate-pulse"})]}):e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-slate-500 to-slate-600 text-white px-3 py-1.5 rounded-full shadow-md",children:[e.jsx(sa,{className:"h-3 w-3"}),e.jsx("span",{className:"font-semibold text-xs",children:"PRIVAT"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 sm:gap-6 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(Hs,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:D.year})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(fm,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-sm font-medium",children:[D.mileage.toLocaleString()," km"]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(cr,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:D.location})]})]}),e.jsxs("div",{className:"bg-nexar-accent text-white px-6 py-2.5 rounded-lg font-semibold hover:bg-nexar-gold transition-colors inline-flex items-center space-x-2",children:[e.jsx("span",{children:"Vezi Detalii"}),e.jsx(ki,{className:"h-4 w-4"})]})]})]})})};return e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("section",{className:"relative bg-gradient-to-br from-gray-900 via-gray-800 to-black overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-40"}),e.jsx("div",{className:"relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold mb-6 leading-tight",children:["Cumpără și Vinde Motociclete",e.jsx("span",{className:"block text-nexar-accent text-xl sm:text-2xl",children:"GRATUIT"})]}),e.jsx("div",{className:"max-w-md mx-auto mb-6",children:e.jsxs("div",{className:"relative backdrop-blur-md bg-white/10 rounded-xl p-1 border border-white/20",children:[e.jsx("input",{type:"text",value:u,onChange:D=>h(D.target.value),placeholder:"Caută după marcă, model sau tip...",className:"w-full pl-4 pr-16 py-2.5 text-sm rounded-lg border-0 bg-white/90 backdrop-blur-sm focus:ring-2 focus:ring-nexar-accent shadow-lg text-gray-900 placeholder-gray-600"}),e.jsx("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-nexar-accent text-white px-3 py-1.5 rounded-lg font-semibold hover:bg-nexar-gold transition-colors text-xs shadow-lg",children:"Caută"})]})}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:e.jsx(ke,{to:"/adauga-anunt",className:"bg-white/90 backdrop-blur-sm text-gray-900 px-5 py-2.5 rounded-lg font-semibold hover:bg-white transition-all duration-200 transform hover:scale-105 shadow-lg border border-white/30 text-sm",children:"Vinde Motocicleta Ta"})})]})})]}),e.jsx("section",{className:"py-8 sm:py-16 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"block lg:hidden mb-6",children:[e.jsxs("button",{onClick:()=>a(!s),className:"w-full flex items-center justify-center space-x-2 bg-white text-gray-700 px-4 py-3 rounded-lg font-semibold hover:bg-gray-50 transition-colors border border-gray-200 mb-4",children:[e.jsx(jh,{className:"h-4 w-4"}),e.jsxs("span",{children:[s?"Ascunde":"Arată"," Filtrele"]})]}),s&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[e.jsx(yh,{className:"h-5 w-5"}),e.jsx("span",{children:"Filtrează Rezultatele"})]}),e.jsx("button",{onClick:()=>a(!1),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Bt,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Preț (EUR)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{type:"number",placeholder:"Min",value:f.priceMin,onChange:D=>re("priceMin",D.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-nexar-accent focus:border-transparent"}),e.jsx("input",{type:"number",placeholder:"Max",value:f.priceMax,onChange:D=>re("priceMax",D.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-nexar-accent focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Categorie"}),e.jsxs("select",{value:f.category,onChange:D=>re("category",D.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-nexar-accent focus:border-transparent",children:[e.jsx("option",{value:"",children:"Toate categoriile"}),e.jsx("option",{value:"sport",children:"Sport"}),e.jsx("option",{value:"touring",children:"Touring"}),e.jsx("option",{value:"cruiser",children:"Cruiser"}),e.jsx("option",{value:"adventure",children:"Adventure"}),e.jsx("option",{value:"naked",children:"Naked"}),e.jsx("option",{value:"scooter",children:"Scooter"}),e.jsx("option",{value:"enduro",children:"Enduro"}),e.jsx("option",{value:"chopper",children:"Chopper"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Marcă"}),e.jsxs("select",{value:f.brand,onChange:D=>re("brand",D.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-nexar-accent focus:border-transparent",children:[e.jsx("option",{value:"",children:"Toate mărcile"}),e.jsx("option",{value:"Yamaha",children:"Yamaha"}),e.jsx("option",{value:"Honda",children:"Honda"}),e.jsx("option",{value:"BMW",children:"BMW"}),e.jsx("option",{value:"Ducati",children:"Ducati"}),e.jsx("option",{value:"KTM",children:"KTM"}),e.jsx("option",{value:"Suzuki",children:"Suzuki"}),e.jsx("option",{value:"Harley-Davidson",children:"Harley-Davidson"}),e.jsx("option",{value:"Kawasaki",children:"Kawasaki"}),e.jsx("option",{value:"Triumph",children:"Triumph"}),e.jsx("option",{value:"Aprilia",children:"Aprilia"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"An fabricație"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{type:"number",placeholder:"De la",value:f.yearMin,onChange:D=>re("yearMin",D.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-nexar-accent focus:border-transparent"}),e.jsx("input",{type:"number",placeholder:"Până la",value:f.yearMax,onChange:D=>re("yearMax",D.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-nexar-accent focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Locația"}),e.jsxs("select",{value:f.location,onChange:D=>re("location",D.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-nexar-accent focus:border-transparent",children:[e.jsx("option",{value:"",children:"Toate locațiile"}),e.jsx("option",{value:"București S1",children:"București S1"}),e.jsx("option",{value:"București S2",children:"București S2"}),e.jsx("option",{value:"București S3",children:"București S3"}),e.jsx("option",{value:"București S4",children:"București S4"}),e.jsx("option",{value:"București S5",children:"București S5"}),e.jsx("option",{value:"București S6",children:"București S6"}),e.jsx("option",{value:"Cluj-Napoca",children:"Cluj-Napoca"}),e.jsx("option",{value:"Timișoara",children:"Timișoara"}),e.jsx("option",{value:"Iași",children:"Iași"}),e.jsx("option",{value:"Constanța",children:"Constanța"}),e.jsx("option",{value:"Brașov",children:"Brașov"}),e.jsx("option",{value:"Craiova",children:"Craiova"}),e.jsx("option",{value:"Galați",children:"Galați"}),e.jsx("option",{value:"Oradea",children:"Oradea"}),e.jsx("option",{value:"Ploiești",children:"Ploiești"}),e.jsx("option",{value:"Sibiu",children:"Sibiu"}),e.jsx("option",{value:"Bacău",children:"Bacău"}),e.jsx("option",{value:"Râmnicu Vâlcea",children:"Râmnicu Vâlcea"}),$t.map(D=>!D.startsWith("București")&&D!=="Râmnicu Vâlcea"&&D!=="Rm. Vâlcea"&&e.jsx("option",{value:D,children:D},D))]})]}),e.jsxs("button",{onClick:M,className:"w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-200 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Bt,{className:"h-4 w-4"}),e.jsx("span",{children:"Șterge Filtrele"})]})]})]})]}),e.jsxs("div",{className:"hidden lg:flex gap-6",children:[e.jsx("div",{className:`${s?"w-80":"w-0"} transition-all duration-300 overflow-hidden`,children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 sticky top-24 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[e.jsx(yh,{className:"h-5 w-5"}),e.jsx("span",{children:"Filtrează Rezultatele"})]}),e.jsx("button",{onClick:()=>a(!1),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Bt,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Preț (EUR)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{type:"number",placeholder:"Min",value:f.priceMin,onChange:D=>re("priceMin",D.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-nexar-accent focus:border-transparent"}),e.jsx("input",{type:"number",placeholder:"Max",value:f.priceMax,onChange:D=>re("priceMax",D.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-nexar-accent focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Categorie"}),e.jsxs("select",{value:f.category,onChange:D=>re("category",D.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-nexar-accent focus:border-transparent",children:[e.jsx("option",{value:"",children:"Toate categoriile"}),e.jsx("option",{value:"sport",children:"Sport"}),e.jsx("option",{value:"touring",children:"Touring"}),e.jsx("option",{value:"cruiser",children:"Cruiser"}),e.jsx("option",{value:"adventure",children:"Adventure"}),e.jsx("option",{value:"naked",children:"Naked"}),e.jsx("option",{value:"scooter",children:"Scooter"}),e.jsx("option",{value:"enduro",children:"Enduro"}),e.jsx("option",{value:"chopper",children:"Chopper"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Marcă"}),e.jsxs("select",{value:f.brand,onChange:D=>re("brand",D.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-nexar-accent focus:border-transparent",children:[e.jsx("option",{value:"",children:"Toate mărcile"}),e.jsx("option",{value:"Yamaha",children:"Yamaha"}),e.jsx("option",{value:"Honda",children:"Honda"}),e.jsx("option",{value:"BMW",children:"BMW"}),e.jsx("option",{value:"Ducati",children:"Ducati"}),e.jsx("option",{value:"KTM",children:"KTM"}),e.jsx("option",{value:"Suzuki",children:"Suzuki"}),e.jsx("option",{value:"Harley-Davidson",children:"Harley-Davidson"}),e.jsx("option",{value:"Kawasaki",children:"Kawasaki"}),e.jsx("option",{value:"Triumph",children:"Triumph"}),e.jsx("option",{value:"Aprilia",children:"Aprilia"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"An fabricație"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{type:"number",placeholder:"De la",value:f.yearMin,onChange:D=>re("yearMin",D.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-nexar-accent focus:border-transparent"}),e.jsx("input",{type:"number",placeholder:"Până la",value:f.yearMax,onChange:D=>re("yearMax",D.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-nexar-accent focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Locația"}),e.jsxs("select",{value:f.location,onChange:D=>re("location",D.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-nexar-accent focus:border-transparent",children:[e.jsx("option",{value:"",children:"Toate locațiile"}),e.jsx("option",{value:"București S1",children:"București S1"}),e.jsx("option",{value:"București S2",children:"București S2"}),e.jsx("option",{value:"București S3",children:"București S3"}),e.jsx("option",{value:"București S4",children:"București S4"}),e.jsx("option",{value:"București S5",children:"București S5"}),e.jsx("option",{value:"București S6",children:"București S6"}),e.jsx("option",{value:"Cluj-Napoca",children:"Cluj-Napoca"}),e.jsx("option",{value:"Timișoara",children:"Timișoara"}),e.jsx("option",{value:"Iași",children:"Iași"}),e.jsx("option",{value:"Constanța",children:"Constanța"}),e.jsx("option",{value:"Brașov",children:"Brașov"}),e.jsx("option",{value:"Craiova",children:"Craiova"}),e.jsx("option",{value:"Galați",children:"Galați"}),e.jsx("option",{value:"Oradea",children:"Oradea"}),e.jsx("option",{value:"Ploiești",children:"Ploiești"}),e.jsx("option",{value:"Sibiu",children:"Sibiu"}),e.jsx("option",{value:"Bacău",children:"Bacău"}),e.jsx("option",{value:"Râmnicu Vâlcea",children:"Râmnicu Vâlcea"}),$t.map(D=>!D.startsWith("București")&&D!=="Râmnicu Vâlcea"&&D!=="Rm. Vâlcea"&&e.jsx("option",{value:D,children:D},D))]})]}),e.jsxs("button",{onClick:M,className:"w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-200 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Bt,{className:"h-4 w-4"}),e.jsx("span",{children:"Șterge Filtrele"})]})]})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[e.jsxs("button",{onClick:()=>a(!s),className:"flex items-center space-x-2 bg-white text-gray-700 px-4 py-2 rounded-lg font-semibold hover:bg-gray-50 transition-colors border border-gray-200",children:[e.jsx(jh,{className:"h-4 w-4"}),e.jsxs("span",{children:[s?"Ascunde":"Arată"," Filtrele"]})]}),e.jsxs("p",{className:"text-gray-600",children:[K.length," rezultate găsite",u&&e.jsxs("span",{className:"ml-2 text-nexar-accent",children:['pentru "',u,'"']})]})]}),v&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center border border-gray-100",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-nexar-accent border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Se încarcă anunțurile..."}),e.jsx("p",{className:"text-gray-600",children:"Te rugăm să aștepți"})]}),E&&!v&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center border border-gray-100",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Bt,{className:"h-8 w-8 text-red-500"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Eroare la încărcare"}),e.jsx("p",{className:"text-gray-600 mb-6",children:E}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:e.jsxs("button",{onClick:C,className:"bg-nexar-accent text-white px-6 py-3 rounded-lg font-semibold hover:bg-nexar-gold transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Vt,{className:"h-5 w-5"}),e.jsx("span",{children:"Încearcă din nou"})]})})]}),!v&&!E&&K.length===0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center border border-gray-100",children:[e.jsx(Ho,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Nu am găsit rezultate"}),e.jsx("p",{className:"text-gray-600 mb-6",children:y.length===0?"Nu există anunțuri publicate încă. Fii primul care adaugă un anunț!":"Încearcă să modifici criteriile de căutare sau filtrele pentru a găsi mai multe rezultate."}),y.length===0?e.jsx(ke,{to:"/adauga-anunt",className:"bg-nexar-accent text-white px-6 py-3 rounded-lg font-semibold hover:bg-nexar-gold transition-colors",children:"Adaugă primul anunț"}):e.jsx("button",{onClick:M,className:"bg-nexar-accent text-white px-6 py-3 rounded-lg font-semibold hover:bg-nexar-gold transition-colors",children:"Șterge Toate Filtrele"})]}),!v&&!E&&K.length>0&&e.jsx("div",{className:"space-y-4",children:ve.map(D=>e.jsx(Ne,{listing:D},D.id))})]})]}),e.jsxs("div",{className:"block lg:hidden",children:[v&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center border border-gray-100",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-nexar-accent border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Se încarcă anunțurile..."})]}),E&&!v&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center border border-gray-100",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Bt,{className:"h-6 w-6 text-red-500"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Eroare la încărcare"}),e.jsx("p",{className:"text-gray-600 mb-6 text-sm",children:E}),e.jsx("div",{className:"flex flex-col gap-3",children:e.jsxs("button",{onClick:C,className:"bg-nexar-accent text-white px-6 py-3 rounded-lg font-semibold hover:bg-nexar-gold transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Vt,{className:"h-5 w-5"}),e.jsx("span",{children:"Încearcă din nou"})]})})]}),!v&&!E&&K.length===0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center border border-gray-100",children:[e.jsx(Ho,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nu am găsit rezultate"}),e.jsx("p",{className:"text-gray-600 mb-6 text-sm",children:y.length===0?"Nu există anunțuri publicate încă. Fii primul care adaugă un anunț!":"Încearcă să modifici criteriile de căutare sau filtrele pentru a găsi mai multe rezultate."}),y.length===0?e.jsx(ke,{to:"/adauga-anunt",className:"bg-nexar-accent text-white px-6 py-3 rounded-lg font-semibold hover:bg-nexar-gold transition-colors",children:"Adaugă primul anunț"}):e.jsx("button",{onClick:M,className:"bg-nexar-accent text-white px-6 py-3 rounded-lg font-semibold hover:bg-nexar-gold transition-colors",children:"Șterge Toate Filtrele"})]}),!v&&!E&&K.length>0&&e.jsx("div",{className:"space-y-4",children:ve.map(D=>e.jsx(Ne,{listing:D},D.id))})]}),!v&&!E&&K.length>0&&R>1&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>Te(Math.max(1,l-1)),disabled:l===1,className:"flex items-center space-x-1 px-3 py-2 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Bo,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Anterior"})]}),[...Array(R)].map((D,be)=>{const ie=be+1;return R<=5||ie===1||ie===R||ie>=l-1&&ie<=l+1?e.jsx("button",{onClick:()=>Te(ie),className:`px-3 py-2 rounded-lg transition-colors ${l===ie?"bg-nexar-accent text-white":"border border-gray-200 hover:bg-gray-50"}`,children:ie},ie):ie===l-2||ie===l+2?e.jsx("span",{className:"px-2 py-2 text-gray-400",children:"..."},ie):null}),e.jsxs("button",{onClick:()=>Te(Math.min(R,l+1)),disabled:l===R,className:"flex items-center space-x-1 px-3 py-2 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("span",{className:"hidden sm:inline",children:"Următorul"}),e.jsx(ki,{className:"h-4 w-4"})]})]})})]})}),e.jsx("section",{className:"py-16 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-3",children:"Categorii Populare"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Găsește exact tipul de motocicletă pe care îl cauți"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Ce.map((D,be)=>e.jsxs(ke,{to:`/?categorie=${D.name.toLowerCase()}`,className:"group relative overflow-hidden rounded-lg shadow-sm hover:shadow-md transition-all duration-300 transform hover:scale-105 border border-gray-200",onClick:()=>{p(ie=>({...ie,category:D.name.toLowerCase()})),window.scrollTo(0,0)},children:[e.jsx("img",{loading:"lazy",src:D.image,alt:D.name,className:"w-full h-32 object-cover group-hover:scale-110 transition-transform duration-300"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-3 text-white",children:e.jsx("h3",{className:"font-bold mb-1",children:D.name})})]},be))})]})}),e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-3",children:"De Ce Să Alegi Nexar?"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-xl mx-auto",children:"Oferim cea mai sigură și eficientă platformă pentru cumpărarea și vânzarea motocicletelor"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm text-center hover:shadow-md transition-shadow border border-gray-200",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-nexar-accent/10 rounded-lg mb-4",children:e.jsx(ls,{className:"h-6 w-6 text-nexar-accent"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Siguranță Garantată"}),e.jsx("p",{className:"text-gray-600 leading-relaxed text-sm",children:"Toate anunțurile sunt verificate manual. Sistem de rating și recenzii pentru fiecare vânzător."})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm text-center hover:shadow-md transition-shadow border border-gray-200",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-nexar-accent/10 rounded-lg mb-4",children:e.jsx(ls,{className:"h-6 w-6 text-nexar-accent"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Proces Simplificat"}),e.jsx("p",{className:"text-gray-600 leading-relaxed text-sm",children:"Interfață intuitivă și proces de listare simplu. Publică anunțul tău în doar câteva minute."})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm text-center hover:shadow-md transition-shadow border border-gray-200",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-nexar-accent/10 rounded-lg mb-4",children:e.jsx(ea,{className:"h-6 w-6 text-nexar-accent"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Comunitate Activă"}),e.jsx("p",{className:"text-gray-600 leading-relaxed text-sm",children:"Peste 15,000 de pasionați de motociclete. Găsește sfaturi și recomandări de la experți."})]})]})]})})]})};class Ty{supabaseUrl;supabaseAnonKey;testClient;constructor(){this.supabaseUrl="https://tidnmzsivsthwwcfdzyo.supabase.co",this.supabaseAnonKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRpZG5tenNpdnN0aHd3Y2ZkenlvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MjE5NTgsImV4cCI6MjA2NjI5Nzk1OH0.Sr1gSZ2qtoff7gmulkT8uIzB8eL7gqKUUNVj82OqHog",this.testClient=Mr(this.supabaseUrl,this.supabaseAnonKey,{auth:{autoRefreshToken:!1,persistSession:!1,detectSessionInUrl:!1}})}async testBasicConnectivity(){try{console.log("🔍 Testing basic connectivity to Supabase...");const s=await fetch(`${this.supabaseUrl}/rest/v1/`,{method:"GET",headers:{apikey:this.supabaseAnonKey,Authorization:`Bearer ${this.supabaseAnonKey}`,"Content-Type":"application/json"}});if(!s.ok)throw new Error(`HTTP ${s.status}: ${s.statusText}`);return console.log("✅ Basic connectivity test passed"),{success:!0}}catch(s){return console.error("❌ Basic connectivity test failed:",s),{success:!1,error:s.message,details:{url:this.supabaseUrl,errorType:s.name,message:s.message}}}}async testDatabaseAccess(){try{console.log("🔍 Testing database access...");const{data:s,error:a}=await this.testClient.from("profiles").select("count",{count:"exact",head:!0});if(a)throw a;return console.log("✅ Database access test passed"),{success:!0,details:{count:s}}}catch(s){return console.error("❌ Database access test failed:",s),{success:!1,error:s.message,details:{errorCode:s.code,errorMessage:s.message,hint:s.hint}}}}async testCORSConfiguration(){try{console.log("🔍 Testing CORS configuration...");const s=await fetch(`${this.supabaseUrl}/rest/v1/profiles`,{method:"OPTIONS",headers:{Origin:window.location.origin,"Access-Control-Request-Method":"GET","Access-Control-Request-Headers":"apikey, authorization, content-type"}}),a={"Access-Control-Allow-Origin":s.headers.get("Access-Control-Allow-Origin"),"Access-Control-Allow-Methods":s.headers.get("Access-Control-Allow-Methods"),"Access-Control-Allow-Headers":s.headers.get("Access-Control-Allow-Headers")};return console.log("✅ CORS test completed",a),{success:!0,details:{corsHeaders:a,origin:window.location.origin,status:s.status}}}catch(s){return console.error("❌ CORS test failed:",s),{success:!1,error:s.message,details:{origin:window.location.origin,errorType:s.name}}}}async runComprehensiveDiagnosis(){console.log("🚀 Starting comprehensive Supabase connection diagnosis...");const s={connectivity:await this.testBasicConnectivity(),database:await this.testDatabaseAccess(),cors:await this.testCORSConfiguration()},a=[];s.connectivity.success||(a.push("❌ Basic connectivity failed - Check if Supabase project is active and not paused"),a.push("🔧 Verify project URL and API key in Supabase Dashboard → Settings → API"),a.push("🌐 Check your internet connection and firewall settings")),s.database.success||(a.push("❌ Database access failed - Check RLS policies and table permissions"),a.push("🔧 Ensure tables exist and are properly configured"),a.push("📋 Run the SQL migration script to fix database structure")),s.cors.success||(a.push("❌ CORS configuration issue detected"),a.push(`🔧 Add ${window.location.origin} to CORS allowed origins in Supabase Dashboard`),a.push("🌐 Go to Settings → API → CORS and add your domain"));const l=s.connectivity.success&&s.database.success;return l?a.push("✅ All tests passed! Connection is working properly"):(a.push("⚠️ Some tests failed - follow the recommendations above"),a.push("🔄 After making changes, refresh the page and test again")),console.log("📊 Diagnosis complete:",{overall:l,tests:s,recommendations:a}),{overall:l,tests:s,recommendations:a}}async attemptAutomaticFixes(){try{console.log("🔧 Attempting automatic fixes..."),localStorage.removeItem("supabase.auth.token"),sessionStorage.clear();const s=Mr(this.supabaseUrl,this.supabaseAnonKey,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1}}),{data:a,error:l}=await s.from("profiles").select("count",{count:"exact",head:!0});if(l)throw l;return console.log("✅ Automatic fix successful"),{success:!0,message:"Connection restored successfully!",details:{count:a}}}catch(s){return console.error("❌ Automatic fix failed:",s),{success:!1,message:`Automatic fix failed: ${s.message}`,details:s}}}}const Zs=new Ty,ia=({error:i,onRetry:s,onDiagnose:a})=>{const[l,c]=w.useState(!1),[u,h]=w.useState(null),[f,p]=w.useState(!1),y=i?.message?.includes("NetworkError")||i?.message?.includes("fetch")||i?.message?.includes("Failed to fetch"),x=async()=>{c(!0),h(null);try{const b=await Zs.runComprehensiveDiagnosis();h(b)}catch(b){console.error("Diagnosis failed:",b),h({overall:!1,tests:{},recommendations:["Failed to run diagnosis - please check manually"]})}finally{c(!1)}},v=async()=>{p(!0);try{(await Zs.attemptAutomaticFixes()).success&&setTimeout(()=>{s()},1e3)}catch(b){console.error("Quick fix failed:",b)}finally{p(!1)}};return y?e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(gx,{className:"h-8 w-8 text-red-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Problemă de Conectivitate"}),e.jsx("p",{className:"text-gray-600",children:"Nu ne putem conecta la serverul Supabase. Acest lucru poate fi cauzat de:"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Cauze posibile:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-red-500",children:"•"}),e.jsx("span",{children:"Proiectul Supabase este în pauză sau inactiv"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-red-500",children:"•"}),e.jsx("span",{children:"Configurare CORS incorectă"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-red-500",children:"•"}),e.jsx("span",{children:"Credențiale API incorecte"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-red-500",children:"•"}),e.jsx("span",{children:"Probleme de rețea sau firewall"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[e.jsx("button",{onClick:x,disabled:l,className:"flex items-center justify-center space-x-2 bg-blue-600 text-white px-4 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Diagnosticare..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(is,{className:"h-5 w-5"}),e.jsx("span",{children:"Rulează Diagnosticul"})]})}),e.jsx("button",{onClick:v,disabled:f,className:"flex items-center justify-center space-x-2 bg-green-600 text-white px-4 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Se repară..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Vt,{className:"h-5 w-5"}),e.jsx("span",{children:"Încearcă Repararea"})]})})]}),u&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Rezultatul Diagnosticului:"}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${u.tests.connectivity?.success?"bg-green-500":"bg-red-500"}`}),e.jsxs("span",{className:"text-sm",children:["Conectivitate de bază: ",u.tests.connectivity?.success?"OK":"EȘUAT"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${u.tests.database?.success?"bg-green-500":"bg-red-500"}`}),e.jsxs("span",{className:"text-sm",children:["Acces bază de date: ",u.tests.database?.success?"OK":"EȘUAT"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${u.tests.cors?.success?"bg-green-500":"bg-red-500"}`}),e.jsxs("span",{className:"text-sm",children:["Configurare CORS: ",u.tests.cors?.success?"OK":"EȘUAT"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h5",{className:"font-medium text-gray-800",children:"Recomandări:"}),u.recommendations.map((b,E)=>e.jsx("p",{className:"text-sm text-gray-700",children:b},E))]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Soluții Manuale:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("a",{href:"https://supabase.com/dashboard",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 transition-colors",children:[e.jsx(Pi,{className:"h-4 w-4"}),e.jsx("span",{children:"Verifică Supabase Dashboard"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("p",{className:"mb-2",children:e.jsx("strong",{children:"Pași de verificare:"})}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-4",children:[e.jsxs("li",{children:["Verifică dacă proiectul ",e.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"tidnmzsivsthwwcfdzyo"})," este activ"]}),e.jsx("li",{children:"Mergi la Settings → API și verifică credențialele"}),e.jsxs("li",{children:["Mergi la Settings → API → CORS și adaugă ",e.jsx("code",{className:"bg-gray-200 px-1 rounded",children:window.location.origin})]}),e.jsx("li",{children:"Salvează modificările și așteaptă câteva minute"})]})]})]})]}),e.jsx("div",{className:"flex justify-center mt-6",children:e.jsxs("button",{onClick:s,className:"flex items-center space-x-2 bg-gray-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-700 transition-colors",children:[e.jsx(Vt,{className:"h-5 w-5"}),e.jsx("span",{children:"Încearcă Din Nou"})]})})]}):e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(fe,{className:"h-6 w-6 text-red-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:"A apărut o eroare"}),e.jsx("p",{className:"text-red-700 mb-4",children:i?.message||"Eroare necunoscută"}),e.jsx("button",{onClick:s,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-700 transition-colors",children:"Încearcă din nou"})]})]})})},Ay=()=>{const{id:i}=ic(),s=St(),[a,l]=w.useState(0),c=w.useRef(null),u=w.useRef(null),[h,f]=w.useState(null),[p,y]=w.useState(!0),[x,v]=w.useState(null),[b,E]=w.useState(null);w.useEffect(()=>{window.scrollTo(0,0),i&&z(i)},[i]);const z=async re=>{try{y(!0),v(null),E(null),console.log("🔄 Loading listing details for ID:",re);const{data:M,error:Te}=await Ii.getById(re);if(Te){console.error("❌ Error loading listing:",Te),v("Nu s-a putut încărca anunțul");return}if(!M){console.error("❌ Listing not found"),v("Anunțul nu a fost găsit");return}console.log("✅ Listing loaded successfully:",M);const{data:Ce,error:Ne}=await ee.from("profiles").select("*").eq("id",M.seller_id).single();Ne&&console.error("❌ Error loading seller profile:",Ne);const D={id:M.id,title:M.title,price:`€${M.price.toLocaleString()}`,year:M.year,mileage:`${M.mileage.toLocaleString()} km`,location:M.location,images:M.images&&M.images.length>0?M.images:["https://images.pexels.com/photos/2116475/pexels-photo-2116475.jpeg"],seller:{id:M.seller_id,name:M.seller_name,verified:Ce?.verified||!1,phone:Ce?.phone||"0790 454 647",email:Ce?.email||"contact@nexar.ro",avatar:Ce?.avatar_url||"https://images.pexels.com/photos/2116475/pexels-photo-2116475.jpeg",type:M.seller_type},category:M.category,brand:M.brand,model:M.model,engine:`${M.engine_capacity}cc`,fuel:M.fuel_type,transmission:M.transmission,color:M.color,condition:M.condition,features:M.features||["ABS","Control tracțiune","Suspensie reglabilă","Frâne Brembo"],description:M.description||"Descriere indisponibilă",posted:V(M.created_at),views:M.views_count||0,featured:M.featured||!1,availability:M.availability||"pe_stoc"};f(D)}catch(M){console.error("💥 Error in loadListing:",M),M.message?.includes("NetworkError")||M.message?.includes("fetch")?E(M):v("A apărut o eroare la încărcarea anunțului")}finally{y(!1)}},V=re=>{const M=new Date(re),Ce=Math.abs(new Date().getTime()-M.getTime()),Ne=Math.ceil(Ce/(1e3*60*60*24));return Ne===0?"Astăzi":Ne===1?"Ieri":Ne<7?`Acum ${Ne} zile`:Ne<30?`Acum ${Math.floor(Ne/7)} săptămâni`:Ne<365?`Acum ${Math.floor(Ne/30)} luni`:`Acum ${Math.floor(Ne/365)} ani`},T=re=>{c.current=re.targetTouches[0].clientX},F=re=>{u.current=re.targetTouches[0].clientX},X=()=>{if(!c.current||!u.current||!h)return;const re=c.current-u.current,M=re>50,Te=re<-50;M&&a<h.images.length-1&&l(Ce=>Ce+1),Te&&a>0&&l(Ce=>Ce-1),c.current=null,u.current=null},C=()=>{h&&l(re=>re===h.images.length-1?0:re+1)},K=()=>{h&&l(re=>re===0?h.images.length-1:re-1)},R=()=>{if(!h)return;const re=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(h.location+", Romania")}`;window.open(re,"_blank")},se=()=>{h&&s(`/profil/${h.seller.id}`)},ne=()=>{E(null),i&&z(i)};if(b)return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx(ia,{error:b,onRetry:ne})})});if(p)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-nexar-accent border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Se încarcă anunțul..."})]})});if(x||!h)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg text-center max-w-md",children:[e.jsx(fe,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:x||"Anunț negăsit"}),e.jsx("p",{className:"text-gray-600 mb-6",children:x||"Anunțul căutat nu există sau a fost șters."}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:e.jsx(ke,{to:"/",className:"bg-nexar-accent text-white px-6 py-3 rounded-lg font-semibold hover:bg-nexar-gold transition-colors",children:"Vezi toate anunțurile"})})]})});const ve=[{icon:Hs,label:"Categorie",value:h.category,color:"text-blue-600"},{icon:ax,label:"Transmisie",value:h.transmission,color:"text-green-600"},{icon:hx,label:"Culoare",value:h.color,color:"text-purple-600"},{icon:hm,label:"Stare",value:h.condition,color:"text-emerald-600"},{icon:cr,label:"Locație",value:h.location,color:"text-red-600"}];return e.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6 sm:space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"relative",onTouchStart:T,onTouchMove:F,onTouchEnd:X,children:[e.jsx("img",{src:h.imagesThumbs?.[a]||h.images[a],alt:h.title,className:"w-full h-64 sm:h-96 object-cover",onError:re=>{const M=re.currentTarget;M.src="https://images.pexels.com/photos/2116475/pexels-photo-2116475.jpeg"}}),h.featured&&e.jsx("div",{className:"absolute top-3 sm:top-4 left-3 sm:left-4",children:e.jsx("span",{className:"bg-nexar-accent text-white px-3 sm:px-4 py-1 sm:py-2 rounded-full font-semibold text-sm",children:"Premium"})}),e.jsx("div",{className:"absolute top-3 sm:top-4 right-3 sm:right-4 flex space-x-2",children:e.jsx("button",{className:"bg-white/90 backdrop-blur-sm rounded-full p-2 sm:p-3 hover:bg-white transition-colors",children:e.jsx(fx,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600"})})}),e.jsx("button",{onClick:K,className:"absolute left-2 sm:left-4 top-1/2 transform -translate-y-1/2 bg-white/90 backdrop-blur-sm rounded-full p-2 hover:bg-white transition-colors",children:e.jsx(Bo,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-600"})}),e.jsx("button",{onClick:C,className:"absolute right-2 sm:right-4 top-1/2 transform -translate-y-1/2 bg-white/90 backdrop-blur-sm rounded-full p-2 hover:bg-white transition-colors",children:e.jsx(ki,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-600"})}),e.jsx("div",{className:"absolute bottom-3 sm:bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:h.images.map((re,M)=>e.jsx("button",{onClick:()=>l(M),className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full transition-colors ${M===a?"bg-white":"bg-white/50"}`},M))})]}),e.jsx("div",{className:"p-4 hidden sm:block",children:e.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:h.images.map((re,M)=>e.jsx("button",{onClick:()=>l(M),className:`flex-shrink-0 w-16 h-16 sm:w-20 sm:h-20 rounded-lg overflow-hidden border-2 transition-colors ${M===a?"border-nexar-accent":"border-gray-200"}`,children:e.jsx("img",{src:re,alt:`${h.brand} ${h.model} ${M+1}`,className:"w-full h-full object-cover",onError:Te=>{const Ce=Te.currentTarget;Ce.src="https://images.pexels.com/photos/2116475/pexels-photo-2116475.jpeg"}})},M))})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-4 sm:mb-6",children:[e.jsxs("div",{className:"mb-4 sm:mb-0",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:h.title}),e.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-2",children:[h.brand," ",h.model]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4 text-gray-600 text-sm",children:[e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(Hs,{className:"h-4 w-4"}),e.jsxs("span",{children:["Publicat ",h.posted]})]}),e.jsxs("span",{children:[h.views," vizualizări"]})]})]}),e.jsxs("div",{className:"text-left sm:text-right",children:[e.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-nexar-accent mb-2",children:h.price}),h.seller.type==="dealer"&&e.jsxs("div",{className:"text-sm font-medium text-gray-600",children:["Disponibilitate: ",h.availability==="pe_stoc"?"Pe stoc":"La comandă"]})]})]}),h.seller.type==="dealer"&&e.jsxs("div",{className:"mb-6 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white p-4 rounded-xl shadow-lg border border-emerald-400 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Js,{className:"h-6 w-6"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-lg",children:"DEALER VERIFICAT"}),e.jsxs("button",{onClick:se,className:"text-white underline hover:text-emerald-100 transition-colors text-sm",children:["Vândut de ",h.seller.name]})]})]}),e.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-8",children:[e.jsxs("div",{className:"text-center p-3 sm:p-4 bg-gray-50 rounded-xl",children:[e.jsx(Hs,{className:"h-6 w-6 sm:h-8 sm:w-8 text-nexar-accent mx-auto mb-2"}),e.jsx("div",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:h.year}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"An fabricație"})]}),e.jsxs("div",{className:"text-center p-3 sm:p-4 bg-gray-50 rounded-xl",children:[e.jsx(fm,{className:"h-6 w-6 sm:h-8 sm:w-8 text-nexar-accent mx-auto mb-2"}),e.jsx("div",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:h.mileage}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Kilometraj"})]}),e.jsxs("div",{className:"text-center p-3 sm:p-4 bg-gray-50 rounded-xl",children:[e.jsx(is,{className:"h-6 w-6 sm:h-8 sm:w-8 text-nexar-accent mx-auto mb-2"}),e.jsx("div",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:h.engine}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Capacitate motor"})]}),e.jsxs("div",{className:"text-center p-3 sm:p-4 bg-gray-50 rounded-xl",children:[e.jsx(ox,{className:"h-6 w-6 sm:h-8 sm:w-8 text-nexar-accent mx-auto mb-2"}),e.jsx("div",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:h.fuel}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Combustibil"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 mb-6 sm:mb-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl p-4 sm:p-6",children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-6 flex items-center space-x-2",children:[e.jsx(sx,{className:"h-5 w-5 sm:h-6 sm:w-6 text-nexar-accent"}),e.jsx("span",{children:"Detalii Tehnice"})]}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:ve.map((re,M)=>e.jsxs("div",{className:"flex items-center justify-between p-2 sm:p-3 bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx("div",{className:`p-1.5 sm:p-2 rounded-lg bg-gray-50 ${re.color}`,children:e.jsx(re.icon,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),e.jsx("span",{className:"font-medium text-gray-700 text-sm sm:text-base",children:re.label})]}),e.jsx("span",{className:"font-bold text-gray-900 text-sm sm:text-base",children:re.value})]},M))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-nexar-accent/5 to-nexar-gold/5 rounded-2xl p-4 sm:p-6",children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-6 flex items-center space-x-2",children:[e.jsx(is,{className:"h-5 w-5 sm:h-6 sm:w-6 text-nexar-accent"}),e.jsx("span",{children:"Dotări"})]}),e.jsx("div",{className:"grid grid-cols-1 gap-2 sm:gap-3",children:h.features.map((re,M)=>e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 p-2 sm:p-3 bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:scale-105",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 sm:w-8 sm:h-8 bg-nexar-accent/10 rounded-full flex items-center justify-center",children:e.jsx(ls,{className:"h-3 w-3 sm:h-4 sm:w-4 text-nexar-accent"})}),e.jsx("span",{className:"font-medium text-gray-800 text-sm sm:text-base",children:re})]},M))})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-4 sm:p-6",children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-3 sm:mb-4 flex items-center space-x-2",children:[e.jsx(is,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600"}),e.jsx("span",{children:"Descriere Detaliată"})]}),e.jsx("div",{className:"prose max-w-none text-gray-700 leading-relaxed text-sm sm:text-base",children:e.jsx("div",{className:"whitespace-pre-wrap break-words",children:h.description})})]})]})]}),e.jsx("div",{className:"space-y-4 sm:space-y-6",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 mb-4 sm:mb-6",children:[e.jsx("img",{loading:"lazy",src:h.seller.avatar,alt:h.seller.name,className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full object-cover",onError:re=>{const M=re.currentTarget;M.src="https://images.pexels.com/photos/2116475/pexels-photo-2116475.jpeg"}}),e.jsx("div",{children:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("button",{onClick:se,className:"text-base sm:text-lg font-semibold text-nexar-accent hover:text-nexar-gold transition-colors",children:h.seller.name})})})]}),h.seller.type==="dealer"&&e.jsxs("div",{className:"mb-4 p-3 bg-emerald-100 text-emerald-800 rounded-lg flex items-center justify-between lg:hidden",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Js,{className:"h-5 w-5"}),e.jsx("span",{className:"font-bold",children:"DEALER VERIFICAT"})]}),e.jsx("div",{className:"w-2 h-2 bg-emerald-600 rounded-full animate-pulse"})]}),e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs("a",{href:`tel:${h.seller.phone}`,className:"w-full bg-nexar-accent text-white py-2.5 sm:py-3 rounded-xl font-semibold hover:bg-nexar-gold transition-colors flex items-center justify-center space-x-2 text-sm sm:text-base",children:[e.jsx(cs,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsx("span",{children:"Sună Acum"})]}),e.jsxs("button",{onClick:R,className:"w-full border-2 border-gray-900 text-gray-900 py-2.5 sm:py-3 rounded-xl font-semibold hover:bg-gray-900 hover:text-white transition-colors flex items-center justify-center space-x-2 text-sm sm:text-base",children:[e.jsx(Pi,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsx("span",{children:"Vezi pe Hartă"})]})]})]})})]})})})},zm=({isOpen:i,onClose:s,onGoHome:a,onViewListing:l,title:c="Felicitări!",message:u="Anunțul a fost publicat cu succes!",showViewButton:h=!1})=>i?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 animate-scale-in",children:[e.jsxs("div",{className:"text-center p-8 pb-6",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 animate-bounce",children:e.jsx(mt,{className:"h-12 w-12 text-green-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:c}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:u})]}),e.jsx("div",{className:"px-8 pb-8",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:a,className:"w-full bg-nexar-accent text-white py-4 rounded-xl font-semibold hover:bg-nexar-gold transition-all duration-200 transform hover:scale-105 flex items-center justify-center space-x-2 shadow-lg",children:[e.jsx(Gn,{className:"h-5 w-5"}),e.jsx("span",{children:"Mergi la Pagina Principală"})]}),h&&l&&e.jsxs("button",{onClick:l,className:"w-full bg-gray-100 text-gray-700 py-4 rounded-xl font-semibold hover:bg-gray-200 transition-all duration-200 flex items-center justify-center space-x-2",children:[e.jsx(ur,{className:"h-5 w-5"}),e.jsx("span",{children:"Vezi Anunțul"})]}),e.jsx("button",{onClick:s,className:"w-full text-gray-500 py-2 rounded-xl font-medium hover:text-gray-700 transition-colors",children:"Închide"})]})}),e.jsx("div",{className:"absolute top-4 left-4 w-2 h-2 bg-green-400 rounded-full animate-ping"}),e.jsx("div",{className:"absolute top-6 right-6 w-1 h-1 bg-green-300 rounded-full animate-pulse"}),e.jsx("div",{className:"absolute bottom-8 left-6 w-1.5 h-1.5 bg-green-200 rounded-full animate-bounce"})]})}):null,Dm=async()=>{try{console.log("🔍 Verificare conexiune Supabase...");const{error:i}=await ee.from("profiles").select("count",{count:"exact",head:!0});if(i){console.error("❌ Eroare la testarea conexiunii:",i),await Ry();const{error:s}=await ee.from("profiles").select("count",{count:"exact",head:!0});return s?(console.error("❌ Conexiunea tot nu funcționează după reparare:",s),!1):(console.log("✅ Conexiunea a fost reparată cu succes!"),!0)}return console.log("✅ Conexiunea la Supabase funcționează corect"),!0}catch(i){return console.error("💥 Eroare la verificarea conexiunii:",i),!1}},Ry=async()=>{try{console.log("🔧 Încercare de reparare a politicilor RLS...");const{error:i}=await ee.rpc("fix_rls_policies");i?(console.error("❌ Eroare la repararea politicilor RLS:",i),console.log("ℹ️ Contactează administratorul pentru a rula script-ul de reparare")):console.log("✅ Politicile RLS au fost reparate cu succes!")}catch(i){console.error("💥 Eroare la repararea politicilor RLS:",i)}},Um=async()=>{try{console.log("🔧 Încercare de reparare a profilului utilizatorului curent...");const{data:{user:i},error:s}=await ee.auth.getUser();if(s||!i)return console.error("❌ Utilizatorul nu este autentificat:",s),{success:!1,error:"Utilizatorul nu este autentificat"};const{data:a,error:l}=await ee.from("profiles").select("*").eq("user_id",i.id).single();if(a&&!l)return console.log("✅ Profilul există deja, nu este necesară repararea"),{success:!0,message:"Profilul există deja"};const{data:c,error:u}=await ee.from("profiles").insert([{user_id:i.id,name:i.user_metadata?.name||i.email?.split("@")[0]||"Utilizator",email:i.email,phone:i.user_metadata?.phone||"",location:i.user_metadata?.location||"",seller_type:i.user_metadata?.sellerType||"individual",is_admin:i.email==="admin@nexar.ro"}]).select().single();return u?(console.error("❌ Eroare la crearea profilului:",u),{success:!1,error:u}):(console.log("✅ Profilul a fost creat cu succes:",c),{success:!0,message:"Profilul a fost creat cu succes"})}catch(i){return console.error("💥 Eroare la repararea profilului:",i),{success:!1,error:i}}},Ly=async()=>{try{if(console.log("🔧 Începere reparare completă Supabase..."),!await Dm())return{success:!1,message:"Nu s-a putut repara conexiunea la Supabase. Contactează administratorul."};const s=await Um();return s.success?(await Iy(),{success:!0,message:"Toate problemele au fost reparate cu succes!"}):{success:!1,message:`Conexiunea a fost reparată, dar profilul nu: ${s.error}`}}catch(i){return console.error("💥 Eroare la repararea completă:",i),{success:!1,error:i}}},Iy=async()=>{try{console.log("🔧 Verificare și reparare bucket-uri storage...");const{data:i,error:s}=await ee.storage.listBuckets();if(s){console.error("❌ Eroare la listarea bucket-urilor:",s);return}const a=i?.map(l=>l.name)||[];if(!a.includes("listing-images")){console.log("🔧 Creăm bucket-ul listing-images...");try{const{error:l}=await ee.storage.createBucket("listing-images",{public:!0,fileSizeLimit:5242880,allowedMimeTypes:["image/jpeg","image/png","image/webp"]});l?console.error("❌ Eroare la crearea bucket-ului listing-images:",l):console.log("✅ Bucket-ul listing-images a fost creat cu succes!")}catch(l){console.error("❌ Eroare la crearea bucket-ului listing-images:",l)}}if(!a.includes("profile-images")){console.log("🔧 Creăm bucket-ul profile-images...");try{const{error:l}=await ee.storage.createBucket("profile-images",{public:!0,fileSizeLimit:2097152,allowedMimeTypes:["image/jpeg","image/png","image/webp"]});l?console.error("❌ Eroare la crearea bucket-ului profile-images:",l):console.log("✅ Bucket-ul profile-images a fost creat cu succes!")}catch(l){console.error("❌ Eroare la crearea bucket-ului profile-images:",l)}}await Oy()}catch(i){console.error("💥 Eroare la repararea bucket-urilor:",i)}},Oy=async()=>{try{console.log("🔧 Configurare politici storage...");const{error:i}=await ee.rpc("configure_storage_policies");i?(console.error("❌ Eroare la configurarea politicilor storage:",i),console.log("ℹ️ Contactează administratorul pentru a configura politicile storage")):console.log("✅ Politicile storage au fost configurate cu succes!")}catch(i){console.error("💥 Eroare la configurarea politicilor storage:",i)}},Mm=()=>{try{console.log("🧹 Curățare cache browser..."),localStorage.removeItem("supabase.auth.token");const i=["user"];Object.keys(localStorage).forEach(s=>{i.includes(s)||localStorage.removeItem(s)}),console.log("✅ Cache-ul browser-ului a fost curățat cu succes!")}catch(i){console.error("💥 Eroare la curățarea cache-ului:",i)}},Fm=()=>{try{console.log("🔧 Reparare probleme cu cookie-uri..."),document.cookie.split(";").forEach(i=>{const[s]=i.trim().split("=");document.cookie=`${s}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`}),console.log("✅ Cookie-urile au fost reparate cu succes!")}catch(i){console.error("💥 Eroare la repararea cookie-urilor:",i)}},Oi=({onSuccess:i,onError:s,buttonText:a="Repară Conexiunea",className:l="bg-nexar-accent text-white"})=>{const[c,u]=w.useState(!1),[h,f]=w.useState({}),p=async()=>{u(!0),f({});try{Mm(),Fm();const y=await Ly();f({success:y.success,message:y.message}),y.success?i?setTimeout(i,1500):setTimeout(()=>{window.location.reload()},2e3):s&&s()}catch(y){console.error("Eroare la repararea conexiunii:",y),f({success:!1,message:"A apărut o eroare neașteptată"}),s&&s()}finally{u(!1)}};return e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("button",{onClick:p,disabled:c,className:`flex items-center space-x-2 ${l} px-4 py-2 rounded-lg font-semibold hover:bg-nexar-gold transition-colors disabled:opacity-50 disabled:cursor-not-allowed`,children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Se repară..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Vt,{className:"h-5 w-5"}),e.jsx("span",{children:a})]})}),h.message&&e.jsx("div",{className:`mt-3 p-3 rounded-lg ${h.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[h.success?e.jsx(mt,{className:"h-5 w-5"}):e.jsx(Gs,{className:"h-5 w-5"}),e.jsx("span",{children:h.message})]})})]})},zy=()=>{const[i,s]=w.useState(1),[a,l]=w.useState([]),[c,u]=w.useState([]),[h,f]=w.useState({}),[p,y]=w.useState(!1),[x,v]=w.useState(null),[b,E]=w.useState(!0),[z,V]=w.useState(!1),[T,F]=w.useState(null),[X,C]=w.useState(null),K=St(),[R,se]=w.useState({title:"",category:"",brand:"",model:"",year:"",mileage:"",engine:"",fuel:"",transmission:"",color:"",condition:"",price:"",location:"",description:"",features:[],phone:"",email:"",availability:"pe_stoc"});w.useEffect(()=>{ne()},[]);const ne=async()=>{try{if(E(!0),C(null),!await Om()){K("/auth");return}const{data:{user:H}}=await ee.auth.getUser();if(!H){K("/auth");return}const{data:je,error:Re}=await ee.from("profiles").select("*").eq("user_id",H.id).single();if(Re){console.error("Error loading profile:",Re),K("/profil");return}je&&(v(je),se(He=>({...He,email:je.email||"",phone:je.phone||"",location:""})))}catch(A){console.error("Error checking auth and loading profile:",A),(A.message?.includes("NetworkError")||A.message?.includes("fetch"))&&C(A)}finally{E(!1)}},ve=[{id:1,title:"Informații de bază",description:"Detalii despre motocicletă"},{id:2,title:"Fotografii",description:"Adaugă până la 5 poze"},{id:3,title:"Descriere și preț",description:"Detalii complete"},{id:4,title:"Contact",description:"Informații de contact"}],re=["Sport","Touring","Cruiser","Adventure","Naked","Scooter","Enduro","Chopper"],M=["Yamaha","Honda","Suzuki","Kawasaki","BMW","Ducati","KTM","Aprilia","Triumph","Harley-Davidson","MV Agusta","Benelli","Moto Guzzi","Indian","Zero","Energica","Husqvarna","Beta","Sherco","GasGas"],Te=["Benzină","Electric","Hibrid"],Ce=["Manual","Automat","Semi-automat"],Ne=["Nouă","Excelentă","Foarte bună","Bună","Satisfăcătoare"],D=[{value:"pe_stoc",label:"Pe stoc"},{value:"la_comanda",label:"La comandă"}],be=["ABS","Control tracțiune","Suspensie reglabilă","Frâne Brembo","Quickshifter","Sistem de navigație","Încălzire mânere","LED complet","Bluetooth","USB","Geantă laterală","Parbriz reglabil","Scaun încălzit","Tempomat","Sistem anti-furt","Jante aliaj"],ie=(A,H)=>{switch(A){case"category":return H.toLowerCase();case"fuel":return{Benzină:"benzina",Electric:"electric",Hibrid:"hibrid"}[H]||H.toLowerCase();case"transmission":return{Manual:"manuala",Automat:"automata","Semi-automat":"semi-automata"}[H]||H.toLowerCase();case"condition":return{Nouă:"noua",Excelentă:"excelenta","Foarte bună":"foarte_buna",Bună:"buna",Satisfăcătoare:"satisfacatoare"}[H]||H.toLowerCase();default:return H}},ge=A=>{const H={};switch(A){case 1:if(R.title.trim()||(H.title="Titlul este obligatoriu"),R.title.length>100&&(H.title="Titlul nu poate depăși 100 de caractere"),R.category||(H.category="Categoria este obligatorie"),R.brand||(H.brand="Marca este obligatorie"),R.model.trim()||(H.model="Modelul este obligatoriu"),!R.year)H.year="Anul este obligatoriu";else{const je=parseInt(R.year),Re=new Date().getFullYear();(je<1990||je>Re+1)&&(H.year=`Anul trebuie să fie între 1990 și ${Re+1}`)}if(!R.mileage)H.mileage="Kilometrajul este obligatoriu";else{const je=parseInt(R.mileage);(je<0||je>5e5)&&(H.mileage="Kilometrajul trebuie să fie între 0 și 500,000 km")}if(!R.engine)H.engine="Capacitatea motorului este obligatorie";else{const je=parseInt(R.engine);(je<50||je>3e3)&&(H.engine="Capacitatea motorului trebuie să fie între 50 și 3000 cc")}R.fuel||(H.fuel="Tipul de combustibil este obligatoriu"),R.transmission||(H.transmission="Transmisia este obligatorie"),R.color.trim()||(H.color="Culoarea este obligatorie"),R.condition||(H.condition="Starea este obligatorie"),R.location.trim()?$t.includes(R.location.trim())||(H.location="Te rugăm să selectezi un oraș din lista disponibilă"):H.location="Locația este obligatorie";break;case 2:c.length===0&&(H.images="Trebuie să adaugi cel puțin o fotografie");break;case 3:if(!R.price)H.price="Prețul este obligatoriu";else{const je=parseFloat(R.price);(je<100||je>1e6)&&(H.price="Prețul trebuie să fie între 100 și 1,000,000 EUR")}R.description.trim().length>0&&R.description.length>2e3&&(H.description="Descrierea nu poate depăși 2000 de caractere");break;case 4:R.phone.trim()?/^[0-9+\-\s()]{10,15}$/.test(R.phone.replace(/\s/g,""))||(H.phone="Numărul de telefon nu este valid"):H.phone="Numărul de telefon este obligatoriu",R.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(R.email)||(H.email="Email-ul nu este valid"):H.email="Email-ul este obligatoriu";break}return f(H),Object.keys(H).length===0},G=(A,H)=>{se(je=>({...je,[A]:H})),h[A]&&f(je=>({...je,[A]:""}))},k=A=>{se(H=>({...H,features:H.features.includes(A)?H.features.filter(je=>je!==A):[...H.features,A]}))},$=A=>{const H=A.target.files;if(H&&c.length<5){const je=Array.from(H).slice(0,5-c.length);for(const Re of je){if(Re.size>5*1024*1024){f(He=>({...He,images:"Fișierul nu poate depăși 5MB"}));return}if(!Re.type.startsWith("image/")){f(He=>({...He,images:"Doar fișiere imagine sunt permise"}));return}}u(Re=>[...Re,...je]),je.forEach(Re=>{const He=new FileReader;He.onload=dr=>{dr.target?.result&&(l(Qt=>[...Qt,dr.target.result]),f(Qt=>({...Qt,images:""})))},He.readAsDataURL(Re)})}},N=A=>{l(H=>H.filter((je,Re)=>Re!==A)),u(H=>H.filter((je,Re)=>Re!==A))},q=()=>{ge(i)&&i<4&&s(i+1)},I=()=>{i>1&&s(i-1)},P=async()=>{if(ge(4)){y(!0),C(null);try{if(!x)throw new Error("Profilul utilizatorului nu a fost găsit");console.log("🚀 Starting listing creation..."),console.log("📋 Form data before mapping:",R);const A={title:R.title.trim(),description:R.description.trim()||"",price:parseFloat(R.price),year:parseInt(R.year),mileage:parseInt(R.mileage),location:R.location.trim(),category:ie("category",R.category),brand:R.brand,model:R.model.trim(),engine_capacity:parseInt(R.engine),fuel_type:ie("fuel",R.fuel),transmission:ie("transmission",R.transmission),condition:ie("condition",R.condition),color:R.color.trim(),features:R.features,seller_id:x.id,seller_name:x.name||"Utilizator",seller_type:x.seller_type,status:"pending",availability:x.seller_type==="dealer"?R.availability:null};console.log("📝 Mapped listing data:",A),console.log("📤 Trimit date către listings.create:",A,c);const H=await Ii.create(A,c);console.log("📬 Răspuns complet listings.create:",H);const{data:je,error:Re}=H;if(console.log("📬 Răspuns de la server:",je,Re),Re)throw console.error("❌ Error creating listing:",Re),new Error(Re.message||"Eroare la crearea anunțului");console.log("✅ Listing created successfully:",je),F(je.id),V(!0)}catch(A){console.error("💥 Error creating listing:",A),A.message?.includes("NetworkError")||A.message?.includes("fetch")?C(A):f({submit:A.message||"A apărut o eroare la publicarea anunțului. Te rog încearcă din nou."})}finally{y(!1)}}},B=()=>{V(!1)},Z=()=>{V(!1),K("/")},le=()=>{T&&(V(!1),K(`/anunt/${T}`))},de=()=>{C(null),ne()};return b?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-nexar-accent border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Se încarcă datele profilului..."})]})}):X?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx(ia,{error:X,onRetry:de})})}):x?e.jsxs("div",{className:"min-h-screen bg-gray-50 py-8",children:[e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Adaugă Anunț Nou"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Completează formularul pentru a-ți publica motocicleta"}),e.jsxs("div",{className:"mt-4 inline-flex items-center space-x-3 bg-white rounded-lg px-4 py-2 shadow-sm border",children:[e.jsx("div",{className:"w-8 h-8 bg-nexar-accent rounded-full flex items-center justify-center text-white font-semibold text-sm",children:x.name?x.name.charAt(0).toUpperCase():"U"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:x.name}),e.jsx("div",{className:"text-xs text-gray-600",children:x.seller_type==="dealer"?"Dealer Verificat":"Vânzător Privat"})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-between",children:ve.map((A,H)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors ${i>=A.id?"bg-gray-900 border-gray-900 text-white":"border-gray-300 text-gray-400"}`,children:i>A.id?e.jsx(ls,{className:"h-5 w-5"}):e.jsx("span",{className:"font-semibold",children:A.id})}),H<ve.length-1&&e.jsx("div",{className:`w-full h-1 mx-4 transition-colors ${i>A.id?"bg-gray-900":"bg-gray-300"}`})]},A.id))}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:ve[i-1].title}),e.jsx("p",{className:"text-gray-600",children:ve[i-1].description})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[i===1&&e.jsx("div",{className:"space-y-6 animate-fade-in",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titlu anunț *"}),e.jsx("input",{type:"text",value:R.title,onChange:A=>G("title",A.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-gray-900 focus:border-transparent ${h.title?"border-red-500":"border-gray-300"}`,placeholder:"ex: Yamaha YZF-R1 2023",maxLength:100}),h.title&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),h.title]}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[R.title.length,"/100 caractere"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categorie *"}),e.jsxs("select",{value:R.category,onChange:A=>G("category",A.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-gray-900 focus:border-transparent ${h.category?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Selectează categoria"}),re.map(A=>e.jsx("option",{value:A,children:A},A))]}),h.category&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),h.category]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Marcă *"}),e.jsxs("select",{value:R.brand,onChange:A=>G("brand",A.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-gray-900 focus:border-transparent ${h.brand?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Selectează marca"}),M.map(A=>e.jsx("option",{value:A,children:A},A))]}),h.brand&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),h.brand]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model *"}),e.jsx("input",{type:"text",value:R.model,onChange:A=>G("model",A.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-gray-900 focus:border-transparent ${h.model?"border-red-500":"border-gray-300"}`,placeholder:"ex: YZF-R1"}),h.model&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),h.model]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"An fabricație *"}),e.jsx("input",{type:"number",value:R.year,onChange:A=>G("year",A.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-gray-900 focus:border-transparent ${h.year?"border-red-500":"border-gray-300"}`,placeholder:"2023",min:"1990",max:"2025"}),h.year&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),h.year]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kilometraj *"}),e.jsx("input",{type:"number",value:R.mileage,onChange:A=>G("mileage",A.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-gray-900 focus:border-transparent ${h.mileage?"border-red-500":"border-gray-300"}`,placeholder:"25000",min:"0",max:"500000"}),h.mileage&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),h.mileage]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacitate motor (cc) *"}),e.jsx("input",{type:"number",value:R.engine,onChange:A=>G("engine",A.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-gray-900 focus:border-transparent ${h.engine?"border-red-500":"border-gray-300"}`,placeholder:"998",min:"50",max:"3000"}),h.engine&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),h.engine]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Combustibil *"}),e.jsxs("select",{value:R.fuel,onChange:A=>G("fuel",A.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-gray-900 focus:border-transparent ${h.fuel?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Selectează combustibilul"}),Te.map(A=>e.jsx("option",{value:A,children:A},A))]}),h.fuel&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),h.fuel]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transmisie *"}),e.jsxs("select",{value:R.transmission,onChange:A=>G("transmission",A.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-gray-900 focus:border-transparent ${h.transmission?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Selectează transmisia"}),Ce.map(A=>e.jsx("option",{value:A,children:A},A))]}),h.transmission&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),h.transmission]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Culoare *"}),e.jsx("input",{type:"text",value:R.color,onChange:A=>G("color",A.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-gray-900 focus:border-transparent ${h.color?"border-red-500":"border-gray-300"}`,placeholder:"ex: Albastru Racing"}),h.color&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),h.color]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Starea *"}),e.jsxs("select",{value:R.condition,onChange:A=>G("condition",A.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-gray-900 focus:border-transparent ${h.condition?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Selectează starea"}),Ne.map(A=>e.jsx("option",{value:A,children:A},A))]}),h.condition&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),h.condition]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Locația *"}),e.jsxs("select",{value:R.location,onChange:A=>G("location",A.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-gray-900 focus:border-transparent ${h.location?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Selectează orașul"}),e.jsx("option",{value:"București S1",children:"București S1"}),e.jsx("option",{value:"București S2",children:"București S2"}),e.jsx("option",{value:"București S3",children:"București S3"}),e.jsx("option",{value:"București S4",children:"București S4"}),e.jsx("option",{value:"București S5",children:"București S5"}),e.jsx("option",{value:"București S6",children:"București S6"}),e.jsx("option",{value:"Cluj-Napoca",children:"Cluj-Napoca"}),e.jsx("option",{value:"Timișoara",children:"Timișoara"}),e.jsx("option",{value:"Iași",children:"Iași"}),e.jsx("option",{value:"Constanța",children:"Constanța"}),e.jsx("option",{value:"Brașov",children:"Brașov"}),e.jsx("option",{value:"Craiova",children:"Craiova"}),e.jsx("option",{value:"Galați",children:"Galați"}),e.jsx("option",{value:"Oradea",children:"Oradea"}),e.jsx("option",{value:"Ploiești",children:"Ploiești"}),e.jsx("option",{value:"Sibiu",children:"Sibiu"}),e.jsx("option",{value:"Bacău",children:"Bacău"}),e.jsx("option",{value:"Râmnicu Vâlcea",children:"Râmnicu Vâlcea"}),$t.map(A=>!A.startsWith("București")&&A!=="Râmnicu Vâlcea"&&A!=="Rm. Vâlcea"&&e.jsx("option",{value:A,children:A},A))]}),h.location&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),h.location]})]}),x.seller_type==="dealer"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Disponibilitate *"}),e.jsx("select",{value:R.availability,onChange:A=>G("availability",A.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-gray-900 focus:border-transparent",children:D.map(A=>e.jsx("option",{value:A.value,children:A.label},A.value))})]})]})}),i===2&&e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-600 mb-6",children:"Adaugă până la 5 fotografii de calitate pentru a atrage mai mulți cumpărători"})}),h.images&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),h.images]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.map((A,H)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:A,alt:`Upload ${H+1}`,className:"w-full h-48 object-cover rounded-lg"}),e.jsx("button",{onClick:()=>N(H),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Bt,{className:"h-4 w-4"})}),H===0&&e.jsx("div",{className:"absolute bottom-2 left-2 bg-gray-900 text-white px-2 py-1 rounded text-xs font-semibold",children:"Foto principală"})]},H)),a.length<5&&e.jsxs("label",{className:"border-2 border-dashed border-gray-300 rounded-lg h-48 flex flex-col items-center justify-center cursor-pointer hover:border-gray-900 transition-colors",children:[e.jsx(lc,{className:"h-8 w-8 text-gray-400 mb-2"}),e.jsx("span",{className:"text-gray-600",children:"Adaugă fotografie"}),e.jsxs("span",{className:"text-sm text-gray-400",children:["(",a.length,"/5)"]}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:$,className:"hidden"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Sfaturi pentru fotografii de calitate:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"• Fotografiază în lumină naturală"}),e.jsx("li",{children:"• Include imagini din toate unghiurile"}),e.jsx("li",{children:"• Arată detaliile importante și eventualele defecte"}),e.jsx("li",{children:"• Prima fotografie va fi cea principală"}),e.jsx("li",{children:"• Limită de 5MB per imagine"}),e.jsx("li",{children:"• Maxim 5 imagini per anunț"})]})]})]}),i===3&&e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preț (EUR) *"}),e.jsx("input",{type:"number",value:R.price,onChange:A=>G("price",A.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-gray-900 focus:border-transparent text-2xl font-bold ${h.price?"border-red-500":"border-gray-300"}`,placeholder:"18500",min:"100",max:"1000000"}),h.price&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),h.price]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descriere detaliată"}),e.jsx("textarea",{value:R.description,onChange:A=>G("description",A.target.value),rows:8,className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-gray-900 focus:border-transparent ${h.description?"border-red-500":"border-gray-300"}`,placeholder:"Descrie motocicleta în detaliu: starea tehnică, istoricul, modificările, etc."}),e.jsxs("div",{className:"flex justify-between items-center mt-1",children:[h.description?e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),h.description]}):e.jsx("p",{className:"text-sm text-gray-500",children:"Maxim 2000 caractere"}),e.jsxs("span",{className:`text-sm ${R.description.length>2e3?"text-red-600":"text-green-600"}`,children:[R.description.length,"/2000"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Dotări și caracteristici"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:be.map(A=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:R.features.includes(A),onChange:()=>k(A),className:"rounded border-gray-300 text-gray-900 focus:ring-gray-900"}),e.jsx("span",{className:"text-sm",children:A})]},A))})]})]}),i===4&&e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Informații de contact"}),e.jsx("p",{className:"text-gray-600",children:"Aceste informații vor fi vizibile cumpărătorilor interesați"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Număr de telefon *"}),e.jsx("input",{type:"tel",value:R.phone,onChange:A=>G("phone",A.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-gray-900 focus:border-transparent ${h.phone?"border-red-500":"border-gray-300"}`,placeholder:"0790 45 46 47"}),h.phone&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),h.phone]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsx("input",{type:"email",value:R.email,onChange:A=>G("email",A.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-gray-900 focus:border-transparent ${h.email?"border-red-500":"border-gray-300"}`,placeholder:"contact@exemplu.com"}),h.email&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),h.email]})]})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[e.jsx("h4",{className:"font-semibold text-yellow-800 mb-4",children:"Notă importantă:"}),e.jsx("p",{className:"text-yellow-700 mb-3",children:"Anunțul tău va fi trimis spre aprobare administratorilor platformei. După verificare, acesta va fi publicat și va deveni vizibil pentru toți utilizatorii."}),e.jsx("p",{className:"text-yellow-700",children:'Vei putea vedea statusul anunțului tău în secțiunea "Anunțurile Mele" din profilul tău.'})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[e.jsx("h4",{className:"font-semibold text-green-800 mb-4",children:"Rezumat anunț:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-green-700 font-medium",children:"Titlu:"}),e.jsx("span",{className:"ml-2",children:R.title||"Necompletat"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-green-700 font-medium",children:"Preț:"}),e.jsxs("span",{className:"ml-2",children:["€",R.price||"0"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-green-700 font-medium",children:"Tip vânzător:"}),e.jsx("span",{className:"ml-2",children:x.seller_type==="dealer"?"Dealer Verificat":"Vânzător Privat"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-green-700 font-medium",children:"Fotografii:"}),e.jsxs("span",{className:"ml-2",children:[a.length,"/5"]})]}),x.seller_type==="dealer"&&e.jsxs("div",{children:[e.jsx("span",{className:"text-green-700 font-medium",children:"Disponibilitate:"}),e.jsx("span",{className:"ml-2",children:R.availability==="pe_stoc"?"Pe stoc":"La comandă"})]})]})]}),h.submit&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),h.submit]})})]}),e.jsxs("div",{className:"flex justify-between pt-8 border-t border-gray-200",children:[e.jsx("button",{onClick:I,disabled:i===1,className:`px-6 py-3 rounded-xl font-semibold transition-colors ${i===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Înapoi"}),i<4?e.jsx("button",{onClick:q,className:"px-6 py-3 bg-gray-900 text-white rounded-xl font-semibold hover:bg-gray-800 transition-colors",children:"Continuă"}):e.jsx("button",{onClick:P,disabled:p,className:"px-8 py-3 bg-gray-900 text-white rounded-xl font-semibold hover:bg-gray-800 transition-colors flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:p?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Se trimite..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Trimite spre aprobare"}),e.jsx(ls,{className:"h-5 w-5"})]})})]})]})]}),e.jsx(zm,{isOpen:z,onClose:B,onGoHome:Z,onViewListing:le,title:"Anunț trimis spre aprobare!",message:"Anunțul tău a fost trimis cu succes și este în așteptare pentru aprobare. Vei fi notificat când acesta va fi aprobat și publicat pe platformă.",showViewButton:!0})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg text-center max-w-md",children:[e.jsx(fe,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Profil incomplet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:h.profile||"Pentru a adăuga un anunț, trebuie să îți completezi profilul mai întâi."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("button",{onClick:()=>K("/profil"),className:"bg-nexar-accent text-white px-6 py-3 rounded-lg font-semibold hover:bg-nexar-gold transition-colors",children:"Completează Profilul"}),e.jsx(Oi,{buttonText:"Repară Conexiunea"})]})]})})},Dy=()=>{const{id:i}=ic(),s=St(),[a,l]=w.useState(!0),[c,u]=w.useState(!1),[h,f]=w.useState(!1),[p,y]=w.useState(null),[x,v]=w.useState({}),[b,E]=w.useState([]),[z,V]=w.useState([]),[T,F]=w.useState([]),[X,C]=w.useState(!1),[K,R]=w.useState([]),[se,ne]=w.useState(!1),[ve,re]=w.useState(null),[M,Te]=w.useState({title:"",price:"",description:"",mileage:"",year:"",location:"",condition:"",category:"",brand:"",model:"",engine_capacity:"",fuel_type:"",transmission:"",color:"",features:[],phone:"",email:"",status:"",availability:"pe_stoc"}),Ce=[{value:"pe_stoc",label:"Pe stoc"},{value:"la_comanda",label:"La comandă"}];w.useEffect(()=>{Ne()},[i]);const Ne=async()=>{try{l(!0),re(null);const I=await Or.isAdmin();if(ne(I),!await Om()){s("/auth");return}if(!i){s("/profil");return}const{data:B,error:Z}=await ee.from("listings").select("*").eq("id",i).single();if(Z||!B){alert("Anunțul nu a fost găsit"),s("/profil");return}if(!I){const{data:{user:je}}=await ee.auth.getUser(),{data:Re}=await ee.from("profiles").select("*").eq("user_id",je?.id).single();if(!Re||Re.id!==B.seller_id){alert("Nu poți edita acest anunț"),s("/profil");return}}y(B),E(B.images||[]);const le=D("condition",B.condition),de=D("fuel_type",B.fuel_type),A=D("transmission",B.transmission),H=D("category",B.category);Te({title:B.title||"",price:B.price?.toString()||"",description:B.description||"",mileage:B.mileage?.toString()||"",year:B.year?.toString()||"",location:B.location||"",condition:le,category:H,brand:B.brand||"",model:B.model||"",engine_capacity:B.engine_capacity?.toString()||"",fuel_type:de,transmission:A,color:B.color||"",features:B.features||[],phone:"",email:"",status:B.status||"pending",availability:B.availability||"pe_stoc"})}catch(I){console.error("Error:",I),I.message?.includes("NetworkError")||I.message?.includes("fetch")?re(I):v({general:"A apărut o eroare la încărcarea anunțului."})}finally{l(!1)}},D=(I,P)=>{if(!P)return"";switch(I){case"category":return P.charAt(0).toUpperCase()+P.slice(1);case"fuel_type":return{benzina:"Benzină",electric:"Electric",hibrid:"Hibrid"}[P]||P;case"transmission":return{manuala:"Manual",automata:"Automat","semi-automata":"Semi-automat"}[P]||P;case"condition":return{noua:"Nouă",excelenta:"Excelentă",foarte_buna:"Foarte bună",buna:"Bună",satisfacatoare:"Satisfăcătoare"}[P]||P;default:return P}},be=(I,P)=>{switch(I){case"category":return P.toLowerCase();case"fuel_type":return{Benzină:"benzina",Electric:"electric",Hibrid:"hibrid"}[P]||P.toLowerCase();case"transmission":return{Manual:"manuala",Automat:"automata","Semi-automat":"semi-automata"}[P]||P.toLowerCase();case"condition":return{Nouă:"noua",Excelentă:"excelenta","Foarte bună":"foarte_buna",Bună:"buna",Satisfăcătoare:"satisfacatoare"}[P]||P.toLowerCase();default:return P}},ie=(I,P)=>{Te(B=>({...B,[I]:P})),x[I]&&v(B=>({...B,[I]:""}))},ge=I=>{Te(P=>({...P,features:P.features.includes(I)?P.features.filter(B=>B!==I):[...P.features,I]}))},G=I=>{const P=I.target.files;if(P&&b.length+z.length<5){const B=Array.from(P).slice(0,5-b.length-z.length);for(const Z of B){if(Z.size>5*1024*1024){v(le=>({...le,images:"Fișierul nu poate depăși 5MB"}));return}if(!Z.type.startsWith("image/")){v(le=>({...le,images:"Doar fișiere imagine sunt permise"}));return}}V(Z=>[...Z,...B]),B.forEach(Z=>{const le=new FileReader;le.onload=de=>{if(de.target?.result){const A=de.target.result;E(H=>[...H,A]),v(H=>({...H,images:""}))}},le.readAsDataURL(Z)})}},k=I=>{const P=b[I];if(p&&p.images&&p.images.includes(P))F(B=>[...B,P]);else{const Z=b.indexOf(P)-(p?.images?.length||0);Z>=0&&V(le=>le.filter((de,A)=>A!==Z))}E(B=>B.filter((Z,le)=>le!==I))},$=()=>{const I={};if(M.title.trim()||(I.title="Titlul este obligatoriu"),M.title.length>100&&(I.title="Titlul nu poate depăși 100 de caractere"),M.price||(I.price="Prețul este obligatoriu"),M.description.length>2e3&&(I.description="Descrierea nu poate depăși 2000 de caractere"),M.category||(I.category="Categoria este obligatorie"),M.brand||(I.brand="Marca este obligatorie"),M.model.trim()||(I.model="Modelul este obligatoriu"),!M.year)I.year="Anul este obligatoriu";else{const P=parseInt(M.year),B=new Date().getFullYear();(P<1990||P>B+1)&&(I.year=`Anul trebuie să fie între 1990 și ${B+1}`)}if(!M.mileage)I.mileage="Kilometrajul este obligatoriu";else{const P=parseInt(M.mileage);(P<0||P>5e5)&&(I.mileage="Kilometrajul trebuie să fie între 0 și 500,000 km")}if(!M.engine_capacity)I.engine_capacity="Capacitatea motorului este obligatorie";else{const P=parseInt(M.engine_capacity);(P<50||P>3e3)&&(I.engine_capacity="Capacitatea motorului trebuie să fie între 50 și 3000 cc")}return M.fuel_type||(I.fuel_type="Tipul de combustibil este obligatoriu"),M.transmission||(I.transmission="Transmisia este obligatorie"),M.color.trim()||(I.color="Culoarea este obligatorie"),M.condition||(I.condition="Starea este obligatorie"),M.location.trim()?$t.includes(M.location.trim())||(I.location="Te rugăm să selectezi un oraș din lista disponibilă"):I.location="Locația este obligatorie",b.length===0&&(I.images="Trebuie să adaugi cel puțin o fotografie"),v(I),Object.keys(I).length===0},N=async I=>{if(I.preventDefault(),!!$()){u(!0);try{const P={title:M.title.trim(),price:parseFloat(M.price),description:M.description.trim()||"",mileage:parseInt(M.mileage),year:parseInt(M.year),location:M.location.trim(),category:be("category",M.category),brand:M.brand,model:M.model.trim(),engine_capacity:parseInt(M.engine_capacity),fuel_type:be("fuel_type",M.fuel_type),transmission:be("transmission",M.transmission),condition:be("condition",M.condition),color:M.color.trim(),features:M.features,updated_at:new Date().toISOString(),status:se?M.status:"pending",availability:p.seller_type==="dealer"?M.availability:null},{data:B,error:Z}=await Ii.update(i,P,z.length>0?z:void 0,T.length>0?T:void 0);if(Z)throw Z;f(!0)}catch(P){console.error("Error updating listing:",P),P.message?.includes("NetworkError")||P.message?.includes("fetch")?re(P):alert("Eroare la actualizarea anunțului: "+P.message)}finally{u(!1)}}},q=()=>{re(null),Ne()};return a?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"w-16 h-16 border-4 border-nexar-accent border-t-transparent rounded-full animate-spin"})}):ve?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx(ia,{error:ve,onRetry:q})})}):x.general?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg text-center max-w-md",children:[e.jsx(fe,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Eroare la încărcare"}),e.jsx("p",{className:"text-gray-600 mb-6",children:x.general}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-nexar-accent text-white px-6 py-3 rounded-lg font-semibold hover:bg-nexar-gold transition-colors",children:"Reîncarcă pagina"}),e.jsx(Oi,{buttonText:"Repară Conexiunea"})]})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 py-8",children:[e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("button",{onClick:()=>s(se?"/admin":"/profil"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(tx,{className:"h-5 w-5"}),e.jsx("span",{children:se?"Înapoi la Admin Panel":"Înapoi la profil"})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Editează Anunțul"}),e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Informații de bază"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titlu anunț *"}),e.jsx("input",{type:"text",value:M.title,onChange:I=>ie("title",I.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-nexar-accent focus:border-transparent ${x.title?"border-red-500":"border-gray-300"}`,placeholder:"ex: Yamaha YZF-R1 2023",maxLength:100}),x.title&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),x.title]}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[M.title.length,"/100 caractere"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categorie *"}),e.jsxs("select",{value:M.category,onChange:I=>ie("category",I.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-nexar-accent focus:border-transparent ${x.category?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Selectează categoria"}),e.jsx("option",{value:"Sport",children:"Sport"}),e.jsx("option",{value:"Touring",children:"Touring"}),e.jsx("option",{value:"Cruiser",children:"Cruiser"}),e.jsx("option",{value:"Adventure",children:"Adventure"}),e.jsx("option",{value:"Naked",children:"Naked"}),e.jsx("option",{value:"Scooter",children:"Scooter"}),e.jsx("option",{value:"Enduro",children:"Enduro"}),e.jsx("option",{value:"Chopper",children:"Chopper"})]}),x.category&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),x.category]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Marcă *"}),e.jsxs("select",{value:M.brand,onChange:I=>ie("brand",I.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-nexar-accent focus:border-transparent ${x.brand?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Selectează marca"}),e.jsx("option",{value:"Yamaha",children:"Yamaha"}),e.jsx("option",{value:"Honda",children:"Honda"}),e.jsx("option",{value:"BMW",children:"BMW"}),e.jsx("option",{value:"Ducati",children:"Ducati"}),e.jsx("option",{value:"KTM",children:"KTM"}),e.jsx("option",{value:"Suzuki",children:"Suzuki"}),e.jsx("option",{value:"Harley-Davidson",children:"Harley-Davidson"}),e.jsx("option",{value:"Kawasaki",children:"Kawasaki"}),e.jsx("option",{value:"Triumph",children:"Triumph"}),e.jsx("option",{value:"Aprilia",children:"Aprilia"}),e.jsx("option",{value:"MV Agusta",children:"MV Agusta"}),e.jsx("option",{value:"Benelli",children:"Benelli"}),e.jsx("option",{value:"Moto Guzzi",children:"Moto Guzzi"}),e.jsx("option",{value:"Indian",children:"Indian"}),e.jsx("option",{value:"Zero",children:"Zero"}),e.jsx("option",{value:"Energica",children:"Energica"}),e.jsx("option",{value:"Husqvarna",children:"Husqvarna"}),e.jsx("option",{value:"Beta",children:"Beta"}),e.jsx("option",{value:"Sherco",children:"Sherco"}),e.jsx("option",{value:"GasGas",children:"GasGas"})]}),x.brand&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),x.brand]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model *"}),e.jsx("input",{type:"text",value:M.model,onChange:I=>ie("model",I.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-nexar-accent focus:border-transparent ${x.model?"border-red-500":"border-gray-300"}`,placeholder:"ex: YZF-R1"}),x.model&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),x.model]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"An fabricație *"}),e.jsx("input",{type:"number",value:M.year,onChange:I=>ie("year",I.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-nexar-accent focus:border-transparent ${x.year?"border-red-500":"border-gray-300"}`,placeholder:"2023",min:"1990",max:"2025"}),x.year&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),x.year]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kilometraj *"}),e.jsx("input",{type:"number",value:M.mileage,onChange:I=>ie("mileage",I.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-nexar-accent focus:border-transparent ${x.mileage?"border-red-500":"border-gray-300"}`,placeholder:"25000",min:"0",max:"500000"}),x.mileage&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),x.mileage]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacitate motor (cc) *"}),e.jsx("input",{type:"number",value:M.engine_capacity,onChange:I=>ie("engine_capacity",I.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-nexar-accent focus:border-transparent ${x.engine_capacity?"border-red-500":"border-gray-300"}`,placeholder:"998",min:"50",max:"3000"}),x.engine_capacity&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),x.engine_capacity]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Combustibil *"}),e.jsxs("select",{value:M.fuel_type,onChange:I=>ie("fuel_type",I.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-nexar-accent focus:border-transparent ${x.fuel_type?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Selectează combustibilul"}),e.jsx("option",{value:"Benzină",children:"Benzină"}),e.jsx("option",{value:"Electric",children:"Electric"}),e.jsx("option",{value:"Hibrid",children:"Hibrid"})]}),x.fuel_type&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),x.fuel_type]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transmisie *"}),e.jsxs("select",{value:M.transmission,onChange:I=>ie("transmission",I.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-nexar-accent focus:border-transparent ${x.transmission?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Selectează transmisia"}),e.jsx("option",{value:"Manual",children:"Manual"}),e.jsx("option",{value:"Automat",children:"Automat"}),e.jsx("option",{value:"Semi-automat",children:"Semi-automat"})]}),x.transmission&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),x.transmission]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Culoare *"}),e.jsx("input",{type:"text",value:M.color,onChange:I=>ie("color",I.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-nexar-accent focus:border-transparent ${x.color?"border-red-500":"border-gray-300"}`,placeholder:"ex: Albastru Racing"}),x.color&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),x.color]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Starea *"}),e.jsxs("select",{value:M.condition,onChange:I=>ie("condition",I.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-nexar-accent focus:border-transparent ${x.condition?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Selectează starea"}),e.jsx("option",{value:"Nouă",children:"Nouă"}),e.jsx("option",{value:"Excelentă",children:"Excelentă"}),e.jsx("option",{value:"Foarte bună",children:"Foarte bună"}),e.jsx("option",{value:"Bună",children:"Bună"}),e.jsx("option",{value:"Satisfăcătoare",children:"Satisfăcătoare"})]}),x.condition&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),x.condition]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Locația *"}),e.jsxs("select",{value:M.location,onChange:I=>ie("location",I.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-nexar-accent focus:border-transparent ${x.location?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Selectează orașul"}),e.jsx("option",{value:"București S1",children:"București S1"}),e.jsx("option",{value:"București S2",children:"București S2"}),e.jsx("option",{value:"București S3",children:"București S3"}),e.jsx("option",{value:"București S4",children:"București S4"}),e.jsx("option",{value:"București S5",children:"București S5"}),e.jsx("option",{value:"București S6",children:"București S6"}),e.jsx("option",{value:"Cluj-Napoca",children:"Cluj-Napoca"}),e.jsx("option",{value:"Timișoara",children:"Timișoara"}),e.jsx("option",{value:"Iași",children:"Iași"}),e.jsx("option",{value:"Constanța",children:"Constanța"}),e.jsx("option",{value:"Brașov",children:"Brașov"}),e.jsx("option",{value:"Craiova",children:"Craiova"}),e.jsx("option",{value:"Galați",children:"Galați"}),e.jsx("option",{value:"Oradea",children:"Oradea"}),e.jsx("option",{value:"Ploiești",children:"Ploiești"}),e.jsx("option",{value:"Sibiu",children:"Sibiu"}),e.jsx("option",{value:"Bacău",children:"Bacău"}),e.jsx("option",{value:"Râmnicu Vâlcea",children:"Râmnicu Vâlcea"}),$t.map(I=>!I.startsWith("București")&&I!=="Râmnicu Vâlcea"&&I!=="Rm. Vâlcea"&&e.jsx("option",{value:I,children:I},I))]}),x.location&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),x.location]})]}),p&&p.seller_type==="dealer"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Disponibilitate *"}),e.jsx("select",{value:M.availability,onChange:I=>ie("availability",I.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-nexar-accent focus:border-transparent",children:Ce.map(I=>e.jsx("option",{value:I.value,children:I.label},I.value))})]}),se&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),e.jsxs("select",{value:M.status,onChange:I=>ie("status",I.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-nexar-accent focus:border-transparent",children:[e.jsx("option",{value:"active",children:"Activ"}),e.jsx("option",{value:"pending",children:"În așteptare"}),e.jsx("option",{value:"rejected",children:"Respins"}),e.jsx("option",{value:"sold",children:"Vândut"})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Fotografii"}),x.images&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),x.images]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[b.map((I,P)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:I,alt:`Upload ${P+1}`,className:"w-full h-48 object-cover rounded-lg",onError:B=>{const Z=B.currentTarget;Z.src="https://images.pexels.com/photos/2116475/pexels-photo-2116475.jpeg"}}),e.jsx("button",{type:"button",onClick:()=>k(P),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Go,{className:"h-4 w-4"})}),P===0&&e.jsx("div",{className:"absolute bottom-2 left-2 bg-gray-900 text-white px-2 py-1 rounded text-xs font-semibold",children:"Foto principală"})]},P)),b.length<5&&e.jsxs("label",{className:"border-2 border-dashed border-gray-300 rounded-lg h-48 flex flex-col items-center justify-center cursor-pointer hover:border-gray-900 transition-colors",children:[e.jsx(lc,{className:"h-8 w-8 text-gray-400 mb-2"}),e.jsx("span",{className:"text-gray-600",children:"Adaugă fotografie"}),e.jsxs("span",{className:"text-sm text-gray-400",children:["(",b.length,"/5)"]}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:G,className:"hidden"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Sfaturi pentru fotografii de calitate:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"• Fotografiază în lumină naturală"}),e.jsx("li",{children:"• Include imagini din toate unghiurile"}),e.jsx("li",{children:"• Arată detaliile importante și eventualele defecte"}),e.jsx("li",{children:"• Prima fotografie va fi cea principală"}),e.jsx("li",{children:"• Limită de 5MB per imagine"}),e.jsx("li",{children:"• Maxim 5 imagini per anunț"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Preț și descriere"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preț (EUR) *"}),e.jsx("input",{type:"number",value:M.price,onChange:I=>ie("price",I.target.value),className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-nexar-accent focus:border-transparent text-2xl font-bold ${x.price?"border-red-500":"border-gray-300"}`,placeholder:"18500",min:"100",max:"1000000"}),x.price&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),x.price]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descriere detaliată"}),e.jsx("textarea",{value:M.description,onChange:I=>ie("description",I.target.value),rows:8,className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-nexar-accent focus:border-transparent ${x.description?"border-red-500":"border-gray-300"}`,placeholder:"Descrie motocicleta în detaliu: starea tehnică, istoricul, modificările, etc."}),e.jsxs("div",{className:"flex justify-between items-center mt-1",children:[x.description?e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),x.description]}):e.jsx("p",{className:"text-sm text-gray-500",children:"Maxim 2000 caractere"}),e.jsxs("span",{className:`text-sm ${M.description.length>2e3?"text-red-600":"text-green-600"}`,children:[M.description.length,"/2000"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Dotări și caracteristici"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:["ABS","Control tracțiune","Suspensie reglabilă","Frâne Brembo","Quickshifter","Sistem de navigație","Încălzire mânere","LED complet","Bluetooth","USB","Geantă laterală","Parbriz reglabil","Scaun încălzit","Tempomat","Sistem anti-furt","Jante aliaj"].map(I=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:M.features.includes(I),onChange:()=>ge(I),className:"rounded border-gray-300 text-gray-900 focus:ring-gray-900"}),e.jsx("span",{className:"text-sm",children:I})]},I))})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>s(se?"/admin":"/profil"),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 font-semibold hover:bg-gray-50 transition-colors",children:"Anulează"}),e.jsx("button",{type:"submit",disabled:c,className:"px-8 py-3 bg-nexar-accent text-white rounded-lg font-semibold hover:bg-nexar-gold transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Se salvează..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Salvează Modificările"}),e.jsx(ls,{className:"h-5 w-5"})]})})]})]})]})]}),e.jsx(zm,{isOpen:h,onClose:()=>f(!1),onGoHome:()=>s(se?"/admin":"/profil"),onViewListing:()=>s(`/anunt/${i}`),title:"Succes!",message:se?"Anunțul a fost actualizat cu succes!":"Anunțul a fost actualizat cu succes și a fost trimis spre aprobare. Va fi vizibil după ce va fi aprobat de administratori.",showViewButton:!0})]})},Qh=()=>{const{id:i}=ic(),s=St(),[a,l]=w.useState(null),[c,u]=w.useState(!0),[h,f]=w.useState(null),[p,y]=w.useState(!1),[x,v]=w.useState(!1),[b,E]=w.useState({}),[z,V]=w.useState("listings"),[T,F]=w.useState([]),[X,C]=w.useState([]),[K,R]=w.useState(!1),[se,ne]=w.useState(null),[ve,re]=w.useState(null),[M,Te]=w.useState(!1),[Ce,Ne]=w.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[D,be]=w.useState({}),[ie,ge]=w.useState(!1),[G,k]=w.useState(!1),[$,N]=w.useState([]),[q,I]=w.useState(null),[P,B]=w.useState(!1);w.useEffect(()=>{Z()},[i]);const Z=async()=>{try{u(!0),f(null),I(null);const{data:{user:W}}=await ee.auth.getUser(),me=i||W?.id;if(!me){s("/auth");return}y(!!(!i||W&&i===W.id));const{data:Se,error:Ve}=await ee.from("profiles").select("*").eq(i?"id":"user_id",me).single();if(Ve){console.error("❌ Eroare la încărcarea profilului:",Ve),f("Profilul nu a fost găsit.");return}console.log("📥 Profil încărcat:",Se),l(Se),E(Se),await le(Se.id)}catch(W){console.error("💥 Eroare la încărcarea profilului:",W),W.message?.includes("NetworkError")||W.message?.includes("fetch")?I(W):f("A apărut o eroare la încărcarea profilului.")}finally{u(!1),console.log("✅ Profilul a fost procesat complet.")}},le=async W=>{try{R(!0);const{data:me,error:Se}=await ee.from("listings").select("*").eq("seller_id",W).order("created_at",{ascending:!1});if(Se){console.error("Error loading user listings:",Se);return}const Ve=me?.filter($r=>$r.status==="active")||[],qt=me?.filter($r=>$r.status==="pending")||[];F(Ve),C(qt)}catch(me){console.error("Error loading user listings:",me)}finally{R(!1)}},de=()=>{v(!0)},A=()=>{v(!1),E(a),ne(null),re(null)},H=(W,me)=>{E(Se=>({...Se,[W]:me}))},je=W=>{if(H("location",W),W.length>0){const me=$t.filter(Se=>Se.toLowerCase().includes(W.toLowerCase())).slice(0,10);N(me),k(!0)}else N([]),k(!1)},Re=W=>{H("location",W),k(!1),N([])},He=W=>{const me=W.target.files?.[0];if(me){if(me.size>2*1024*1024){alert("Imaginea nu poate depăși 2MB");return}if(!me.type.startsWith("image/")){alert("Doar fișierele imagine sunt permise");return}ne(me);const Se=new FileReader;Se.onload=Ve=>{Ve.target?.result&&re(Ve.target.result)},Se.readAsDataURL(me)}},dr=async()=>{try{if(!a||!p)return;if(B(!0),!b.name.trim()){alert("Numele este obligatoriu"),B(!1);return}if(!b.email.trim()){alert("Email-ul este obligatoriu"),B(!1);return}const{data:W,error:me}=await Yh.update(a.user_id,{name:b.name.trim(),phone:b.phone?.trim()||"",location:b.location?.trim()||"",description:b.description?.trim()||"",website:b.website?.trim()||""});if(me){console.error("Error updating profile:",me),alert("Eroare la actualizarea profilului"),B(!1);return}if(se){const{data:Se,error:Ve}=await Yh.uploadAvatar(a.user_id,se);Ve?(console.error("Error uploading avatar:",Ve),alert("Eroare la încărcarea avatarului")):Se&&Se.length>0&&Se[0].avatar_url?l(qt=>({...qt,avatar_url:Se[0].avatar_url})):(console.error("avatarData nu conține avatar_url:",Se),alert("Avatarul a fost încărcat, dar nu s-a putut actualiza profilul."))}W&&W.length>0?l(W[0]):l({...a,name:b.name.trim(),phone:b.phone?.trim()||"",location:b.location?.trim()||"",description:b.description?.trim()||"",website:b.website?.trim()||""}),v(!1),ne(null),re(null),await le(a.id),window.location.reload(),window.scrollTo(0,0),alert("Profilul a fost actualizat cu succes!")}catch(W){console.error("Error saving profile:",W),W.message?.includes("NetworkError")||W.message?.includes("fetch")?I(W):alert("A apărut o eroare la salvarea profilului")}finally{B(!1)}},Qt=(W,me)=>{Ne(Se=>({...Se,[W]:me})),D[W]&&be(Se=>({...Se,[W]:""}))},la=W=>W?W.length<8?"Parola trebuie să aibă cel puțin 8 caractere":/(?=.*[a-z])/.test(W)?/(?=.*[A-Z])/.test(W)?/(?=.*\d)/.test(W)?"":"Parola trebuie să conțină cel puțin o cifră":"Parola trebuie să conțină cel puțin o literă mare":"Parola trebuie să conțină cel puțin o literă mică":"Parola este obligatorie",rn=async()=>{try{const W={},me=la(Ce.newPassword);if(me&&(W.newPassword=me),Ce.newPassword!==Ce.confirmPassword&&(W.confirmPassword="Parolele nu coincid"),Object.keys(W).length>0){be(W);return}const{error:Se}=await as.updatePassword(Ce.newPassword);if(Se){console.error("Error updating password:",Se),alert(`Eroare la actualizarea parolei: ${Se}`);return}Ne({currentPassword:"",newPassword:"",confirmPassword:""}),ge(!0),setTimeout(()=>{ge(!1),Te(!1)},3e3)}catch(W){console.error("Error saving password:",W),W.message?.includes("NetworkError")||W.message?.includes("fetch")?I(W):alert("A apărut o eroare la salvarea parolei")}},sn=W=>{const me=T.find(Se=>Se.id===W)||X.find(Se=>Se.id===W);if(!me){alert("Anunțul nu a fost găsit");return}if(me.seller_id!==a.id){alert("Nu poți edita un anunț care nu îți aparține");return}s(`/editeaza-anunt/${W}`)},ds=async W=>{if(confirm("Ești sigur că vrei să ștergi acest anunț?"))try{const me=T.find(Ve=>Ve.id===W)||X.find(Ve=>Ve.id===W);if(!me){alert("Anunțul nu a fost găsit");return}if(me.seller_id!==a.id){alert("Nu poți șterge un anunț care nu îți aparține");return}const{error:Se}=await ee.from("listings").delete().eq("id",W);if(Se){console.error("Error deleting listing:",Se),alert("Eroare la ștergerea anunțului");return}F(Ve=>Ve.filter(qt=>qt.id!==W)),C(Ve=>Ve.filter(qt=>qt.id!==W)),alert("Anunțul a fost șters cu succes!")}catch(me){console.error("Error deleting listing:",me),me.message?.includes("NetworkError")||me.message?.includes("fetch")?I(me):alert("A apărut o eroare la ștergerea anunțului")}},Zt=W=>{s(`/anunt/${W}`)},hr=()=>{I(null),Z()};return q?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx(ia,{error:q,onRetry:hr})})}):c?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-nexar-accent border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Se încarcă profilul..."})]})}):h||!a?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg text-center max-w-md",children:[e.jsx(fe,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:h||"Profil negăsit"}),e.jsx("p",{className:"text-gray-600 mb-6",children:h||"Profilul căutat nu există sau a fost șters."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("button",{onClick:()=>s("/"),className:"bg-nexar-accent text-white px-6 py-3 rounded-lg font-semibold hover:bg-nexar-gold transition-colors",children:"Înapoi la pagina principală"}),e.jsx(Oi,{buttonText:"Repară Conexiunea"})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-32 bg-gradient-to-r from-nexar-accent to-nexar-gold"}),e.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-1/2",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-white overflow-hidden bg-gray-200",children:e.jsx("img",{width:"96",height:"96",src:ve||a.avatar_url||`https://ui-avatars.com/api/?name=${encodeURIComponent(a.name)}&background=random`,alt:a.name,className:"w-full h-full object-cover",onError:W=>{const me=W.currentTarget;me.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(a.name)}&background=random`}})}),x&&e.jsxs("label",{className:"absolute bottom-0 right-0 bg-nexar-accent text-white p-1 rounded-full cursor-pointer",children:[e.jsx(lc,{className:"h-4 w-4"}),e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:He})]})]})})]}),e.jsxs("div",{className:"pt-16 px-6 pb-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:a.name}),e.jsx("div",{className:"mt-2",children:a.seller_type==="dealer"?e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white px-3 py-1.5 rounded-full shadow-md border border-emerald-400",children:[e.jsx(Js,{className:"h-3 w-3"}),e.jsx("span",{className:"font-bold text-xs tracking-wide",children:"DEALER VERIFICAT"})]}):e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-slate-500 to-slate-600 text-white px-3 py-1.5 rounded-full shadow-md",children:[e.jsx(sa,{className:"h-3 w-3"}),e.jsx("span",{className:"font-semibold text-xs",children:"VÂNZĂTOR PRIVAT"})]})})]}),x?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nume"}),e.jsx("input",{type:"text",value:b.name,onChange:W=>H("name",W.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-nexar-accent focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:b.email,disabled:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-2 bg-gray-50 cursor-not-allowed"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email-ul nu poate fi modificat"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon"}),e.jsx("input",{type:"tel",value:b.phone||"",onChange:W=>H("phone",W.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-nexar-accent focus:border-transparent",placeholder:"0790 45 46 47"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Locația"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:b.location||"",onChange:W=>je(W.target.value),onFocus:()=>{if(b.location.length>0){const W=$t.filter(me=>me.toLowerCase().includes(b.location.toLowerCase())).slice(0,10);N(W),k(!0)}},onBlur:()=>{setTimeout(()=>k(!1),200)},className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-nexar-accent focus:border-transparent",placeholder:"Începe să scrii orașul...",autoComplete:"off"}),e.jsx(mm,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),G&&$.length>0&&e.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:$.map((W,me)=>e.jsx("button",{type:"button",onClick:()=>Re(W),className:"w-full text-left px-4 py-2 hover:bg-nexar-accent hover:text-white transition-colors text-sm border-b border-gray-100 last:border-b-0",children:W},me))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descriere"}),e.jsx("textarea",{value:b.description||"",onChange:W=>H("description",W.target.value),rows:4,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-nexar-accent focus:border-transparent",placeholder:"Descriere despre tine..."})]}),a.seller_type==="dealer"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),e.jsx("input",{type:"url",value:b.website||"",onChange:W=>H("website",W.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-nexar-accent focus:border-transparent",placeholder:"https://www.exemplu.ro"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{onClick:dr,disabled:P,className:"flex-1 bg-nexar-accent text-white py-2 rounded-lg font-semibold hover:bg-nexar-gold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:P?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),e.jsx("span",{children:"Se salvează..."})]}):"Salvează"}),e.jsx("button",{onClick:A,className:"flex-1 bg-gray-200 text-gray-700 py-2 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Anulează"})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(en,{className:"h-5 w-5 text-gray-400"}),e.jsx("span",{className:"text-gray-700",children:a.email})]}),a.phone&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(cs,{className:"h-5 w-5 text-gray-400"}),e.jsx("span",{className:"text-gray-700",children:a.phone})]}),a.location&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(cr,{className:"h-5 w-5 text-gray-400"}),e.jsx("span",{className:"text-gray-700",children:a.location})]}),a.description&&e.jsx("div",{className:"pt-2 text-gray-700",children:e.jsx("p",{children:a.description})}),a.website&&e.jsx("div",{className:"pt-2",children:e.jsx("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"text-nexar-accent hover:text-nexar-gold transition-colors",children:a.website})}),p&&e.jsxs("div",{className:"pt-4 space-y-3",children:[e.jsxs("button",{onClick:de,className:"w-full bg-nexar-accent text-white py-2 rounded-lg font-semibold hover:bg-nexar-gold transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Ei,{className:"h-4 w-4"}),e.jsx("span",{children:"Editează Profilul"})]}),e.jsxs("button",{onClick:()=>Te(!M),className:"w-full bg-gray-800 text-white py-2 rounded-lg font-semibold hover:bg-gray-700 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Ur,{className:"h-4 w-4"}),e.jsx("span",{children:"Schimbă Parola"})]})]}),p&&M&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 animate-slide-up",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Schimbă Parola"}),ie&&e.jsx("div",{className:"mb-4 bg-green-50 border border-green-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-green-700 flex items-center text-sm",children:[e.jsx(mt,{className:"h-4 w-4 mr-2"}),"Parola a fost schimbată cu succes!"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parolă Nouă"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"password",value:Ce.newPassword,onChange:W=>Qt("newPassword",W.target.value),className:`w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-nexar-accent focus:border-transparent ${D.newPassword?"border-red-500":"border-gray-300"}`,placeholder:"Minim 8 caractere"}),e.jsx(Ur,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),D.newPassword&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),D.newPassword]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmă Parola"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"password",value:Ce.confirmPassword,onChange:W=>Qt("confirmPassword",W.target.value),className:`w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-nexar-accent focus:border-transparent ${D.confirmPassword?"border-red-500":"border-gray-300"}`,placeholder:"Repetă parola nouă"}),e.jsx(Ur,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),D.confirmPassword&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),D.confirmPassword]})]}),e.jsxs("div",{className:"flex space-x-3 pt-2",children:[e.jsx("button",{onClick:rn,className:"flex-1 bg-nexar-accent text-white py-2 rounded-lg font-semibold hover:bg-nexar-gold transition-colors",children:"Salvează Parola"}),e.jsx("button",{onClick:()=>{Te(!1),Ne({currentPassword:"",newPassword:"",confirmPassword:""}),be({})},className:"flex-1 bg-gray-200 text-gray-700 py-2 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Anulează"})]})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mt-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistici"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-nexar-accent",children:T.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Anunțuri Active"})]}),p&&e.jsxs("div",{className:"bg-yellow-50 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:X.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"În Așteptare"})]})]})]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"flex border-b border-gray-200",children:[e.jsx("button",{onClick:()=>V("listings"),className:`flex-1 py-4 px-6 text-center font-semibold transition-colors ${z==="listings"?"text-nexar-accent border-b-2 border-nexar-accent":"text-gray-600 hover:text-gray-900"}`,children:"Anunțuri Active"}),p&&e.jsxs("button",{onClick:()=>V("pending"),className:`flex-1 py-4 px-6 text-center font-semibold transition-colors ${z==="pending"?"text-nexar-accent border-b-2 border-nexar-accent":"text-gray-600 hover:text-gray-900"}`,children:["În Așteptare"," ",X.length>0&&e.jsx("span",{className:"ml-2 bg-yellow-100 text-yellow-800 text-xs font-semibold px-2 py-0.5 rounded-full",children:X.length})]})]}),z==="listings"&&e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:p?"Anunțurile Mele":`Anunțurile lui ${a.name}`}),K?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-nexar-accent border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Se încarcă anunțurile..."})]}):T.length===0?e.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl",children:[e.jsx(Wo,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:p?"Nu ai anunțuri active":`${a.name} nu are anunțuri active`}),p&&e.jsx("button",{onClick:()=>s("/adauga-anunt"),className:"mt-4 bg-nexar-accent text-white px-6 py-2 rounded-lg font-semibold hover:bg-nexar-gold transition-colors",children:"Adaugă Anunț"})]}):e.jsx("div",{className:"space-y-4",children:T.map(W=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden hover:shadow-md transition-shadow cursor-pointer",onClick:()=>Zt(W.id),children:e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsxs("div",{className:"relative w-full sm:w-48 h-40 sm:h-auto",children:[e.jsx("img",{src:W.imagesThumbs&&W.imagesThumbs[0]?W.imagesThumbs[0]:W.images&&W.images[0]?W.images[0]:"https://images.pexels.com/photos/2116475/pexels-photo-2116475.jpeg",alt:W.title,className:"w-full h-full object-cover",onError:me=>{const Se=me.currentTarget;Se.src="https://images.pexels.com/photos/2116475/pexels-photo-2116475.jpeg"}}),e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx("span",{className:"bg-nexar-accent text-white px-2 py-1 rounded-full text-xs font-semibold",children:W.category})})]}),e.jsxs("div",{className:"flex-1 p-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:W.title}),e.jsxs("div",{className:"text-xl font-bold text-nexar-accent mb-2",children:["€",W.price.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center space-x-1 bg-gray-50 rounded-lg px-2 py-1",children:[e.jsx(ur,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-xs font-medium",children:W.views_count||0})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[e.jsx(Hs,{className:"h-4 w-4"}),e.jsx("span",{children:W.year})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[e.jsx(cr,{className:"h-4 w-4"}),e.jsx("span",{children:W.location})]})]}),p&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:me=>{me.stopPropagation(),Zt(W.id)},className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200 transition-colors flex items-center space-x-1",children:[e.jsx(ur,{className:"h-4 w-4"}),e.jsx("span",{children:"Vezi"})]}),e.jsxs("button",{onClick:me=>{me.stopPropagation(),sn(W.id)},className:"bg-blue-100 text-blue-700 px-4 py-2 rounded-lg font-medium hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[e.jsx(Ei,{className:"h-4 w-4"}),e.jsx("span",{children:"Editează"})]}),e.jsxs("button",{onClick:me=>{me.stopPropagation(),ds(W.id)},className:"bg-red-100 text-red-700 px-4 py-2 rounded-lg font-medium hover:bg-red-200 transition-colors flex items-center space-x-1",children:[e.jsx(Bt,{className:"h-4 w-4"}),e.jsx("span",{children:"Șterge"})]})]})]})]})},W.id))})]}),z==="pending"&&p&&e.jsxs("div",{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(Ys,{className:"h-5 w-5 mr-2 text-yellow-600"}),"Anunțuri în Așteptare"]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-yellow-700 flex items-start",children:[e.jsx(fe,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Anunțurile tale sunt în curs de verificare de către administratori. Acest proces poate dura până la 24 de ore. Vei fi notificat când anunțurile tale vor fi aprobate."})]})}),K?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-nexar-accent border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Se încarcă anunțurile..."})]}):X.length===0?e.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl",children:[e.jsx(nx,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nu ai anunțuri în așteptare"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Toate anunțurile tale au fost procesate. Poți adăuga un anunț nou oricând."}),e.jsx("button",{onClick:()=>s("/adauga-anunt"),className:"bg-nexar-accent text-white px-6 py-2 rounded-lg font-semibold hover:bg-nexar-gold transition-colors",children:"Adaugă Anunț Nou"})]}):e.jsx("div",{className:"space-y-4",children:X.map(W=>e.jsx("div",{className:"bg-white border border-yellow-200 rounded-xl overflow-hidden hover:shadow-md transition-shadow cursor-pointer",onClick:()=>Zt(W.id),children:e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsxs("div",{className:"relative w-full sm:w-48 h-40 sm:h-auto",children:[e.jsx("img",{src:W.images&&W.images[0]?W.images[0]:"https://images.pexels.com/photos/2116475/pexels-photo-2116475.jpeg",alt:W.title,className:"w-full h-full object-cover",onError:me=>{const Se=me.currentTarget;Se.src="https://images.pexels.com/photos/2116475/pexels-photo-2116475.jpeg"}}),e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx("span",{className:"bg-yellow-500 text-white px-2 py-1 rounded-full text-xs font-semibold",children:"În așteptare"})})]}),e.jsxs("div",{className:"flex-1 p-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:W.title}),e.jsxs("div",{className:"text-xl font-bold text-nexar-accent mb-2",children:["€",W.price.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-yellow-100 text-yellow-800 px-3 py-1 rounded-lg",children:[e.jsx(Ys,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs font-medium",children:"În așteptare"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[e.jsx(Hs,{className:"h-4 w-4"}),e.jsx("span",{children:W.year})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[e.jsx(cr,{className:"h-4 w-4"}),e.jsx("span",{children:W.location})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:me=>{me.stopPropagation(),sn(W.id)},className:"bg-blue-100 text-blue-700 px-4 py-2 rounded-lg font-medium hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[e.jsx(Ei,{className:"h-4 w-4"}),e.jsx("span",{children:"Editează"})]}),e.jsxs("button",{onClick:me=>{me.stopPropagation(),ds(W.id)},className:"bg-red-100 text-red-700 px-4 py-2 rounded-lg font-medium hover:bg-red-200 transition-colors flex items-center space-x-1",children:[e.jsx(Bt,{className:"h-4 w-4"}),e.jsx("span",{children:"Șterge"})]})]})]})]})},W.id))})]})]})})]})})})},Uy=()=>{const[i,s]=w.useState("listings"),[a,l]=w.useState([]),[c,u]=w.useState([]),[h,f]=w.useState(!0),[p,y]=w.useState(null),[x,v]=w.useState(!1),[b,E]=w.useState(""),[z,V]=w.useState("all"),[T,F]=w.useState({}),[X,C]=w.useState(null),K=St();w.useEffect(()=>{R()},[]);const R=async()=>{try{f(!0),y(null),C(null);const k=await Or.isAdmin();if(v(k),!k){y("Nu ai permisiunea de a accesa această pagină. Doar administratorii pot vedea panoul de administrare."),f(!1);return}i==="listings"?await se():i==="users"&&await ne()}catch(k){console.error("Error checking admin status:",k),k.message?.includes("NetworkError")||k.message?.includes("fetch")?C(k):y("A apărut o eroare la verificarea statusului de administrator.")}finally{f(!1)}},se=async()=>{try{f(!0),y(null),C(null);const{data:k,error:$}=await ee.from("listings").select(`
          *,
          profiles!listings_seller_id_fkey (
            name,
            email,
            seller_type,
            verified
          )
        `).order("created_at",{ascending:!1});if($){console.error("Error loading listings:",$),y("Nu s-au putut încărca anunțurile.");return}console.log("Loaded listings:",k?.length||0,k),l(k||[])}catch(k){console.error("Error loading listings:",k),k.message?.includes("NetworkError")||k.message?.includes("fetch")?C(k):y("A apărut o eroare la încărcarea anunțurilor.")}finally{f(!1)}},ne=async()=>{try{f(!0),y(null),C(null);const{data:k,error:$}=await Or.getAllUsers();if($){console.error("Error loading users:",$),y("Nu s-au putut încărca utilizatorii.");return}u(k||[])}catch(k){console.error("Error loading users:",k),k.message?.includes("NetworkError")||k.message?.includes("fetch")?C(k):y("A apărut o eroare la încărcarea utilizatorilor.")}finally{f(!1)}},ve=async k=>{s(k),E(""),k==="listings"&&a.length===0?await se():k==="users"&&c.length===0&&await ne()},re=async(k,$)=>{console.log("🔄 Încearcă să modifice statusul la:",k,$);try{F(q=>({...q,[k]:!0}));const{error:N}=await Or.updateListingStatus(k,$);if(N){console.error("Error updating listing status:",N),alert(`Eroare la actualizarea statusului: ${N?.message??String(N)}`);return}console.log("✅ Status actualizat cu succes în frontend"),l(q=>q.map(I=>I.id===k?{...I,status:$}:I)),alert(`Statusul anunțului a fost actualizat la "${$}".`)}catch(N){console.error("⚠️ Eroare în try/catch:",N),N.message?.includes("NetworkError")||N.message?.includes("fetch")?C(N):alert("A apărut o eroare la actualizarea statusului.")}finally{F(N=>({...N,[k]:!1}))}},M=async k=>{if(confirm("Ești sigur că vrei să ștergi acest anunț?"))try{F(N=>({...N,[k]:!0}));const{error:$}=await Or.deleteListing(k);if($){console.error("Error deleting listing:",$),alert(`Eroare la ștergerea anunțului: ${$.message}`);return}l(N=>N.filter(q=>q.id!==k)),alert("Anunțul a fost șters cu succes!")}catch($){console.error("Error deleting listing:",$),$.message?.includes("NetworkError")||$.message?.includes("fetch")?C($):alert("A apărut o eroare la ștergerea anunțului.")}finally{F($=>({...$,[k]:!1}))}},Te=async(k,$)=>{try{F(q=>({...q,[k]:!0}));const{error:N}=await Or.toggleUserStatus(k,$);if(N){console.error("Error toggling user status:",N),alert(`Eroare la ${$?"suspendarea":"activarea"} utilizatorului: ${N.message}`);return}u(q=>q.map(I=>I.user_id===k?{...I,suspended:$}:I)),alert(`Utilizatorul a fost ${$?"suspendat":"activat"} cu succes!`)}catch(N){console.error("Error toggling user status:",N),N.message?.includes("NetworkError")||N.message?.includes("fetch")?C(N):alert(`A apărut o eroare la ${$?"suspendarea":"activarea"} utilizatorului.`)}finally{F(N=>({...N,[k]:!1}))}},Ce=async k=>{if(confirm("ATENȚIE: Această acțiune va șterge utilizatorul și TOATE anunțurile asociate din baza de date. Contul de autentificare va rămâne activ din motive de securitate. Ești sigur că vrei să continui?"))try{F(P=>({...P,[k]:!0}));const{data:$,error:N}=await ee.from("profiles").select("id").eq("user_id",k).single();if(N||!$){console.error("Error fetching user profile:",N),alert("Eroare la găsirea profilului utilizatorului"),F(P=>({...P,[k]:!1}));return}const{error:q}=await ee.from("listings").delete().eq("seller_id",$.id);if(q){console.error("Error deleting user listings:",q),alert("Eroare la ștergerea anunțurilor utilizatorului"),F(P=>({...P,[k]:!1}));return}const{error:I}=await ee.from("profiles").delete().eq("user_id",k);if(I){console.error("Error deleting user profile:",I),alert("Eroare la ștergerea profilului utilizatorului"),F(P=>({...P,[k]:!1}));return}u(P=>P.filter(B=>B.user_id!==k)),await se(),alert("Utilizatorul și toate anunțurile asociate au fost șterse cu succes din baza de date!")}catch($){console.error("Error deleting user:",$),$.message?.includes("NetworkError")||$.message?.includes("fetch")?C($):alert("A apărut o eroare la ștergerea utilizatorului.")}finally{F($=>({...$,[k]:!1}))}},Ne=k=>{window.open(`/anunt/${k}`,"_blank")},D=k=>{K(`/editeaza-anunt/${k}`)},be=k=>{K(`/profil/${k}`)},ie=()=>{C(null),R()},ge=a.filter(k=>{const $=!b||k.title?.toLowerCase().includes(b.toLowerCase())||k.seller_name?.toLowerCase().includes(b.toLowerCase())||k.brand?.toLowerCase().includes(b.toLowerCase())||k.model?.toLowerCase().includes(b.toLowerCase()),N=z==="all"||k.status===z;return $&&N}),G=c.filter(k=>!b||k.name?.toLowerCase().includes(b.toLowerCase())||k.email?.toLowerCase().includes(b.toLowerCase()));return X?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx(ia,{error:X,onRetry:ie})})}):h&&!a.length&&!c.length?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-nexar-accent border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Se încarcă datele..."})]})}):p&&!x?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg text-center max-w-md",children:[e.jsx(fe,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Acces Restricționat"}),e.jsx("p",{className:"text-gray-600 mb-6",children:p}),e.jsx("button",{onClick:()=>K("/"),className:"bg-nexar-accent text-white px-6 py-3 rounded-lg font-semibold hover:bg-nexar-gold transition-colors",children:"Înapoi la pagina principală"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"p-6 bg-gray-900 text-white",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Panou de Administrare"}),e.jsx("p",{className:"text-gray-300",children:"Gestionează anunțurile și utilizatorii platformei"})]}),e.jsxs("div",{className:"flex border-b border-gray-200",children:[e.jsxs("button",{onClick:()=>ve("listings"),className:`flex items-center space-x-2 px-6 py-4 font-semibold transition-colors ${i==="listings"?"text-nexar-accent border-b-2 border-nexar-accent":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(Wo,{className:"h-5 w-5"}),e.jsx("span",{children:"Anunțuri"})]}),e.jsxs("button",{onClick:()=>ve("users"),className:`flex items-center space-x-2 px-6 py-4 font-semibold transition-colors ${i==="users"?"text-nexar-accent border-b-2 border-nexar-accent":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(ea,{className:"h-5 w-5"}),e.jsx("span",{children:"Utilizatori"})]})]}),e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-grow",children:[e.jsx("input",{type:"text",value:b,onChange:k=>E(k.target.value),placeholder:`Caută ${i==="listings"?"anunțuri":"utilizatori"}...`,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-nexar-accent focus:border-transparent"}),e.jsx(Ho,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"})]}),i==="listings"&&e.jsxs("select",{value:z,onChange:k=>V(k.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-nexar-accent focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Toate statusurile"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"pending",children:"În așteptare"}),e.jsx("option",{value:"rejected",children:"Respinse"}),e.jsx("option",{value:"sold",children:"Vândute"})]})]})}),p&&e.jsxs("div",{className:"p-6 bg-red-50 border-b border-red-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(fe,{className:"h-6 w-6 text-red-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-800",children:"Eroare"}),e.jsx("p",{className:"text-red-600",children:p})]})]}),e.jsx("div",{className:"mt-4 flex space-x-4",children:e.jsxs("button",{onClick:R,className:"flex items-center space-x-2 bg-nexar-accent text-white px-4 py-2 rounded-lg font-semibold hover:bg-nexar-gold transition-colors",children:[e.jsx(Vt,{className:"h-4 w-4"}),e.jsx("span",{children:"Reîncearcă"})]})})]}),i==="listings"&&e.jsx("div",{className:"overflow-x-auto",children:h&&a.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-nexar-accent border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Se încarcă anunțurile..."})]}):ge.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(Wo,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:b?"Nu am găsit anunțuri care să corespundă căutării":"Nu există anunțuri"}),b&&e.jsx("button",{onClick:()=>E(""),className:"text-nexar-accent hover:text-nexar-gold transition-colors",children:"Șterge filtrele"})]}):e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Anunț"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vânzător"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Preț"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acțiuni"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ge.map(k=>e.jsxs("tr",{className:`hover:bg-gray-50 ${k.status==="pending"?"bg-yellow-50":""}`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:e.jsx("img",{loading:"lazy",className:"h-10 w-10 rounded-md object-cover",src:k.images&&k.images[0]?k.images[0]:"https://images.pexels.com/photos/2116475/pexels-photo-2116475.jpeg",alt:k.title,onError:$=>{const N=$.currentTarget;N.src="https://images.pexels.com/photos/2116475/pexels-photo-2116475.jpeg"}})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:k.title}),e.jsxs("div",{className:"text-sm text-gray-500",children:[k.brand," ",k.model]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.seller_name}),e.jsx("div",{className:"ml-2",children:k.profiles?.seller_type==="dealer"?e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Dealer Verificat"}):e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:"Privat"})})]}),e.jsx("div",{className:"text-sm text-gray-500",children:k.location})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${k.status==="active"?"bg-green-100 text-green-800":k.status==="sold"?"bg-blue-100 text-blue-800":k.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:k.status==="active"?"Activ":k.status==="sold"?"Vândut":k.status==="pending"?"În așteptare":"Respins"}),e.jsx("div",{className:"mt-2",children:e.jsxs("select",{className:"text-xs border border-gray-300 rounded px-2 py-1",value:k.status,onChange:$=>re(k.id,$.target.value),disabled:T[k.id],children:[e.jsx("option",{value:"active",children:"Activ"}),e.jsx("option",{value:"pending",children:"În așteptare"}),e.jsx("option",{value:"rejected",children:"Respins"}),e.jsx("option",{value:"sold",children:"Vândut"})]})})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["€",k.price.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(k.created_at).toLocaleDateString("ro-RO")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>Ne(k.id),className:"text-gray-600 hover:text-gray-900",title:"Vezi anunțul",children:e.jsx(ur,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>D(k.id),className:"text-blue-600 hover:text-blue-800",title:"Editează anunțul",children:e.jsx(Ei,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>M(k.id),disabled:T[k.id],className:"text-red-600 hover:text-red-800 disabled:opacity-50",title:"Șterge anunțul",children:T[k.id]?e.jsx("div",{className:"h-5 w-5 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):e.jsx(Go,{className:"h-5 w-5"})}),e.jsx("div",{className:"border-l border-gray-300 h-5 mx-2"}),e.jsxs("div",{className:"flex space-x-1",children:[k.status==="pending"&&e.jsx("button",{onClick:()=>re(k.id,"active"),disabled:T[k.id],className:"bg-green-100 text-green-800 p-1.5 rounded-lg hover:bg-green-200 transition-colors",title:"Aprobă anunțul",children:T[k.id]?e.jsx("div",{className:"h-5 w-5 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}):e.jsx(mt,{className:"h-5 w-5"})}),k.status==="pending"&&e.jsx("button",{onClick:()=>re(k.id,"rejected"),disabled:T[k.id],className:"bg-red-100 text-red-800 p-1.5 rounded-lg hover:bg-red-200 transition-colors",title:"Respinge anunțul",children:T[k.id]?e.jsx("div",{className:"h-5 w-5 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):e.jsx(Gs,{className:"h-5 w-5"})}),k.status==="rejected"&&e.jsx("button",{onClick:()=>re(k.id,"active"),disabled:T[k.id],className:"bg-green-100 text-green-800 p-1.5 rounded-lg hover:bg-green-200 transition-colors",title:"Activează anunțul",children:T[k.id]?e.jsx("div",{className:"h-5 w-5 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}):e.jsx(mt,{className:"h-5 w-5"})}),k.status==="active"&&e.jsx("button",{onClick:()=>re(k.id,"rejected"),disabled:T[k.id],className:"bg-red-100 text-red-800 p-1.5 rounded-lg hover:bg-red-200 transition-colors",title:"Dezactivează anunțul",children:T[k.id]?e.jsx("div",{className:"h-5 w-5 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):e.jsx(Gs,{className:"h-5 w-5"})})]})]})})]},k.id))})]})}),i==="users"&&e.jsx("div",{className:"overflow-x-auto",children:h&&c.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-nexar-accent border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Se încarcă utilizatorii..."})]}):G.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(ea,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:b?"Nu am găsit utilizatori care să corespundă căutării":"Nu există utilizatori"}),b&&e.jsx("button",{onClick:()=>E(""),className:"text-nexar-accent hover:text-nexar-gold transition-colors",children:"Șterge filtrele"})]}):e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Utilizator"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tip"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data înregistrării"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acțiuni"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:G.map(k=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:k.avatar_url?e.jsx("img",{loading:"lazy",className:"h-10 w-10 rounded-full object-cover",src:k.avatar_url,alt:k.name,onError:$=>{const N=$.currentTarget;N.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(k.name)}&background=random`}}):e.jsx("div",{className:"h-10 w-10 rounded-full bg-nexar-accent flex items-center justify-center text-white font-semibold text-xs",children:k.name?k.name.charAt(0).toUpperCase():"U"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.name}),e.jsx("div",{className:"text-sm text-gray-500",children:k.location||"Locație nespecificată"})]}),k.is_admin&&e.jsx("div",{className:"ml-2",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-purple-100 text-purple-800",children:"Admin"})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k.email}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:k.seller_type==="dealer"?e.jsxs("div",{className:"flex items-center",children:[e.jsx(Js,{className:"h-4 w-4 text-green-600 mr-1"}),e.jsx("span",{className:"text-sm text-green-800 font-medium",children:"Dealer Verificat"})]}):e.jsxs("div",{className:"flex items-center",children:[e.jsx(sa,{className:"h-4 w-4 text-gray-600 mr-1"}),e.jsx("span",{className:"text-sm text-gray-800",children:"Individual"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${k.suspended?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:k.suspended?"Suspendat":"Activ"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(k.created_at).toLocaleDateString("ro-RO")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>be(k.id),className:"text-gray-600 hover:text-gray-900",title:"Vezi profilul",children:e.jsx(ur,{className:"h-5 w-5"})}),!k.is_admin&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>Te(k.user_id,!k.suspended),disabled:T[k.user_id],className:`${k.suspended?"text-green-600 hover:text-green-800":"text-red-600 hover:text-red-800"} disabled:opacity-50`,title:k.suspended?"Activează utilizatorul":"Suspendă utilizatorul",children:T[k.user_id]?e.jsx("div",{className:"h-5 w-5 border-2 border-current border-t-transparent rounded-full animate-spin"}):k.suspended?e.jsx(pm,{className:"h-5 w-5"}):e.jsx(px,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>Ce(k.user_id),disabled:T[k.user_id]||k.is_admin,className:"text-red-600 hover:text-red-800 disabled:opacity-50",title:k.is_admin?"Nu poți șterge un administrator":"Șterge utilizatorul",children:T[k.user_id]?e.jsx("div",{className:"h-5 w-5 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):e.jsx(Go,{className:"h-5 w-5"})})]})]})})]},k.user_id))})]})}),e.jsx("div",{className:"p-6 bg-gray-50 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"text-sm text-gray-600",children:i==="listings"?`${ge.length} anunțuri`:`${G.length} utilizatori`}),e.jsx("div",{className:"flex space-x-3",children:e.jsxs("button",{onClick:()=>{i==="listings"?se():ne()},className:"flex items-center space-x-2 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:[e.jsx(Vt,{className:"h-4 w-4"}),e.jsx("span",{children:"Reîmprospătează"})]})})]})})]})})})},My=()=>{const[i,s]=w.useState(!0),[a,l]=w.useState(!1),[c,u]=w.useState(!1),[h,f]=w.useState(!1),[p,y]=w.useState(!1),[x,v]=w.useState(""),[b,E]=w.useState(""),z=St(),V=Yt(),T=w.useRef(null),[F,X]=w.useState({name:"",email:"",password:"",confirmPassword:"",phone:"",location:"",sellerType:"individual",agreeToTerms:!1}),[C,K]=w.useState({}),[R,se]=w.useState(!1),[ne,ve]=w.useState(!1),[re,M]=w.useState([]);w.useEffect(()=>{(async()=>{const{data:{user:Z}}=await ee.auth.getUser();Z&&z("/")})();const B=V.hash;(B.includes("#access_token=")||B.includes("type=recovery"))&&Te()},[z,V]);const Te=async()=>{try{const{data:P,error:B}=await ee.auth.getSession();if(B){console.error("Error handling auth redirect:",B),v("A apărut o eroare la procesarea link-ului. Te rugăm să încerci din nou.");return}P?.session&&(V.hash.includes("type=recovery")?(u(!0),s(!1),l(!1),E("Poți seta acum o nouă parolă pentru contul tău.")):z("/auth/confirm"))}catch(P){console.error("Error in handleAuthRedirect:",P),v("A apărut o eroare la procesarea link-ului. Te rugăm să încerci din nou.")}};w.useEffect(()=>{b&&T.current&&T.current.scrollIntoView({behavior:"smooth",block:"center"})},[b]);const Ce=P=>P.trim()?P.trim().length<2?"Numele trebuie să aibă cel puțin 2 caractere":P.trim().length>50?"Numele nu poate depăși 50 de caractere":/^[a-zA-ZăâîșțĂÂÎȘȚ\s\-\.]+$/.test(P.trim())?"":"Numele poate conține doar litere, spații, cratimă și punct":"Numele este obligatoriu",Ne=P=>{if(!P.trim())return"Email-ul este obligatoriu";if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(P.trim()))return"Email-ul nu este valid";const Z=P.trim().toLowerCase();if(Z.startsWith(".")||Z.endsWith("."))return"Email-ul nu poate începe sau se termina cu punct";if(Z.includes(".."))return"Email-ul nu poate conține puncte consecutive";const le=Z.split("@");return le.length!==2||le[0].length===0||le[1].length===0?"Email-ul nu este valid":""},D=P=>{if(!P.trim())return"Numărul de telefon este obligatoriu";const B=P.replace(/[\s\-\(\)]/g,"");if(!/^(\+4|0)[0-9]{9}$/.test(B))return"Numărul de telefon nu este valid (ex: 0790454647 sau +40790454647)";const le=["072","073","074","075","076","077","078","079"];let de=!1;if(B.startsWith("+4")){const A=B.substring(2);de=le.some(H=>A.startsWith(H.substring(1)))}else B.startsWith("0")&&(de=le.some(A=>B.startsWith(A)));return de?"":"Prefixul nu este valid pentru România (ex: 072, 073, 074, 075, 076, 077, 078, 079)"},be=P=>P.trim()?$t.some(Z=>Z.toLowerCase()===P.trim().toLowerCase())?"":"Te rugăm să selectezi un oraș din lista disponibilă":"Locația este obligatorie",ie=P=>P?P.length<8?"Parola trebuie să aibă cel puțin 8 caractere":/(?=.*[a-z])/.test(P)?/(?=.*[A-Z])/.test(P)?/(?=.*\d)/.test(P)?"":"Parola trebuie să conțină cel puțin o cifră":"Parola trebuie să conțină cel puțin o literă mare":"Parola trebuie să conțină cel puțin o literă mică":"Parola este obligatorie",ge=P=>{if($("location",P),P.length>0){const B=$t.filter(Z=>Z.toLowerCase().includes(P.toLowerCase())).slice(0,10);M(B),ve(!0)}else M([]),ve(!1)},G=P=>{$("location",P),ve(!1),M([])},k=async()=>{const P={};if(c){const B=ie(F.password);B&&(P.password=B),F.password!==F.confirmPassword&&(P.confirmPassword="Parolele nu coincid")}else if(a){const B=Ne(F.email);B&&(P.email=B)}else if(i){const B=Ne(F.email);B&&(P.email=B),F.password||(P.password="Parola este obligatorie")}else{const B=Ce(F.name);B&&(P.name=B);const Z=Ne(F.email);Z&&(P.email=Z);const le=D(F.phone);le&&(P.phone=le);const de=be(F.location);de&&(P.location=de);const A=ie(F.password);A&&(P.password=A),F.password!==F.confirmPassword&&(P.confirmPassword="Parolele nu coincid"),F.agreeToTerms||(P.agreeToTerms="Trebuie să accepți termenii și condițiile")}return K(P),Object.keys(P).length===0},$=(P,B)=>{X(Z=>({...Z,[P]:B})),C[P]&&K(Z=>({...Z,[P]:""})),x&&v("")},N=async P=>{if(P.preventDefault(),c){await I();return}if(a){await q();return}if(console.log("🚀 Starting authentication process..."),console.log("📧 Email being used:",F.email.trim()),!await k()){console.log("❌ Form validation failed:",C);return}y(!0),v(""),E("");try{if(i){console.log("🔐 Attempting login...");const{data:Z,error:le}=await as.signIn(F.email.trim(),F.password);if(le){console.error("❌ Login error:",le);const de=le.message;de.includes("Invalid login credentials")?v("Email sau parolă incorectă"):de.includes("Email not confirmed")?v("Te rugăm să-ți confirmi email-ul înainte de a te conecta"):de.includes("Too many requests")?v("Prea multe încercări. Te rugăm să aștepți câteva minute"):v(de)}else Z?.user&&(console.log("✅ Login successful for:",Z.user.email),z("/"))}else{console.log("📝 Attempting registration...");const{data:Z,error:le}=await as.signUp(F.email.trim(),F.password,{name:F.name.trim(),phone:F.phone.replace(/[\s\-\(\)]/g,""),location:F.location.trim(),sellerType:F.sellerType});if(le){console.error("❌ Registration error:",le);const de=le.message;de.includes("already registered")||de.includes("User already registered")?v("Acest email este deja înregistrat. Încearcă să te conectezi în schimb."):de.includes("Password should be at least")?v("Parola trebuie să aibă cel puțin 6 caractere"):de.includes("Unable to validate email")||de.includes("invalid")?v("Email-ul introdus nu este valid. Te rugăm să verifici formatul."):de.includes("signup_disabled")?v("Înregistrarea este temporar dezactivată. Te rugăm să încerci mai târziu."):v(`Eroare la înregistrare: ${de}`)}else Z?.user&&(console.log("✅ Registration successful for:",Z.user.email),Z.session?(E("Cont creat cu succes! Ești acum conectat."),setTimeout(()=>{z("/")},288888e3)):(E("Cont creat cu succes! Verifică-ți email-ul pentru a confirma contul înainte de a te conecta."),X({name:"",email:"",password:"",confirmPassword:"",phone:"",location:"",sellerType:"individual",agreeToTerms:!1})))}}catch(Z){console.error("💥 Authentication error:",Z),v("A apărut o eroare neașteptată. Te rugăm să încerci din nou.")}finally{y(!1)}},q=async()=>{if(Ne(F.email)){v("Introdu o adresă de email validă pentru a reseta parola");return}y(!0);try{const{error:B}=await as.resetPassword(F.email.trim());if(B){const Z=B.message;v(Z)}else E("Un email pentru resetarea parolei a fost trimis. Verifică-ți căsuța de email.")}catch(B){console.error("Password reset error:",B),v("A apărut o eroare. Te rugăm să încerci din nou.")}finally{y(!1)}},I=async()=>{const P=ie(F.password);if(P){K({password:P});return}if(F.password!==F.confirmPassword){K({confirmPassword:"Parolele nu coincid"});return}y(!0);try{const{error:B}=await as.updatePassword(F.password);if(B){console.error("Error setting new password:",B);const Z=B.message;v(`Eroare la setarea noii parole: ${Z}`)}else E("Parola a fost actualizată cu succes! Te poți conecta acum cu noile credențiale."),setTimeout(()=>{u(!1),s(!0),X({...F,password:"",confirmPassword:""})},3e3)}catch(B){console.error("Error setting new password:",B),v("A apărut o eroare la setarea noii parole. Te rugăm să încerci din nou.")}finally{y(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center py-8 sm:py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-md w-full space-y-6 sm:space-y-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 sm:p-8",children:[e.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 sm:space-x-3 mb-6",children:[e.jsx("img",{loading:"lazy",src:"/Nexar - logo_black & red.png",alt:"Nexar Logo",className:"h-20 sm:h-24 md:h-28 w-auto",onError:P=>{const B=P.currentTarget;if(B.src.includes("Nexar - logo_black & red.png"))B.src="/nexar-logo.png";else if(B.src.includes("nexar-logo.png"))B.src="/image.png";else{B.style.display="none";const Z=B.nextElementSibling;Z&&(Z.style.display="block")}}}),e.jsx("div",{className:"hidden text-4xl sm:text-5xl font-bold text-nexar-accent",children:"NEXAR"})]}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:c?"Setează o nouă parolă":a?"Resetare Parolă":i?"Conectează-te":"Creează Cont"}),e.jsx("p",{className:"text-gray-600 mt-2 text-sm sm:text-base",children:c?"Introdu noua parolă pentru contul tău":a?"Introdu adresa de email pentru a primi un link de resetare a parolei":i?"Bun venit înapoi! Conectează-te la contul tău.":"Alătură-te comunității și începe să vinzi sau să cumperi motociclete."})]}),b&&e.jsx("div",{ref:T,className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-green-700 flex items-center",children:[e.jsx(mt,{className:"h-5 w-5 mr-2"}),b]})}),x&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-red-700 flex items-center",children:[e.jsx(fe,{className:"h-5 w-5 mr-2"}),x]})}),!a&&!c&&e.jsxs("div",{className:"flex bg-gray-50 rounded-xl p-1 mb-6 sm:mb-8",children:[e.jsx("button",{onClick:()=>{s(!0),l(!1),K({}),v(""),E("")},className:`flex-1 py-2.5 sm:py-3 px-4 rounded-lg font-semibold transition-colors text-sm sm:text-base ${i?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Conectare"}),e.jsx("button",{onClick:()=>{s(!1),l(!1),K({}),v(""),E("")},className:`flex-1 py-2.5 sm:py-3 px-4 rounded-lg font-semibold transition-colors text-sm sm:text-base ${i?"text-gray-600 hover:text-gray-900":"bg-white text-gray-900 shadow-sm"}`,children:"Înregistrare"})]}),e.jsxs("form",{onSubmit:N,className:"space-y-4 sm:space-y-6",children:[!i&&!a&&!c&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nume complet *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:F.name,onChange:P=>$("name",P.target.value),className:`w-full pl-10 sm:pl-12 pr-4 py-2.5 sm:py-3 border rounded-xl focus:ring-2 focus:ring-nexar-accent focus:border-transparent transition-colors text-sm sm:text-base ${C.name?"border-red-500":"border-gray-300"}`,placeholder:"Bogdan Popescu",required:!i&&!a&&!c}),e.jsx(sa,{className:"absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 sm:h-5 sm:w-5"})]}),C.name&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),C.name]})]}),!c&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"email",value:F.email,onChange:P=>$("email",P.target.value),className:`w-full pl-10 sm:pl-12 pr-4 py-2.5 sm:py-3 border rounded-xl focus:ring-2 focus:ring-nexar-accent focus:border-transparent transition-colors text-sm sm:text-base ${C.email?"border-red-500":"border-gray-300"}`,placeholder:"bogdan@exemplu.com",required:!0}),e.jsx(en,{className:"absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 sm:h-5 sm:w-5"}),R&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("div",{className:"w-4 h-4 border-2 border-nexar-accent border-t-transparent rounded-full animate-spin"})})]}),C.email&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),C.email]})]}),!i&&!a&&!c&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"tel",value:F.phone,onChange:P=>$("phone",P.target.value),className:`w-full pl-10 sm:pl-12 pr-4 py-2.5 sm:py-3 border rounded-xl focus:ring-2 focus:ring-nexar-accent focus:border-transparent transition-colors text-sm sm:text-base ${C.phone?"border-red-500":"border-gray-300"}`,placeholder:"0790 45 46 47",required:!i&&!a&&!c}),e.jsx(cs,{className:"absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 sm:h-5 sm:w-5"})]}),C.phone&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),C.phone]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Locația *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:F.location,onChange:P=>ge(P.target.value),onFocus:()=>{if(F.location.length>0){const P=$t.filter(B=>B.toLowerCase().includes(F.location.toLowerCase())).slice(0,10);M(P),ve(!0)}},onBlur:()=>{setTimeout(()=>ve(!1),200)},className:`w-full pl-10 sm:pl-12 pr-10 py-2.5 sm:py-3 border rounded-xl focus:ring-2 focus:ring-nexar-accent focus:border-transparent transition-colors text-sm sm:text-base ${C.location?"border-red-500":"border-gray-300"}`,placeholder:"Începe să scrii orașul...",required:!i&&!a&&!c,autoComplete:"off"}),e.jsx(cr,{className:"absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 sm:h-5 sm:w-5"}),e.jsx(mm,{className:"absolute right-3 sm:right-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 sm:h-5 sm:w-5"}),ne&&re.length>0&&e.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:re.map((P,B)=>e.jsx("button",{type:"button",onClick:()=>G(P),className:"w-full text-left px-4 py-2 hover:bg-nexar-accent hover:text-white transition-colors text-sm border-b border-gray-100 last:border-b-0",children:P},B))})]}),C.location&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),C.location]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tip Vânzător *"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:F.sellerType,onChange:P=>$("sellerType",P.target.value),className:"w-full pl-10 sm:pl-12 pr-4 py-2.5 sm:py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-nexar-accent focus:border-transparent transition-colors appearance-none text-sm sm:text-base",required:!i&&!a&&!c,children:[e.jsx("option",{value:"individual",children:"Vânzător Privat"}),e.jsx("option",{value:"dealer",children:"Dealer Autorizat"})]}),e.jsx(Js,{className:"absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 sm:h-5 sm:w-5"})]})]})]}),!a&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parolă *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:h?"text":"password",value:F.password,onChange:P=>$("password",P.target.value),className:`w-full pl-10 sm:pl-12 pr-10 sm:pr-12 py-2.5 sm:py-3 border rounded-xl focus:ring-2 focus:ring-nexar-accent focus:border-transparent transition-colors text-sm sm:text-base ${C.password?"border-red-500":"border-gray-300"}`,placeholder:"••••••••",required:!0}),e.jsx(Ur,{className:"absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 sm:h-5 sm:w-5"}),e.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 sm:right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:h?e.jsx(qo,{className:"h-4 w-4 sm:h-5 sm:w-5"}):e.jsx(ur,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),C.password&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),C.password]})]}),(!i&&!a||c)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmă parola *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"password",value:F.confirmPassword,onChange:P=>$("confirmPassword",P.target.value),className:`w-full pl-10 sm:pl-12 pr-4 py-2.5 sm:py-3 border rounded-xl focus:ring-2 focus:ring-nexar-accent focus:border-transparent transition-colors text-sm sm:text-base ${C.confirmPassword?"border-red-500":"border-gray-300"}`,placeholder:"••••••••",required:!i&&!a||c}),e.jsx(Ur,{className:"absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 sm:h-5 sm:w-5"})]}),C.confirmPassword&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),C.confirmPassword]})]}),i&&!a&&!c&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-nexar-accent focus:ring-nexar-accent"}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Ține-mă conectat"})]}),e.jsx("button",{type:"button",onClick:()=>{l(!0),v(""),E("")},className:"text-sm text-nexar-accent hover:text-nexar-gold transition-colors",children:"Ai uitat parola?"})]}),!i&&!a&&!c&&e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",checked:F.agreeToTerms,onChange:P=>$("agreeToTerms",P.target.checked),className:"mt-1 rounded border-gray-300 text-nexar-accent focus:ring-nexar-accent",required:!i&&!a&&!c}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Sunt de acord cu"," ",e.jsx(ke,{to:"/termeni",target:"_blank",className:"text-nexar-accent hover:text-nexar-gold transition-colors",children:"Termenii și Condițiile"})," ","și"," ",e.jsx(ke,{to:"/confidentialitate",target:"_blank",className:"text-nexar-accent hover:text-nexar-gold transition-colors",children:"Politica de Confidențialitate"})]}),C.agreeToTerms&&e.jsxs("p",{className:"text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),C.agreeToTerms]})]}),e.jsx("button",{type:"submit",disabled:p||R,className:"w-full bg-nexar-accent text-white py-2.5 sm:py-3 rounded-xl font-semibold hover:bg-nexar-gold transition-colors transform hover:scale-105 duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base",children:p?"Se procesează...":c?"Setează noua parolă":a?"Trimite link de resetare":i?"Conectează-te":"Creează Cont"})]}),e.jsx("div",{className:"mt-6 sm:mt-8 text-center",children:a||c?e.jsxs("p",{className:"text-sm text-gray-600",children:["Ți-ai amintit parola?"," ",e.jsx("button",{onClick:()=>{l(!1),u(!1),s(!0),v(""),E("")},className:"text-nexar-accent hover:text-nexar-gold font-semibold transition-colors",children:"Înapoi la conectare"})]}):e.jsxs("p",{className:"text-sm text-gray-600",children:[i?"Nu ai cont?":"Ai deja cont?"," ",e.jsx("button",{onClick:()=>{s(!i),K({}),v(""),E("")},className:"text-nexar-accent hover:text-nexar-gold font-semibold transition-colors",children:i?"Înregistrează-te aici":"Conectează-te aici"})]})})]})})})},Fy=()=>(w.useEffect(()=>{window.scrollTo(0,0)},[]),e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-nexar-accent/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(lx,{className:"h-8 w-8 text-nexar-accent"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Termeni și Condiții"}),e.jsx("p",{className:"text-gray-600",children:"Ultima actualizare: 18 Decembrie 2024"})]}),e.jsxs("div",{className:"prose max-w-none",children:[e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Xn,{className:"h-6 w-6 text-nexar-accent"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"1. Introducere"})]}),e.jsx("p",{className:"text-gray-700 mb-4",children:'Bine ați venit pe Nexar.ro! Acești Termeni și Condiții ("Termeni") reglementează utilizarea platformei noastre de marketplace pentru motociclete. Prin accesarea și utilizarea serviciilor noastre, acceptați să respectați acești termeni.'}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-blue-800 text-sm",children:[e.jsx("strong",{children:"Important:"})," Vă rugăm să citiți cu atenție acești termeni înainte de a utiliza platforma. Dacă nu sunteți de acord cu oricare dintre acești termeni, vă rugăm să nu utilizați serviciile noastre."]})})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(ea,{className:"h-6 w-6 text-nexar-accent"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"2. Definiții"})]}),e.jsxs("ul",{className:"space-y-3 text-gray-700",children:[e.jsxs("li",{children:[e.jsx("strong",{children:'"Platforma"'})," - site-ul web Nexar.ro și toate serviciile asociate"]}),e.jsxs("li",{children:[e.jsx("strong",{children:'"Utilizator"'})," - orice persoană care accesează sau utilizează platforma"]}),e.jsxs("li",{children:[e.jsx("strong",{children:'"Vânzător"'})," - utilizator care publică anunțuri pentru vânzarea de motociclete"]}),e.jsxs("li",{children:[e.jsx("strong",{children:'"Cumpărător"'})," - utilizator interesat să achiziționeze motociclete"]}),e.jsxs("li",{children:[e.jsx("strong",{children:'"Anunț"'})," - listarea unei motociclete pentru vânzare pe platformă"]}),e.jsxs("li",{children:[e.jsx("strong",{children:'"Conținut"'})," - toate informațiile, textele, imaginile și datele publicate pe platformă"]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(mt,{className:"h-6 w-6 text-nexar-accent"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"3. Eligibilitate și Înregistrare"})]}),e.jsxs("div",{className:"space-y-4 text-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"3.1 Vârsta Minimă"}),e.jsx("p",{children:"Pentru a utiliza platforma, trebuie să aveți cel puțin 18 ani sau să aveți acordul părinților/tutorilor legali."}),e.jsx("h3",{className:"text-lg font-semibold",children:"3.2 Informații de Cont"}),e.jsx("p",{children:"La înregistrare, vă angajați să furnizați informații corecte, complete și actualizate. Sunteți responsabil pentru menținerea confidențialității contului dvs."}),e.jsx("h3",{className:"text-lg font-semibold",children:"3.3 Un Cont per Utilizator"}),e.jsx("p",{children:"Fiecare utilizator poate avea un singur cont activ. Conturile multiple sunt interzise și pot fi suspendate."})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(cx,{className:"h-6 w-6 text-nexar-accent"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"4. Utilizarea Platformei"})]}),e.jsxs("div",{className:"space-y-4 text-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"4.1 Utilizare Permisă"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[e.jsx("li",{children:"Publicarea de anunțuri legitime pentru motociclete"}),e.jsx("li",{children:"Căutarea și contactarea vânzătorilor"}),e.jsx("li",{children:"Utilizarea funcțiilor de mesagerie pentru comunicare"}),e.jsx("li",{children:"Lăsarea de recenzii oneste și constructive"})]}),e.jsx("h3",{className:"text-lg font-semibold",children:"4.2 Utilizare Interzisă"}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-red-800",children:[e.jsx("li",{children:"Publicarea de anunțuri false sau înșelătoare"}),e.jsx("li",{children:"Vânzarea de vehicule furate sau cu probleme legale"}),e.jsx("li",{children:"Hărțuirea sau amenințarea altor utilizatori"}),e.jsx("li",{children:"Utilizarea de limbaj ofensator sau discriminatoriu"}),e.jsx("li",{children:"Încercarea de a ocoli sistemele de securitate"}),e.jsx("li",{children:"Spam-ul sau publicitatea neautorizată"})]})})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(fe,{className:"h-6 w-6 text-nexar-accent"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"5. Anunțuri și Conținut"})]}),e.jsxs("div",{className:"space-y-4 text-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"5.1 Responsabilitatea Vânzătorului"}),e.jsx("p",{children:"Vânzătorii sunt responsabili pentru:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[e.jsx("li",{children:"Acuratețea informațiilor din anunț"}),e.jsx("li",{children:"Calitatea și autenticitatea fotografiilor"}),e.jsx("li",{children:"Respectarea legislației în vigoare"}),e.jsx("li",{children:"Comunicarea promptă cu potențialii cumpărători"})]}),e.jsx("h3",{className:"text-lg font-semibold",children:"5.2 Moderarea Conținutului"}),e.jsx("p",{children:"Ne rezervăm dreptul de a modera, edita sau elimina orice conținut care încalcă acești termeni sau legislația aplicabilă."}),e.jsx("h3",{className:"text-lg font-semibold",children:"5.3 Proprietatea Intelectuală"}),e.jsx("p",{children:"Prin publicarea conținutului, acordați Nexar.ro o licență non-exclusivă de utilizare pentru afișarea pe platformă."})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"6. Tranzacții și Plăți"}),e.jsxs("div",{className:"space-y-4 text-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"6.1 Facilitarea Tranzacțiilor"}),e.jsx("p",{children:"Nexar.ro facilitează contactul între vânzători și cumpărători, dar nu este parte în tranzacțiile efectuate."}),e.jsx("h3",{className:"text-lg font-semibold",children:"6.2 Responsabilitatea Părților"}),e.jsx("p",{children:"Vânzătorii și cumpărătorii sunt responsabili pentru:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[e.jsx("li",{children:"Negocierea prețului și condițiilor"}),e.jsx("li",{children:"Verificarea documentelor vehiculului"}),e.jsx("li",{children:"Efectuarea plăților și transferului de proprietate"}),e.jsx("li",{children:"Respectarea obligațiilor legale"})]}),e.jsx("h3",{className:"text-lg font-semibold",children:"6.3 Limitarea Răspunderii"}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsx("p",{className:"text-yellow-800",children:"Nexar.ro nu este responsabil pentru disputele, fraudele sau problemele care apar în cadrul tranzacțiilor între utilizatori."})})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"7. Taxe și Comisioane"}),e.jsxs("div",{className:"space-y-4 text-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"7.1 Servicii Gratuite"}),e.jsx("p",{children:"Înregistrarea și utilizarea de bază a platformei sunt gratuite pentru utilizatori."}),e.jsx("h3",{className:"text-lg font-semibold",children:"7.2 Servicii Premium"}),e.jsx("p",{children:"Anumite funcții premium (anunțuri evidențiate, promovare) pot fi supuse unor taxe care vor fi comunicate în avans."}),e.jsx("h3",{className:"text-lg font-semibold",children:"7.3 Modificarea Tarifelor"}),e.jsx("p",{children:"Ne rezervăm dreptul de a modifica structura tarifară cu o notificare prealabilă de 30 de zile."})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"8. Confidențialitate și Protecția Datelor"}),e.jsxs("div",{className:"space-y-4 text-gray-700",children:[e.jsxs("p",{children:["Colectarea și utilizarea datelor personale sunt reglementate de ",e.jsx(ke,{to:"/confidentialitate",className:"text-nexar-accent hover:underline",children:"Politica noastră de Confidențialitate"}),"."]}),e.jsx("h3",{className:"text-lg font-semibold",children:"8.1 Consimțământul"}),e.jsx("p",{children:"Prin utilizarea platformei, consimțiți la colectarea și prelucrarea datelor conform politicii de confidențialitate."}),e.jsx("h3",{className:"text-lg font-semibold",children:"8.2 Securitatea Datelor"}),e.jsx("p",{children:"Implementăm măsuri de securitate pentru protejarea datelor dvs., dar nu putem garanta securitatea absolută."})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"9. Suspendarea și Încetarea"}),e.jsxs("div",{className:"space-y-4 text-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"9.1 Suspendarea Contului"}),e.jsx("p",{children:"Putem suspenda sau închide conturile care încalcă acești termeni, fără notificare prealabilă."}),e.jsx("h3",{className:"text-lg font-semibold",children:"9.2 Încetarea Voluntară"}),e.jsx("p",{children:"Puteți închide contul oricând prin contactarea serviciului clienți."}),e.jsx("h3",{className:"text-lg font-semibold",children:"9.3 Efectele Încetării"}),e.jsx("p",{children:"La închiderea contului, anunțurile vor fi eliminate, dar obligațiile contractuale rămân în vigoare."})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"10. Limitarea Răspunderii"}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:e.jsxs("div",{className:"space-y-4 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"10.1"}),' Nexar.ro furnizează platforma "ca atare" fără garanții de orice fel.']}),e.jsxs("p",{children:[e.jsx("strong",{children:"10.2"})," Nu garantăm acuratețea, completitudinea sau fiabilitatea conținutului publicat de utilizatori."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"10.3"})," Răspunderea noastră este limitată la valoarea serviciilor plătite în ultimele 12 luni."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"10.4"})," Nu suntem responsabili pentru daune indirecte, incidentale sau consecutive."]})]})})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"11. Legea Aplicabilă și Jurisdicția"}),e.jsxs("div",{className:"space-y-4 text-gray-700",children:[e.jsx("p",{children:"Acești termeni sunt guvernați de legea română și se supun jurisdicției instanțelor din România."}),e.jsx("p",{children:"Orice dispută va fi soluționată prin negociere amiabilă sau, în caz de eșec, prin instanțele competente din Râmnicu Vâlcea."})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"12. Modificarea Termenilor"}),e.jsxs("div",{className:"space-y-4 text-gray-700",children:[e.jsx("p",{children:"Ne rezervăm dreptul de a modifica acești termeni oricând. Modificările vor fi comunicate prin:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[e.jsx("li",{children:"Publicarea pe site-ul web"}),e.jsx("li",{children:"Notificare prin email (dacă este cazul)"}),e.jsx("li",{children:"Notificare în aplicație"})]}),e.jsx("p",{children:"Continuarea utilizării platformei după modificări constituie acceptarea noilor termeni."})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"13. Contact"}),e.jsxs("div",{className:"bg-nexar-accent/10 rounded-lg p-6",children:[e.jsx("p",{className:"text-gray-700 mb-4",children:"Pentru întrebări despre acești termeni, ne puteți contacta:"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," legal@nexar.ro"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Telefon:"})," 0790 454 647"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Adresă:"})," Bulevardul Dem Radulescu 24, Râmnicu Vâlcea, România"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Program:"})," Luni - Vineri: 09:00 - 17:00"]})]})]})]})]}),e.jsx("div",{className:"border-t border-gray-200 pt-6 mt-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Ultima actualizare: 18 Decembrie 2024"}),e.jsx(ke,{to:"/",className:"bg-nexar-accent text-white px-6 py-3 rounded-lg font-semibold hover:bg-nexar-gold transition-colors",onClick:()=>window.scrollTo(0,0),children:"Înapoi la Nexar"})]})})]})})})),By=()=>(w.useEffect(()=>{window.scrollTo(0,0)},[]),e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-nexar-accent/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Xn,{className:"h-8 w-8 text-nexar-accent"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Politica de Confidențialitate"}),e.jsx("p",{className:"text-gray-600",children:"Ultima actualizare: 18 Decembrie 2024"})]}),e.jsxs("div",{className:"prose max-w-none",children:[e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(ur,{className:"h-6 w-6 text-nexar-accent"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"1. Introducere"})]}),e.jsx("p",{className:"text-gray-700 mb-4",children:"La Nexar.ro, respectăm și protejăm confidențialitatea utilizatorilor noștri. Această Politică de Confidențialitate explică cum colectăm, utilizăm, stocăm și protejăm informațiile dvs. personale în conformitate cu Regulamentul General privind Protecția Datelor (GDPR) și legislația română aplicabilă."}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-blue-800 text-sm",children:[e.jsx("strong",{children:"Angajamentul nostru:"})," Ne angajăm să procesăm datele dvs. personale în mod transparent, corect și legal, respectând drepturile dvs. de confidențialitate."]})})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(pm,{className:"h-6 w-6 text-nexar-accent"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"2. Operatorul de Date"})]}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Denumire:"})," Nexar.ro"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Adresă:"})," Bulevardul Dem Radulescu 24, Râmnicu Vâlcea, România"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email contact:"})," privacy@nexar.ro"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Telefon:"})," 0790 454 647"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Responsabil Protecția Datelor:"})," dpo@nexar.ro"]})]})})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Vo,{className:"h-6 w-6 text-nexar-accent"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"3. Datele pe care le Colectăm"})]}),e.jsxs("div",{className:"space-y-6 text-gray-700",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"3.1 Date de Identificare"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[e.jsx("li",{children:"Nume și prenume"}),e.jsx("li",{children:"Adresă de email"}),e.jsx("li",{children:"Număr de telefon"}),e.jsx("li",{children:"Adresă fizică/locația"}),e.jsx("li",{children:"Data nașterii (pentru verificarea vârstei)"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"3.2 Date de Cont"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[e.jsx("li",{children:"Informații de autentificare (email și parolă criptată)"}),e.jsx("li",{children:"Preferințe de cont și setări"}),e.jsx("li",{children:"Istoricul activității pe platformă"}),e.jsx("li",{children:"Tipul de utilizator (privat/dealer)"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"3.3 Date despre Anunțuri"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[e.jsx("li",{children:"Informații despre motocicletele listate"}),e.jsx("li",{children:"Fotografii și descrieri"}),e.jsx("li",{children:"Prețuri și condiții de vânzare"}),e.jsx("li",{children:"Istoricul anunțurilor"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"3.4 Date Tehnice"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[e.jsx("li",{children:"Adresa IP și locația aproximativă"}),e.jsx("li",{children:"Tipul de browser și dispozitiv"}),e.jsx("li",{children:"Paginile vizitate și timpul petrecut"}),e.jsx("li",{children:"Referrer și link-uri de ieșire"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"3.5 Date de Comunicare"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[e.jsx("li",{children:"Mesajele trimise prin platformă"}),e.jsx("li",{children:"Recenziile și rating-urile acordate"}),e.jsx("li",{children:"Comunicările cu serviciul clienți"})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Ur,{className:"h-6 w-6 text-nexar-accent"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"4. Scopurile Prelucrării Datelor"})]}),e.jsx("div",{className:"space-y-6 text-gray-700",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"Servicii Esențiale"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-green-700 text-sm",children:[e.jsx("li",{children:"Crearea și gestionarea conturilor"}),e.jsx("li",{children:"Facilitarea tranzacțiilor"}),e.jsx("li",{children:"Comunicarea între utilizatori"}),e.jsx("li",{children:"Suportul tehnic"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Îmbunătățiri"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-700 text-sm",children:[e.jsx("li",{children:"Personalizarea experienței"}),e.jsx("li",{children:"Analize și statistici"}),e.jsx("li",{children:"Îmbunătățirea serviciilor"}),e.jsx("li",{children:"Dezvoltarea de noi funcții"})]})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Marketing"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-yellow-700 text-sm",children:[e.jsx("li",{children:"Newsletter-uri (cu consimțământ)"}),e.jsx("li",{children:"Oferte personalizate"}),e.jsx("li",{children:"Campanii promoționale"}),e.jsx("li",{children:"Cercetări de piață"})]})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Securitate"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-red-700 text-sm",children:[e.jsx("li",{children:"Prevenirea fraudelor"}),e.jsx("li",{children:"Detectarea abuzurilor"}),e.jsx("li",{children:"Respectarea legii"}),e.jsx("li",{children:"Protejarea utilizatorilor"})]})]})]})})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"5. Temeiurile Legale pentru Prelucrare"}),e.jsxs("div",{className:"space-y-4 text-gray-700",children:[e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"5.1 Executarea Contractului"}),e.jsx("p",{className:"text-sm",children:"Prelucrăm datele pentru a vă furniza serviciile solicitate și pentru a executa obligațiile contractuale."})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"5.2 Consimțământul"}),e.jsx("p",{className:"text-sm",children:"Pentru anumite activități (marketing, cookies non-esențiale), solicităm consimțământul dvs. explicit."})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"5.3 Interesul Legitim"}),e.jsx("p",{className:"text-sm",children:"Pentru îmbunătățirea serviciilor, securitate și analize, ne bazăm pe interesul legitim."})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"5.4 Obligația Legală"}),e.jsx("p",{className:"text-sm",children:"Când legea ne obligă să păstrăm sau să furnizăm anumite date autorităților."})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"6. Partajarea Datelor"}),e.jsxs("div",{className:"space-y-4 text-gray-700",children:[e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"⚠️ Principiu Important"}),e.jsx("p",{className:"text-yellow-700 text-sm",children:"Nu vindem, nu închiriem și nu partajăm datele dvs. personale cu terți pentru scopuri comerciale fără consimțământul dvs."})]}),e.jsx("h3",{className:"text-lg font-semibold",children:"6.1 Partajare Limitată"}),e.jsx("p",{children:"Partajăm datele doar în următoarele situații:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Cu alți utilizatori:"})," Informațiile din anunțuri sunt vizibile public"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Furnizori de servicii:"})," Pentru hosting, analize, plăți (cu acorduri de confidențialitate)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Autorități:"})," Când este cerut legal sau pentru prevenirea fraudelor"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Transferuri de afaceri:"})," În caz de fuziune sau achiziție (cu notificare prealabilă)"]})]}),e.jsx("h3",{className:"text-lg font-semibold",children:"6.2 Transferuri Internaționale"}),e.jsx("p",{children:"Dacă transferăm date în afara UE, ne asigurăm că există garanții adecvate (clauzele contractuale standard, decizii de adecvare)."})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"7. Perioada de Păstrare"}),e.jsx("div",{className:"space-y-4 text-gray-700",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Conturi Active"}),e.jsx("p",{className:"text-blue-700 text-sm",children:"Datele sunt păstrate cât timp contul este activ și pentru 3 ani după ultima activitate."})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Anunțuri"}),e.jsx("p",{className:"text-green-700 text-sm",children:"Anunțurile sunt păstrate 2 ani după expirare pentru statistici și îmbunătățiri."})]}),e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-purple-800 mb-2",children:"Comunicări"}),e.jsx("p",{className:"text-purple-700 text-sm",children:"Mesajele sunt păstrate 1 an pentru rezolvarea disputelor și suport."})]}),e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-orange-800 mb-2",children:"Date Legale"}),e.jsx("p",{className:"text-orange-700 text-sm",children:"Datele necesare pentru obligații legale sunt păstrate conform legislației (5-10 ani)."})]})]})})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"8. Drepturile Dvs. GDPR"}),e.jsxs("div",{className:"space-y-4 text-gray-700",children:[e.jsxs("div",{className:"bg-nexar-accent/10 border border-nexar-accent/20 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-nexar-accent mb-4",children:"Aveți următoarele drepturi:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"🔍 Dreptul de Acces"}),e.jsx("p",{className:"text-sm",children:"Să știți ce date avem despre dvs."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"✏️ Dreptul de Rectificare"}),e.jsx("p",{className:"text-sm",children:"Să corectați datele incorecte."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"🗑️ Dreptul de Ștergere"}),e.jsx("p",{className:"text-sm",children:"Să solicitați ștergerea datelor."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"⏸️ Dreptul de Restricționare"}),e.jsx("p",{className:"text-sm",children:"Să limitați prelucrarea datelor."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"📦 Dreptul la Portabilitate"}),e.jsx("p",{className:"text-sm",children:"Să primiți datele într-un format utilizabil."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"🚫 Dreptul de Opoziție"}),e.jsx("p",{className:"text-sm",children:"Să vă opuneți anumitor prelucrări."})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Cum să vă exercitați drepturile:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-700 text-sm",children:[e.jsxs("li",{children:["Trimiteți un email la: ",e.jsx("strong",{children:"privacy@nexar.ro"})]}),e.jsxs("li",{children:["Contactați-ne telefonic: ",e.jsx("strong",{children:"0790 454 647"})]}),e.jsx("li",{children:"Utilizați formularul de contact din cont"}),e.jsx("li",{children:"Răspundem în maximum 30 de zile"})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"9. Securitatea Datelor"}),e.jsxs("div",{className:"space-y-4 text-gray-700",children:[e.jsx("p",{children:"Implementăm măsuri tehnice și organizatorice pentru protejarea datelor dvs.:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"🔒 Măsuri Tehnice"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-green-700 text-sm",children:[e.jsx("li",{children:"Criptarea datelor (SSL/TLS)"}),e.jsx("li",{children:"Autentificare cu doi factori"}),e.jsx("li",{children:"Backup-uri regulate și securizate"}),e.jsx("li",{children:"Monitorizarea sistemelor"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"👥 Măsuri Organizatorice"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-700 text-sm",children:[e.jsx("li",{children:"Acces restricționat la date"}),e.jsx("li",{children:"Instruirea personalului"}),e.jsx("li",{children:"Politici de securitate stricte"}),e.jsx("li",{children:"Auditări regulate"})]})]})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(fe,{className:"h-5 w-5 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:"Încălcări de Securitate"}),e.jsx("p",{className:"text-red-700 text-sm",children:"În cazul unei încălcări de securitate care afectează datele dvs., vă vom notifica în termen de 72 de ore și vom lua măsurile necesare pentru limitarea impactului."})]})]})})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"10. Cookies și Tehnologii Similare"}),e.jsxs("div",{className:"space-y-4 text-gray-700",children:[e.jsxs("p",{children:["Utilizăm cookies pentru îmbunătățirea experienței dvs. Pentru detalii complete, consultați ",e.jsx(ke,{to:"/cookies",className:"text-nexar-accent hover:underline",children:"Politica noastră de Cookies"}),"."]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Esențiale"}),e.jsx("p",{className:"text-green-700 text-sm",children:"Necesare pentru funcționarea site-ului"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Analize"}),e.jsx("p",{className:"text-blue-700 text-sm",children:"Pentru înțelegerea utilizării site-ului"})]}),e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-purple-800 mb-2",children:"Marketing"}),e.jsx("p",{className:"text-purple-700 text-sm",children:"Pentru personalizarea conținutului"})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"11. Modificări ale Politicii"}),e.jsxs("div",{className:"space-y-4 text-gray-700",children:[e.jsx("p",{children:"Putem actualiza această politică pentru a reflecta schimbările în serviciile noastre sau în legislație."}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Notificarea Modificărilor"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-yellow-700 text-sm",children:[e.jsx("li",{children:"Publicarea pe site cu evidențierea modificărilor"}),e.jsx("li",{children:"Notificare prin email pentru modificări importante"}),e.jsx("li",{children:"Notificare în aplicație la următoarea autentificare"}),e.jsx("li",{children:"Perioada de tranziție de 30 de zile pentru adaptare"})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"12. Contact și Reclamații"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-nexar-accent/10 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(en,{className:"h-6 w-6 text-nexar-accent"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Contactați-ne"})]}),e.jsxs("div",{className:"space-y-2 text-gray-700 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Email DPO:"})," dpo@nexar.ro"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email general:"})," privacy@nexar.ro"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Telefon:"})," 0790 454 647"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Adresă:"})," Bulevardul Dem Radulescu 24, Râmnicu Vâlcea"]})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(cs,{className:"h-6 w-6 text-blue-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Autoritatea de Supraveghere"})]}),e.jsxs("div",{className:"space-y-2 text-gray-700 text-sm",children:[e.jsx("p",{children:e.jsx("strong",{children:"ANSPDCP"})}),e.jsx("p",{children:"Autoritatea Națională de Supraveghere a Prelucrării Datelor cu Caracter Personal"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Website:"})," dataprotection.ro"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," anspdcp@dataprotection.ro"]})]})]})]})]})]}),e.jsx("div",{className:"border-t border-gray-200 pt-6 mt-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Ultima actualizare: 18 Decembrie 2024"}),e.jsx(ke,{to:"/",className:"bg-nexar-accent text-white px-6 py-3 rounded-lg font-semibold hover:bg-nexar-gold transition-colors",onClick:()=>window.scrollTo(0,0),children:"Înapoi la Nexar"})]})})]})})})),$y=()=>{const[i,s]=w.useState({essential:!0,analytics:!1,marketing:!1,functional:!1});w.useEffect(()=>{window.scrollTo(0,0);const u=localStorage.getItem("cookiePreferences");u&&s({...JSON.parse(u),essential:!0})},[]);const a=(u,h)=>{if(u==="essential")return;const f={...i,[u]:h};s(f),localStorage.setItem("cookiePreferences",JSON.stringify(f))},l=()=>{const u={essential:!0,analytics:!0,marketing:!0,functional:!0};s(u),localStorage.setItem("cookiePreferences",JSON.stringify(u))},c=()=>{const u={essential:!0,analytics:!1,marketing:!1,functional:!1};s(u),localStorage.setItem("cookiePreferences",JSON.stringify(u))};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-nexar-accent/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx($o,{className:"h-8 w-8 text-nexar-accent"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Politica de Cookies"}),e.jsx("p",{className:"text-gray-600",children:"Ultima actualizare: 18 Decembrie 2024"})]}),e.jsxs("div",{className:"bg-nexar-accent/5 border border-nexar-accent/20 rounded-xl p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(is,{className:"h-6 w-6 text-nexar-accent"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Setările Cookie-urilor"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Xn,{className:"h-5 w-5 text-green-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Cookie-uri Esențiale"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Necesare pentru funcționarea de bază a site-ului"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Întotdeauna Active"}),e.jsx("div",{className:"w-12 h-6 bg-green-500 rounded-full flex items-center justify-end px-1",children:e.jsx("div",{className:"w-4 h-4 bg-white rounded-full"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(gh,{className:"h-5 w-5 text-blue-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Cookie-uri de Analiză"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Ne ajută să înțelegem cum utilizați site-ul"})]}),e.jsx("button",{onClick:()=>a("analytics",!i.analytics),className:`w-12 h-6 rounded-full flex items-center transition-colors ${i.analytics?"bg-nexar-accent justify-end":"bg-gray-300 justify-start"} px-1`,children:e.jsx("div",{className:"w-4 h-4 bg-white rounded-full"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(wh,{className:"h-5 w-5 text-purple-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Cookie-uri de Marketing"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Pentru personalizarea reclamelor și conținutului"})]}),e.jsx("button",{onClick:()=>a("marketing",!i.marketing),className:`w-12 h-6 rounded-full flex items-center transition-colors ${i.marketing?"bg-nexar-accent justify-end":"bg-gray-300 justify-start"} px-1`,children:e.jsx("div",{className:"w-4 h-4 bg-white rounded-full"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(is,{className:"h-5 w-5 text-orange-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Cookie-uri Funcționale"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Pentru funcții avansate și personalizare"})]}),e.jsx("button",{onClick:()=>a("functional",!i.functional),className:`w-12 h-6 rounded-full flex items-center transition-colors ${i.functional?"bg-nexar-accent justify-end":"bg-gray-300 justify-start"} px-1`,children:e.jsx("div",{className:"w-4 h-4 bg-white rounded-full"})})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-6",children:[e.jsxs("button",{onClick:l,className:"flex-1 bg-nexar-accent text-white py-3 px-6 rounded-lg font-semibold hover:bg-nexar-gold transition-colors flex items-center justify-center space-x-2",children:[e.jsx(ls,{className:"h-4 w-4"}),e.jsx("span",{children:"Acceptă Toate"})]}),e.jsxs("button",{onClick:c,className:"flex-1 bg-gray-500 text-white py-3 px-6 rounded-lg font-semibold hover:bg-gray-600 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Bt,{className:"h-4 w-4"}),e.jsx("span",{children:"Doar Esențiale"})]})]})]}),e.jsxs("div",{className:"prose max-w-none",children:[e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"1. Ce sunt Cookie-urile?"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"Cookie-urile sunt fișiere mici de text care sunt stocate pe dispozitivul dvs. (computer, telefon, tabletă) când vizitați un site web. Ele sunt utilizate pe scară largă pentru a face site-urile web să funcționeze mai eficient și pentru a furniza informații proprietarilor site-ului."}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Tipuri de Cookie-uri:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-700 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Cookie-uri de sesiune:"})," Se șterg când închideți browser-ul"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cookie-uri persistente:"})," Rămân pe dispozitiv pentru o perioadă determinată"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cookie-uri first-party:"})," Setate de site-ul pe care îl vizitați"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cookie-uri third-party:"})," Setate de alte site-uri (ex: Google Analytics)"]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"2. Cum Folosim Cookie-urile"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(Xn,{className:"h-6 w-6 text-green-600"}),e.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"Cookie-uri Esențiale"})]}),e.jsx("p",{className:"text-green-700 text-sm mb-3",children:"Aceste cookie-uri sunt absolut necesare pentru funcționarea site-ului și nu pot fi dezactivate."}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-green-700 text-sm",children:[e.jsx("li",{children:"Autentificare și securitate"}),e.jsx("li",{children:"Preferințele de limbă"}),e.jsx("li",{children:"Coșul de cumpărături"}),e.jsx("li",{children:"Setările de confidențialitate"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(gh,{className:"h-6 w-6 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Cookie-uri de Analiză"})]}),e.jsx("p",{className:"text-blue-700 text-sm mb-3",children:"Ne ajută să înțelegem cum interactionați cu site-ul nostru."}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-700 text-sm",children:[e.jsx("li",{children:"Google Analytics"}),e.jsx("li",{children:"Statistici de vizitare"}),e.jsx("li",{children:"Comportamentul utilizatorilor"}),e.jsx("li",{children:"Optimizarea performanței"})]})]}),e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(wh,{className:"h-6 w-6 text-purple-600"}),e.jsx("h3",{className:"text-lg font-semibold text-purple-800",children:"Cookie-uri de Marketing"})]}),e.jsx("p",{className:"text-purple-700 text-sm mb-3",children:"Pentru afișarea de reclame relevante și măsurarea eficacității campaniilor."}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-purple-700 text-sm",children:[e.jsx("li",{children:"Google Ads"}),e.jsx("li",{children:"Facebook Pixel"}),e.jsx("li",{children:"Retargeting"}),e.jsx("li",{children:"Măsurarea conversiilor"})]})]}),e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(is,{className:"h-6 w-6 text-orange-600"}),e.jsx("h3",{className:"text-lg font-semibold text-orange-800",children:"Cookie-uri Funcționale"})]}),e.jsx("p",{className:"text-orange-700 text-sm mb-3",children:"Îmbunătățesc funcționalitatea și personalizarea site-ului."}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-orange-700 text-sm",children:[e.jsx("li",{children:"Chat-ul live"}),e.jsx("li",{children:"Videoclipuri integrate"}),e.jsx("li",{children:"Hărți interactive"}),e.jsx("li",{children:"Preferințele utilizatorului"})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"3. Cookie-uri de la Terțe Părți"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"Utilizăm servicii de la terțe părți care pot seta propriile cookie-uri pe dispozitivul dvs.:"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Google Analytics"}),e.jsx("p",{className:"text-gray-700 text-sm mb-2",children:"Pentru analizarea traficului și comportamentului utilizatorilor."}),e.jsx("a",{href:"https://policies.google.com/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-nexar-accent hover:underline text-sm",children:"Politica de confidențialitate Google →"})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Google Ads"}),e.jsx("p",{className:"text-gray-700 text-sm mb-2",children:"Pentru afișarea de reclame relevante și măsurarea performanței."}),e.jsx("a",{href:"https://policies.google.com/technologies/ads",target:"_blank",rel:"noopener noreferrer",className:"text-nexar-accent hover:underline text-sm",children:"Despre reclamele Google →"})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Facebook Pixel"}),e.jsx("p",{className:"text-gray-700 text-sm mb-2",children:"Pentru optimizarea campaniilor publicitare pe Facebook și Instagram."}),e.jsx("a",{href:"https://www.facebook.com/privacy/explanation",target:"_blank",rel:"noopener noreferrer",className:"text-nexar-accent hover:underline text-sm",children:"Politica de confidențialitate Facebook →"})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"4. Cum să Gestionați Cookie-urile"}),e.jsxs("div",{className:"space-y-4 text-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"4.1 Prin Site-ul Nostru"}),e.jsx("p",{children:"Puteți gestiona preferințele cookie-urilor folosind panoul de setări de mai sus sau prin banner-ul de cookie-uri care apare la prima vizită."}),e.jsx("h3",{className:"text-lg font-semibold",children:"4.2 Prin Browser"}),e.jsx("p",{children:"Majoritatea browser-elor vă permit să controlați cookie-urile prin setările lor:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Chrome"}),e.jsx("p",{className:"text-blue-700 text-sm",children:"Setări → Confidențialitate și securitate → Cookie-uri și alte date de site"})]}),e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-orange-800 mb-2",children:"Firefox"}),e.jsx("p",{className:"text-orange-700 text-sm",children:"Opțiuni → Confidențialitate și securitate → Cookie-uri și date de site"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Safari"}),e.jsx("p",{className:"text-blue-700 text-sm",children:"Preferințe → Confidențialitate → Gestionarea datelor site-ului web"})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"Edge"}),e.jsx("p",{className:"text-green-700 text-sm",children:"Setări → Cookie-uri și permisiuni de site → Gestionarea și ștergerea cookie-urilor"})]})]}),e.jsx("h3",{className:"text-lg font-semibold",children:"4.3 Opt-out din Publicitatea Comportamentală"}),e.jsx("p",{children:"Puteți renunța la publicitatea comportamentală prin:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[e.jsx("li",{children:e.jsx("a",{href:"https://www.youronlinechoices.com/",target:"_blank",rel:"noopener noreferrer",className:"text-nexar-accent hover:underline",children:"Your Online Choices"})}),e.jsx("li",{children:e.jsx("a",{href:"https://optout.networkadvertising.org/",target:"_blank",rel:"noopener noreferrer",className:"text-nexar-accent hover:underline",children:"Network Advertising Initiative"})}),e.jsx("li",{children:e.jsx("a",{href:"https://optout.aboutads.info/",target:"_blank",rel:"noopener noreferrer",className:"text-nexar-accent hover:underline",children:"Digital Advertising Alliance"})})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"5. Impactul Dezactivării Cookie-urilor"}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-yellow-800 mb-3",children:"⚠️ Atenție"}),e.jsx("p",{className:"text-yellow-700 mb-3",children:"Dezactivarea anumitor cookie-uri poate afecta funcționarea site-ului:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-yellow-700 text-sm",children:[e.jsx("li",{children:"Nu vă veți putea autentifica în cont"}),e.jsx("li",{children:"Preferințele nu vor fi salvate"}),e.jsx("li",{children:"Anumite funcții interactive nu vor funcționa"}),e.jsx("li",{children:"Experiența de navigare poate fi afectată"})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"6. Actualizări ale Politicii"}),e.jsxs("div",{className:"space-y-4 text-gray-700",children:[e.jsx("p",{children:"Această politică poate fi actualizată periodic pentru a reflecta schimbările în utilizarea cookie-urilor sau în legislație."}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Cum vă notificăm:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-700 text-sm",children:[e.jsx("li",{children:"Actualizarea datei de modificare"}),e.jsx("li",{children:"Banner de notificare pe site"}),e.jsx("li",{children:"Email pentru modificări importante"})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"7. Contact"}),e.jsxs("div",{className:"bg-nexar-accent/10 rounded-lg p-6",children:[e.jsx("p",{className:"text-gray-700 mb-4",children:"Pentru întrebări despre utilizarea cookie-urilor:"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," cookies@nexar.ro"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Telefon:"})," 0790 454 647"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Adresă:"})," Bulevardul Dem Radulescu 24, Râmnicu Vâlcea, România"]})]})]})]})]}),e.jsx("div",{className:"border-t border-gray-200 pt-6 mt-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Ultima actualizare: 18 Decembrie 2024"}),e.jsx(ke,{to:"/",className:"bg-nexar-accent text-white px-6 py-3 rounded-lg font-semibold hover:bg-nexar-gold transition-colors",onClick:()=>window.scrollTo(0,0),children:"Înapoi la Nexar"})]})})]})})})},Vy=async()=>{console.log("🔍 Starting Supabase connection diagnostics...");const i={credentialsTest:!1,corsTest:!1,apiTest:!1,storageTest:!1,authTest:!1,recommendations:[]},s="https://tidnmzsivsthwwcfdzyo.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRpZG5tenNpdnN0aHd3Y2ZkenlvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MjE5NTgsImV4cCI6MjA2NjI5Nzk1OH0.Sr1gSZ2qtoff7gmulkT8uIzB8eL7gqKUUNVj82OqHog";console.log("📋 Test 1: Checking credentials format...");try{!s||!s.includes("supabase.co")?i.recommendations.push("❌ Invalid Supabase URL format"):!a||a.length<100?i.recommendations.push("❌ Invalid Supabase anon key format"):(i.credentialsTest=!0,console.log("✅ Credentials format looks correct"))}catch{i.recommendations.push("❌ Error validating credentials format")}console.log("🌐 Test 2: Testing basic network connectivity...");try{const l=await fetch(`${s}/rest/v1/`,{method:"HEAD",headers:{apikey:a,Authorization:`Bearer ${a}`}});l.ok?(i.corsTest=!0,console.log("✅ Basic network connectivity successful")):(console.log("❌ Network connectivity failed:",l.status,l.statusText),i.recommendations.push(`❌ Network error: ${l.status} ${l.statusText}`))}catch(l){console.log("❌ Network connectivity failed:",l.message),i.recommendations.push(`❌ Network error: ${l.message}`),l.message.includes("CORS")&&i.recommendations.push("🔧 CORS issue detected - check Supabase Dashboard CORS settings")}console.log("🔌 Test 3: Testing API endpoints...");try{const l=Mr(s,a,{auth:{autoRefreshToken:!1,persistSession:!1}}),{data:c,error:u}=await l.from("profiles").select("count",{count:"exact",head:!0});u?(console.log("❌ API endpoint test failed:",u.message),i.recommendations.push(`❌ API error: ${u.message}`)):(i.apiTest=!0,console.log("✅ API endpoint test successful"))}catch(l){console.log("❌ API endpoint test failed:",l.message),i.recommendations.push(`❌ API error: ${l.message}`)}console.log("📦 Test 4: Testing storage access...");try{const l=Mr(s,a),{data:c,error:u}=await l.storage.listBuckets();u?(console.log("❌ Storage access failed:",u.message),i.recommendations.push(`❌ Storage error: ${u.message}`)):(i.storageTest=!0,console.log("✅ Storage access successful"),console.log("📁 Available buckets:",c?.map(h=>h.name).join(", ")||"none"))}catch(l){console.log("❌ Storage access failed:",l.message),i.recommendations.push(`❌ Storage error: ${l.message}`)}console.log("🔐 Test 5: Testing auth endpoints...");try{const l=Mr(s,a),{data:c,error:u}=await l.auth.getSession();u?(console.log("❌ Auth endpoint test failed:",u.message),i.recommendations.push(`❌ Auth error: ${u.message}`)):(i.authTest=!0,console.log("✅ Auth endpoint test successful"))}catch(l){console.log("❌ Auth endpoint test failed:",l.message),i.recommendations.push(`❌ Auth error: ${l.message}`)}return i.recommendations.length===0?i.recommendations.push("✅ All tests passed! Connection should be working."):(i.recommendations.unshift("🔧 Issues found. Please check the following:"),i.recommendations.push(""),i.recommendations.push("📋 Steps to fix:"),i.recommendations.push("1. Go to your Supabase Dashboard (https://supabase.com/dashboard)"),i.recommendations.push("2. Select your project: tidnmzsivsthwwcfdzyo"),i.recommendations.push("3. Go to Settings → API"),i.recommendations.push("4. Verify Project URL and anon public key match your code"),i.recommendations.push("5. Go to Settings → API → CORS"),i.recommendations.push("6. Add http://localhost:3000 to Allowed Origins"),i.recommendations.push("7. Make sure your project is not paused"),i.recommendations.push("8. Check if you have any RLS policies blocking access")),console.log("📊 Diagnostic Results:",i),i},qy=(i,s)=>Mr(i,s,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"X-Client-Info":"nexar-app"}},db:{schema:"public"},realtime:{params:{eventsPerSecond:2}}}),Wy=async(i=3)=>{const s="https://tidnmzsivsthwwcfdzyo.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRpZG5tenNpdnN0aHd3Y2ZkenlvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MjE5NTgsImV4cCI6MjA2NjI5Nzk1OH0.Sr1gSZ2qtoff7gmulkT8uIzB8eL7gqKUUNVj82OqHog";for(let l=1;l<=i;l++){console.log(`🔄 Connection attempt ${l}/${i}...`);try{const c=qy(s,a),{data:u,error:h}=await c.from("profiles").select("count",{count:"exact",head:!0});if(h){if(console.log(`❌ Attempt ${l} failed:`,h.message),l===i)throw h}else return console.log("✅ Connection successful!"),{success:!0,client:c,attempt:l}}catch(c){if(console.log(`❌ Attempt ${l} failed:`,c.message),l===i)throw c;await new Promise(u=>setTimeout(u,1e3*l))}}return{success:!1,client:null,attempt:i}},Hy="https://tidnmzsivsthwwcfdzyo.supabase.co",Gy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRpZG5tenNpdnN0aHd3Y2ZkenlvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MjE5NTgsImV4cCI6MjA2NjI5Nzk1OH0.Sr1gSZ2qtoff7gmulkT8uIzB8eL7gqKUUNVj82OqHog",Ky=Mr(Hy,Gy,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"X-Client-Info":"nexar-app"}}}),Jy=async(i,s=3,a=1e3)=>{let l;for(let c=1;c<=s;c++)try{console.log(`🔄 Attempt ${c}/${s}`);const u=await i();return console.log(`✅ Operation succeeded on attempt ${c}`),u}catch(u){l=u,console.error(`❌ Attempt ${c} failed:`,u.message),(u.message?.includes("NetworkError")||u.message?.includes("fetch"))&&(console.log("🔍 Network error detected, running diagnosis..."),(await Zs.runComprehensiveDiagnosis()).overall||(console.log("⚠️ Connection issues detected, attempting fix..."),await Zs.attemptAutomaticFixes())),c<s&&(console.log(`⏳ Waiting ${a}ms before retry...`),await new Promise(h=>setTimeout(h,a)),a*=1.5)}throw l},Yy=async()=>{try{console.log("🔍 Checking Supabase connection...");const i=await Jy(async()=>{const{data:s,error:a}=await Ky.from("profiles").select("count",{count:"exact",head:!0});if(a)throw a;return s});return console.log("✅ Connection check successful"),{success:!0,message:"Connected to Supabase successfully",data:i}}catch(i){return console.error("❌ Connection check failed:",i),{success:!1,error:i.message,guidance:Qy(i),troubleshooting:Zy(i)}}},Qy=i=>{const s=i.message?.toLowerCase()||"";return s.includes("networkerror")||s.includes("fetch")?"Network connectivity issue - check if Supabase project is active and CORS is configured":s.includes("cors")?"CORS configuration issue - add your domain to allowed origins in Supabase":s.includes("unauthorized")||s.includes("401")?"Authentication issue - verify your API keys in Supabase Dashboard":s.includes("forbidden")||s.includes("403")?"Permission issue - check RLS policies and table permissions":s.includes("not found")||s.includes("404")?"Resource not found - verify table names and project URL":"Unknown error - check Supabase Dashboard for project status"},Zy=i=>{const s=i.message?.toLowerCase()||"",a=[];return(s.includes("networkerror")||s.includes("fetch"))&&(a.push("1. Check if your Supabase project is active (not paused)"),a.push("2. Verify project URL matches: https://tidnmzsivsthwwcfdzyo.supabase.co"),a.push("3. Add your domain to CORS allowed origins"),a.push("4. Check your internet connection")),s.includes("cors")&&(a.push("1. Go to Supabase Dashboard → Settings → API → CORS"),a.push(`2. Add ${window.location.origin} to allowed origins`),a.push("3. Save changes and wait a few minutes")),s.includes("unauthorized")&&(a.push("1. Go to Supabase Dashboard → Settings → API"),a.push("2. Copy the correct anon public key"),a.push("3. Update your environment variables")),a.length===0&&(a.push("1. Check Supabase Dashboard for any alerts"),a.push("2. Verify project is not paused or suspended"),a.push("3. Try refreshing the page")),a},Xy=()=>{const[i,s]=w.useState(!1),[a,l]=w.useState(null),[c,u]=w.useState(null),[h,f]=w.useState(null),p=async()=>{s(!0),l(null),u(null),f(null);try{console.log("🚀 Starting comprehensive diagnostics..."),console.log("🔍 Running enhanced diagnosis...");const v=await Zs.runComprehensiveDiagnosis();f(v);const b=await Yy();u(b);try{const E=await Vy();l(E)}catch(E){console.warn("⚠️ Legacy diagnostics failed, using enhanced results:",E),l({credentialsTest:v.tests.connectivity?.success||!1,corsTest:v.tests.cors?.success||!1,apiTest:v.tests.database?.success||!1,storageTest:!0,authTest:v.tests.database?.success||!1,recommendations:v.recommendations})}if(!b.success){console.log("🔄 Attempting connection with retry logic...");try{const E=await Wy(3);u({...b,retryResult:E})}catch(E){console.warn("⚠️ Retry logic failed:",E);const z=await Zs.attemptAutomaticFixes();u({...b,fixAttempt:z})}}}catch(v){console.error("❌ Diagnostics failed:",v),l({credentialsTest:!1,corsTest:!1,apiTest:!1,storageTest:!1,authTest:!1,recommendations:[`❌ Diagnostic error: ${v}`]})}finally{s(!1)}},y=v=>v?"✅":"❌",x=v=>v?"text-green-600":"text-red-600";return e.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"🔍 Supabase Connection Diagnostics"}),e.jsx("p",{className:"text-gray-600",children:"Run comprehensive tests to diagnose and fix Supabase connection issues."})]}),e.jsx("div",{className:"mb-6",children:e.jsx("button",{onClick:p,disabled:i,className:`px-6 py-3 rounded-lg font-medium transition-colors ${i?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:i?"🔄 Running Diagnostics...":"🚀 Run Diagnostics"})}),h&&e.jsxs("div",{className:"mb-6 p-4 rounded-lg border",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3",children:[h.overall?"✅":"❌"," Enhanced Connection Analysis"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("h4",{className:`font-medium ${x(h.tests.connectivity?.success)}`,children:[y(h.tests.connectivity?.success)," Basic Connectivity"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Network connection to Supabase"}),h.tests.connectivity?.details&&e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:e.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(h.tests.connectivity.details,null,2)})})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("h4",{className:`font-medium ${x(h.tests.database?.success)}`,children:[y(h.tests.database?.success)," Database Access"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Database query execution"}),h.tests.database?.details&&e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Error: ",h.tests.database.details.errorMessage]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("h4",{className:`font-medium ${x(h.tests.cors?.success)}`,children:[y(h.tests.cors?.success)," CORS Configuration"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Cross-origin request handling"}),h.tests.cors?.details&&e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Origin: ",h.tests.cors.details.origin]})]})]}),e.jsxs("div",{className:"bg-blue-50 p-3 rounded",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Enhanced Recommendations:"}),e.jsx("ul",{className:"text-sm text-blue-700 space-y-1",children:h.recommendations.map((v,b)=>e.jsx("li",{children:v},b))})]})]}),c&&e.jsxs("div",{className:"mb-6 p-4 rounded-lg border",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3",children:[c.success?"✅":"❌"," Basic Connection Test"]}),c.success?e.jsxs("div",{className:"text-green-600",children:[e.jsx("p",{className:"font-medium",children:"✅ Connection successful!"}),e.jsx("p",{className:"text-sm",children:c.message})]}):e.jsxs("div",{className:"text-red-600",children:[e.jsx("p",{className:"font-medium",children:"❌ Connection failed"}),e.jsxs("p",{className:"text-sm mb-2",children:["Error: ",c.error]}),e.jsxs("p",{className:"text-sm mb-3",children:["Guidance: ",c.guidance]}),c.troubleshooting&&e.jsxs("div",{className:"bg-red-50 p-3 rounded",children:[e.jsx("p",{className:"font-medium text-red-800 mb-2",children:"Troubleshooting Steps:"}),e.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:c.troubleshooting.map((v,b)=>e.jsx("li",{children:v},b))})]})]}),c.retryResult&&e.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded",children:[e.jsxs("p",{className:"text-blue-800 font-medium",children:["Retry Test: ",c.retryResult.success?"✅ Success":"❌ Failed"]}),e.jsxs("p",{className:"text-blue-700 text-sm",children:["Attempts: ",c.retryResult.attempt]})]}),c.fixAttempt&&e.jsxs("div",{className:"mt-3 p-3 bg-purple-50 rounded",children:[e.jsxs("p",{className:"text-purple-800 font-medium",children:["Auto-fix Attempt: ",c.fixAttempt.success?"✅ Success":"❌ Failed"]}),e.jsx("p",{className:"text-purple-700 text-sm",children:c.fixAttempt.message})]})]}),a&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("h4",{className:`font-medium ${x(a.credentialsTest)}`,children:[y(a.credentialsTest)," Credentials Format"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Validates URL and API key format"})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("h4",{className:`font-medium ${x(a.corsTest)}`,children:[y(a.corsTest)," Network & CORS"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Tests basic network connectivity"})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("h4",{className:`font-medium ${x(a.apiTest)}`,children:[y(a.apiTest)," API Endpoints"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Tests database API access"})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("h4",{className:`font-medium ${x(a.storageTest)}`,children:[y(a.storageTest)," Storage Access"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Tests file storage functionality"})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("h4",{className:`font-medium ${x(a.authTest)}`,children:[y(a.authTest)," Authentication"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Tests auth service availability"})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"📋 Recommendations"}),e.jsx("div",{className:"space-y-2",children:a.recommendations.map((v,b)=>e.jsx("p",{className:"text-sm",children:v},b))})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:"🔧 Quick Fix Guide"}),e.jsxs("div",{className:"text-sm text-blue-700 space-y-2",children:[e.jsx("p",{children:e.jsx("strong",{children:"1. Check Supabase Dashboard:"})}),e.jsxs("ul",{className:"ml-4 space-y-1",children:[e.jsxs("li",{children:["• Go to ",e.jsx("a",{href:"https://supabase.com/dashboard",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"supabase.com/dashboard"})]}),e.jsx("li",{children:"• Select project: tidnmzsivsthwwcfdzyo"}),e.jsx("li",{children:"• Ensure project is not paused"})]}),e.jsx("p",{children:e.jsx("strong",{children:"2. Verify API Settings:"})}),e.jsxs("ul",{className:"ml-4 space-y-1",children:[e.jsx("li",{children:"• Go to Settings → API"}),e.jsx("li",{children:"• Copy Project URL and anon public key"}),e.jsx("li",{children:"• Update your code if they don't match"})]}),e.jsx("p",{children:e.jsx("strong",{children:"3. Configure CORS:"})}),e.jsxs("ul",{className:"ml-4 space-y-1",children:[e.jsx("li",{children:"• Go to Settings → API → CORS"}),e.jsx("li",{children:"• Add: http://localhost:3000"}),e.jsx("li",{children:"• Add: https://localhost:3000"})]}),e.jsx("p",{children:e.jsx("strong",{children:"4. Check RLS Policies:"})}),e.jsxs("ul",{className:"ml-4 space-y-1",children:[e.jsx("li",{children:"• Go to Authentication → Policies"}),e.jsx("li",{children:"• Ensure public access where needed"}),e.jsx("li",{children:"• Check profiles table has proper policies"})]})]})]})]})]})},ev=()=>{const[i,s]=w.useState(!1),[a,l]=w.useState(!1),[c,u]=w.useState(!1),[h,f]=w.useState({}),[p,y]=w.useState({}),[x,v]=w.useState({}),[b,E]=w.useState(!1),[z,V]=w.useState(!1),T=async()=>{s(!0),f({});try{const C=await Dm();f({success:C,message:C?"Conexiunea la Supabase a fost reparată cu succes!":"Nu s-a putut repara conexiunea la Supabase"})}catch(C){console.error("Eroare la repararea conexiunii:",C),f({success:!1,message:"A apărut o eroare neașteptată"})}finally{s(!1)}},F=async()=>{l(!0),y({});try{const C=await Um();y({success:C.success,message:C.success?"Profilul a fost reparat cu succes!":`Eroare la repararea profilului: ${C.error}`})}catch(C){console.error("Eroare la repararea profilului:",C),y({success:!1,message:"A apărut o eroare neașteptată"})}finally{l(!1)}},X=()=>{u(!0),v({});try{Mm(),Fm(),v({success:!0,message:"Cookie-urile și cache-ul au fost reparate cu succes! Reîncarcă pagina pentru a vedea efectele."})}catch(C){console.error("Eroare la repararea cookie-urilor:",C),v({success:!1,message:"A apărut o eroare la repararea cookie-urilor"})}finally{u(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-nexar-accent/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Vo,{className:"h-8 w-8 text-nexar-accent"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Reparare Conexiune Supabase"}),e.jsx("p",{className:"text-gray-600",children:"Această pagină te ajută să repari problemele de conexiune la Supabase"})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-8",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(fe,{className:"h-6 w-6 text-yellow-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Atenție"}),e.jsx("p",{className:"text-yellow-700",children:'Această pagină este destinată reparării conexiunii la Supabase și a profilului utilizatorului. Folosește-o doar dacă întâmpini probleme de conectare sau dacă vezi mesajul "Deconectat" în aplicație.'})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Vo,{className:"h-6 w-6 text-nexar-accent"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Reparare Conexiune"})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Repară conexiunea la Supabase și politicile RLS care cauzează erori."}),e.jsx("button",{onClick:T,disabled:i,className:"w-full flex items-center justify-center space-x-2 bg-nexar-accent text-white px-4 py-3 rounded-lg font-semibold hover:bg-nexar-gold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Se repară..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Vt,{className:"h-5 w-5"}),e.jsx("span",{children:"Repară Conexiunea"})]})}),h.message&&e.jsx("div",{className:`mt-4 p-3 rounded-lg ${h.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[h.success?e.jsx(mt,{className:"h-5 w-5"}):e.jsx(Gs,{className:"h-5 w-5"}),e.jsx("span",{children:h.message})]})})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Xn,{className:"h-6 w-6 text-nexar-accent"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Reparare Profil"})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Repară profilul utilizatorului curent dacă lipsește sau este incomplet."}),e.jsx("button",{onClick:F,disabled:a,className:"w-full flex items-center justify-center space-x-2 bg-nexar-accent text-white px-4 py-3 rounded-lg font-semibold hover:bg-nexar-gold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Se repară..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Vt,{className:"h-5 w-5"}),e.jsx("span",{children:"Repară Profilul"})]})}),p.message&&e.jsx("div",{className:`mt-4 p-3 rounded-lg ${p.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[p.success?e.jsx(mt,{className:"h-5 w-5"}):e.jsx(Gs,{className:"h-5 w-5"}),e.jsx("span",{children:p.message})]})})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx($o,{className:"h-6 w-6 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Reparare Cookie-uri"})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Rezolvă problemele cu cookie-urile și curăță cache-ul browserului pentru a elimina erorile de cookie."}),e.jsx("button",{onClick:X,disabled:c,className:"w-full flex items-center justify-center space-x-2 bg-blue-600 text-white px-4 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Se repară..."})]}):e.jsxs(e.Fragment,{children:[e.jsx($o,{className:"h-5 w-5"}),e.jsx("span",{children:"Repară Cookie-urile"})]})}),x.message&&e.jsx("div",{className:`mt-4 p-3 rounded-lg ${x.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[x.success?e.jsx(mt,{className:"h-5 w-5"}):e.jsx(Gs,{className:"h-5 w-5"}),e.jsx("span",{children:x.message})]})})]}),e.jsxs("div",{className:"bg-nexar-accent/10 rounded-xl p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(xx,{className:"h-6 w-6 text-nexar-accent"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Reparare Completă"})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Repară toate problemele într-un singur pas: conexiunea la Supabase, profilul utilizatorului și cookie-urile."}),e.jsx(Oi,{onSuccess:()=>E(!0),buttonText:"Repară Toate Problemele"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-xl p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(xh,{className:"h-6 w-6 text-purple-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Diagnosticare Avansată"})]}),e.jsxs("button",{onClick:()=>V(!z),className:"text-purple-600 hover:text-purple-800 font-medium text-sm",children:[z?"Ascunde":"Arată"," Diagnosticul"]})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Rulează diagnostice avansate pentru a identifica exact problema de conectare."}),z&&e.jsx("div",{className:"mt-4 border border-purple-200 rounded-lg p-4",children:e.jsx(Xy,{})})]}),b&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-8 animate-scale-in",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(mt,{className:"h-6 w-6 text-green-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Reparare Completă!"}),e.jsx("p",{className:"text-green-700 mb-4",children:"Conexiunea la Supabase, profilul utilizatorului și cookie-urile au fost reparate cu succes. Acum poți continua să folosești aplicația fără probleme."}),e.jsxs(ke,{to:"/",className:"inline-flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-green-700 transition-colors",children:[e.jsx("span",{children:"Mergi la Pagina Principală"}),e.jsx(rx,{className:"h-4 w-4"})]})]})]})}),e.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Instrucțiuni pentru Administrator"}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[e.jsx(xh,{className:"h-6 w-6 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Script SQL pentru Reparare Completă"}),e.jsx("p",{className:"text-blue-700 mb-4",children:"Dacă ești administrator și vrei să repari problemele pentru toți utilizatorii, copiază și rulează următorul script în SQL Editor din Supabase Dashboard:"})]})]}),e.jsx("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-auto max-h-96 text-sm",children:e.jsx("pre",{children:`-- Funcție pentru repararea politicilor RLS
CREATE OR REPLACE FUNCTION fix_rls_policies()
RETURNS boolean AS $$
BEGIN
  -- Dezactivează temporar RLS pentru a opri recursiunea
  ALTER TABLE profiles DISABLE ROW LEVEL SECURITY;
  ALTER TABLE listings DISABLE ROW LEVEL SECURITY;
  ALTER TABLE favorites DISABLE ROW LEVEL SECURITY;
  ALTER TABLE messages DISABLE ROW LEVEL SECURITY;
  ALTER TABLE reviews DISABLE ROW LEVEL SECURITY;

  -- Șterge TOATE politicile existente care cauzează probleme
  DO $$
  DECLARE
      r RECORD;
  BEGIN
      -- Șterge toate politicile pentru profiles
      FOR r IN (SELECT policyname FROM pg_policies WHERE tablename = 'profiles' AND schemaname = 'public') LOOP
          EXECUTE 'DROP POLICY IF EXISTS "' || r.policyname || '" ON public.profiles';
      END LOOP;
      
      -- Șterge toate politicile pentru listings
      FOR r IN (SELECT policyname FROM pg_policies WHERE tablename = 'listings' AND schemaname = 'public') LOOP
          EXECUTE 'DROP POLICY IF EXISTS "' || r.policyname || '" ON public.listings';
      END LOOP;
      
      -- Șterge toate politicile pentru favorites
      FOR r IN (SELECT policyname FROM pg_policies WHERE tablename = 'favorites' AND schemaname = 'public') LOOP
          EXECUTE 'DROP POLICY IF EXISTS "' || r.policyname || '" ON public.favorites';
      END LOOP;
      
      -- Șterge toate politicile pentru messages
      FOR r IN (SELECT policyname FROM pg_policies WHERE tablename = 'messages' AND schemaname = 'public') LOOP
          EXECUTE 'DROP POLICY IF EXISTS "' || r.policyname || '" ON public.messages';
      END LOOP;
      
      -- Șterge toate politicile pentru reviews
      FOR r IN (SELECT policyname FROM pg_policies WHERE tablename = 'reviews' AND schemaname = 'public') LOOP
          EXECUTE 'DROP POLICY IF EXISTS "' || r.policyname || '" ON public.reviews';
      END LOOP;
  END $$;

  -- Reactivează RLS
  ALTER TABLE profiles ENABLE ROW LEVEL SECURITY;
  ALTER TABLE listings ENABLE ROW LEVEL SECURITY;
  ALTER TABLE favorites ENABLE ROW LEVEL SECURITY;
  ALTER TABLE messages ENABLE ROW LEVEL SECURITY;
  ALTER TABLE reviews ENABLE ROW LEVEL SECURITY;

  -- Creează politici SIMPLE pentru PROFILES (FĂRĂ RECURSIUNE)
  CREATE POLICY "profiles_select" ON profiles
    FOR SELECT USING (true);

  CREATE POLICY "profiles_update_own" ON profiles
    FOR UPDATE USING (auth.uid() = user_id);

  CREATE POLICY "profiles_insert_own" ON profiles
    FOR INSERT WITH CHECK (auth.uid() = user_id);

  -- Creează politici SIMPLE pentru LISTINGS (FĂRĂ RECURSIUNE)
  CREATE POLICY "listings_select_active" ON listings
    FOR SELECT USING (status = 'active');

  -- FIXED: More permissive insert policy for authenticated users
  CREATE POLICY "listings_insert" ON listings
    FOR INSERT WITH CHECK (auth.uid() IS NOT NULL);

  CREATE POLICY "listings_update_own" ON listings
    FOR UPDATE USING (
      auth.uid() IS NOT NULL AND 
      seller_id IN (
        SELECT id FROM profiles 
        WHERE user_id = auth.uid() 
        LIMIT 1
      )
    );

  CREATE POLICY "listings_delete_own" ON listings
    FOR DELETE USING (
      auth.uid() IS NOT NULL AND 
      seller_id IN (
        SELECT id FROM profiles 
        WHERE user_id = auth.uid() 
        LIMIT 1
      )
    );

  -- Politici pentru admin
  CREATE POLICY "admin_select_listings" ON listings
    FOR SELECT USING (
      auth.email() = 'admin@nexar.ro'
    );

  CREATE POLICY "admin_update_listings" ON listings
    FOR UPDATE USING (
      auth.email() = 'admin@nexar.ro'
    );

  CREATE POLICY "admin_delete_listings" ON listings
    FOR DELETE USING (
      auth.email() = 'admin@nexar.ro'
    );

  -- Creează politici SIMPLE pentru FAVORITES
  CREATE POLICY "favorites_select" ON favorites
    FOR SELECT USING (auth.uid() = user_id);

  CREATE POLICY "favorites_insert" ON favorites
    FOR INSERT WITH CHECK (auth.uid() = user_id);

  CREATE POLICY "favorites_delete" ON favorites
    FOR DELETE USING (auth.uid() = user_id);

  -- Creează politici SIMPLE pentru MESSAGES
  CREATE POLICY "messages_select" ON messages
    FOR SELECT USING (auth.uid() = sender_id OR auth.uid() = receiver_id);

  CREATE POLICY "messages_insert" ON messages
    FOR INSERT WITH CHECK (auth.uid() = sender_id);

  -- Creează politici SIMPLE pentru REVIEWS
  CREATE POLICY "reviews_select" ON reviews
    FOR SELECT USING (true);

  CREATE POLICY "reviews_insert" ON reviews
    FOR INSERT WITH CHECK (auth.uid() = reviewer_id);

  RETURN true;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- Funcție pentru configurarea politicilor de storage
CREATE OR REPLACE FUNCTION configure_storage_policies()
RETURNS boolean AS $$
BEGIN
  -- Creează bucket-urile dacă nu există
  INSERT INTO storage.buckets (id, name, public, file_size_limit, allowed_mime_types)
  VALUES 
    ('listing-images', 'listing-images', true, 5242880, ARRAY['image/jpeg', 'image/png', 'image/webp']),
    ('profile-images', 'profile-images', true, 2097152, ARRAY['image/jpeg', 'image/png', 'image/webp'])
  ON CONFLICT (id) DO NOTHING;

  -- Activează RLS pentru storage
  ALTER TABLE storage.objects ENABLE ROW LEVEL SECURITY;

  -- Șterge politicile existente pentru storage
  DO $$
  DECLARE
      r RECORD;
  BEGIN
      FOR r IN (SELECT policyname FROM pg_policies WHERE tablename = 'objects' AND schemaname = 'storage') LOOP
          EXECUTE 'DROP POLICY IF EXISTS "' || r.policyname || '" ON storage.objects';
      END LOOP;
  END $$;

  -- Politici simple pentru storage
  CREATE POLICY "storage_select_listing_images" ON storage.objects
    FOR SELECT USING (bucket_id = 'listing-images');

  CREATE POLICY "storage_select_profile_images" ON storage.objects
    FOR SELECT USING (bucket_id = 'profile-images');

  CREATE POLICY "storage_insert_listing_images" ON storage.objects
    FOR INSERT WITH CHECK (
      bucket_id = 'listing-images' AND 
      auth.uid() IS NOT NULL
    );

  CREATE POLICY "storage_insert_profile_images" ON storage.objects
    FOR INSERT WITH CHECK (
      bucket_id = 'profile-images' AND 
      auth.uid() IS NOT NULL
    );

  CREATE POLICY "storage_delete_listing_images" ON storage.objects
    FOR DELETE USING (
      bucket_id = 'listing-images' AND 
      auth.uid()::text = (storage.foldername(name))[1]
    );

  CREATE POLICY "storage_delete_profile_images" ON storage.objects
    FOR DELETE USING (
      bucket_id = 'profile-images' AND 
      auth.uid()::text = (storage.foldername(name))[1]
    );

  RETURN true;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- Repară profilurile utilizatorilor existenți
DO $$
DECLARE
    u RECORD;
BEGIN
    FOR u IN (
        SELECT id, email FROM auth.users
        WHERE id NOT IN (SELECT user_id FROM profiles)
    ) LOOP
        INSERT INTO profiles (
            user_id,
            name,
            email,
            seller_type,
            is_admin
        ) VALUES (
            u.id,
            split_part(u.email, '@', 1),
            u.email,
            'individual',
            u.email = 'admin@nexar.ro'
        );
        RAISE NOTICE 'Created missing profile for user %', u.email;
    END LOOP;
END $$;`})})]})]})]})})})},tv=()=>(w.useEffect(()=>{window.scrollTo(0,0)},[]),e.jsx("div",{className:"min-h-screen bg-gray-50 py-16",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Despre Nexar"}),e.jsxs("div",{className:"prose max-w-none",children:[e.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"Nexar este cel mai premium marketplace pentru motociclete din România, dedicat pasionaților de două roți care caută excelența în fiecare detaliu."}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Misiunea Noastră"}),e.jsx("p",{className:"text-gray-700 mb-6",children:"Conectăm vânzătorii și cumpărătorii de motociclete într-un mediu sigur, transparent și profesional. Oferim o platformă unde calitatea și încrederea sunt prioritățile noastre principale."}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"De Ce Nexar?"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 mb-6 space-y-2",children:[e.jsx("li",{children:"Verificarea manuală a fiecărui anunț pentru siguranța maximă"}),e.jsx("li",{children:"Sistem de rating și recenzii pentru transparență completă"}),e.jsx("li",{children:"Interfață intuitivă și experiență de utilizare superioară"}),e.jsx("li",{children:"Suport dedicat pentru toți utilizatorii noștri"}),e.jsx("li",{children:"Comunitate activă de peste 15,000 de pasionați"})]}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Echipa Noastră"}),e.jsx("p",{className:"text-gray-700 mb-6",children:"Suntem o echipă de profesioniști pasionați de motociclete, cu experiență vastă în domeniul automotive și tehnologic. Înțelegem nevoile comunității și lucrăm constant pentru a oferi cea mai bună experiență."}),e.jsxs("div",{className:"bg-nexar-accent/10 rounded-lg p-6 mt-8",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Contactează-ne"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(cr,{className:"h-5 w-5 text-nexar-accent"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Adresă:"})," Bulevardul Dem Radulescu 24, Râmnicu Vâlcea"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(cs,{className:"h-5 w-5 text-nexar-accent"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Telefon:"})," 0790 454 647"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(en,{className:"h-5 w-5 text-nexar-accent"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," contact@nexar.ro"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ys,{className:"h-5 w-5 text-nexar-accent"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Program:"})," Luni - Vineri: 09:00 - 17:00"]})]})]})]}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Partenerii Noștri"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Dealeri Autorizați"}),e.jsx("p",{className:"text-gray-700 text-sm mb-2",children:"Colaborăm cu cei mai buni dealeri de motociclete din România pentru a vă oferi cele mai bune oferte."}),e.jsxs(ke,{to:"/anunturi?sellerType=dealer",className:"text-nexar-accent hover:text-nexar-gold transition-colors text-sm font-medium flex items-center",children:["Vezi dealeri ",e.jsx(Pi,{className:"h-4 w-4 ml-1"})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Service-uri Recomandate"}),e.jsx("p",{className:"text-gray-700 text-sm mb-2",children:"Rețeaua noastră de service-uri partenere vă asigură întreținerea optimă a motocicletei."}),e.jsxs("a",{href:"#",className:"text-nexar-accent hover:text-nexar-gold transition-colors text-sm font-medium flex items-center",children:["Vezi service-uri ",e.jsx(Pi,{className:"h-4 w-4 ml-1"})]})]})]}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Valorile Noastre"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[e.jsx(hm,{className:"h-8 w-8 text-nexar-accent mx-auto mb-2"}),e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Calitate"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"Promovăm doar anunțuri de calitate, verificate manual."})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[e.jsx(ea,{className:"h-8 w-8 text-nexar-accent mx-auto mb-2"}),e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Comunitate"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"Construim o comunitate unită de pasionați de motociclete."})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[e.jsx(Ys,{className:"h-8 w-8 text-nexar-accent mx-auto mb-2"}),e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Promptitudine"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"Răspundem rapid la toate solicitările utilizatorilor."})]})]}),e.jsx("div",{className:"border-t border-gray-200 pt-6 mt-8",children:e.jsx(ke,{to:"/",className:"bg-nexar-accent text-white px-6 py-3 rounded-lg font-semibold hover:bg-nexar-gold transition-colors inline-flex items-center",children:"Înapoi la Pagina Principală"})})]})]})})})),rv=()=>{w.useEffect(()=>{window.scrollTo(0,0)},[]);const[i,s]=w.useState({name:"",email:"",phone:"",subject:"",message:""}),[a,l]=w.useState({}),[c,u]=w.useState(!1),[h,f]=w.useState(!1),[p,y]=w.useState(null),x=E=>{const{name:z,value:V}=E.target;s(T=>({...T,[z]:V})),a[z]&&l(T=>({...T,[z]:""}))},v=()=>{const E={};return i.name.trim()||(E.name="Numele este obligatoriu"),i.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(E.email="Email-ul nu este valid"):E.email="Email-ul este obligatoriu",i.subject.trim()||(E.subject="Subiectul este obligatoriu"),i.message.trim()?i.message.trim().length<10&&(E.message="Mesajul trebuie să aibă cel puțin 10 caractere"):E.message="Mesajul este obligatoriu",l(E),Object.keys(E).length===0},b=E=>{E.preventDefault(),v()&&(u(!0),y(null),setTimeout(()=>{u(!1),f(!0),s({name:"",email:"",phone:"",subject:"",message:""}),setTimeout(()=>{f(!1)},5e3)},1500))};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-16",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Contact"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Informații de Contact"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(cr,{className:"h-5 w-5 text-nexar-accent mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Adresă"}),e.jsx("p",{className:"text-gray-700",children:"Bulevardul Dem Radulescu 24, Râmnicu Vâlcea"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(cs,{className:"h-5 w-5 text-nexar-accent mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Telefon"}),e.jsx("p",{className:"text-gray-700",children:"0790 454 647"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(en,{className:"h-5 w-5 text-nexar-accent mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Email"}),e.jsx("p",{className:"text-gray-700",children:"contact@nexar.ro"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Ys,{className:"h-5 w-5 text-nexar-accent mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Program"}),e.jsxs("div",{className:"text-gray-700",children:[e.jsx("p",{children:"Luni - Vineri: 09:00 - 17:00"}),e.jsx("p",{children:"Weekend: Închis"})]})]})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Locația Noastră"}),e.jsx("div",{className:"bg-gray-200 rounded-lg h-64 overflow-hidden",children:e.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2833.368629856657!2d24.36612687678971!3d45.10300196280406!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x474d8a1a5a9e2bb9%3A0x7e5d9a3db1f73eac!2sBulevardul%20Dem%20R%C4%83dulescu%2C%20R%C3%A2mnicu%20V%C3%A2lcea!5e0!3m2!1sro!2sro!4v1687954611544!5m2!1sro!2sro",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Trimite-ne un Mesaj"}),h&&e.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4 animate-fade-in",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(mt,{className:"h-5 w-5 text-green-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-green-800",children:"Mesaj trimis cu succes!"}),e.jsx("p",{className:"text-green-700 text-sm",children:"Îți mulțumim pentru mesaj. Te vom contacta în cel mai scurt timp posibil."})]})]})}),p&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 animate-fade-in",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(fe,{className:"h-5 w-5 text-red-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-800",children:"Eroare la trimiterea mesajului"}),e.jsx("p",{className:"text-red-700 text-sm",children:p})]})]})}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nume complet *"}),e.jsx("input",{type:"text",name:"name",value:i.name,onChange:x,className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-nexar-accent focus:border-transparent ${a.name?"border-red-500":"border-gray-300"}`,placeholder:"Numele tău"}),a.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsx("input",{type:"email",name:"email",value:i.email,onChange:x,className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-nexar-accent focus:border-transparent ${a.email?"border-red-500":"border-gray-300"}`,placeholder:"email@exemplu.com"}),a.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon"}),e.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:x,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-nexar-accent focus:border-transparent",placeholder:"0790 45 46 47"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subiect *"}),e.jsxs("select",{name:"subject",value:i.subject,onChange:x,className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-nexar-accent focus:border-transparent ${a.subject?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Selectează un subiect"}),e.jsx("option",{value:"Întrebare generală",children:"Întrebare generală"}),e.jsx("option",{value:"Suport tehnic",children:"Suport tehnic"}),e.jsx("option",{value:"Probleme cu contul",children:"Probleme cu contul"}),e.jsx("option",{value:"Probleme cu anunțurile",children:"Probleme cu anunțurile"}),e.jsx("option",{value:"Sugestii",children:"Sugestii"}),e.jsx("option",{value:"Altele",children:"Altele"})]}),a.subject&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.subject})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mesaj *"}),e.jsx("textarea",{name:"message",value:i.message,onChange:x,rows:5,className:`w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-nexar-accent focus:border-transparent ${a.message?"border-red-500":"border-gray-300"}`,placeholder:"Scrie mesajul tău aici..."}),a.message&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.message})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full bg-nexar-accent text-white py-3 rounded-lg font-semibold hover:bg-nexar-gold transition-colors flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Se trimite..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(mx,{className:"h-5 w-5"}),e.jsx("span",{children:"Trimite Mesaj"})]})})]})]})]})]})})})},sv=()=>{const[i,s]=w.useState(!0),[a,l]=w.useState(!1),[c,u]=w.useState(null),[h,f]=w.useState(!1),[p,y]=w.useState(""),[x,v]=w.useState(!1);St();const b=Yt();w.useEffect(()=>{window.scrollTo(0,0),E()},[]);const E=async()=>{try{s(!0),u(null),console.log("Începerea procesului de confirmare email"),console.log("URL:",window.location.href),console.log("Hash:",b.hash),console.log("Search params:",b.search);const V=new URLSearchParams(window.location.search),T=V.get("error_code"),F=V.get("error_description");if(T==="otp_expired"||F&&F.includes("expired")){console.error("Token-ul de confirmare a expirat"),u("Link-ul de confirmare a expirat. Te rugăm să soliciți un nou link de confirmare din pagina de autentificare."),s(!1);return}const X=new URLSearchParams(b.hash.substring(1)),C=X.get("access_token"),K=X.get("refresh_token"),R=X.get("type");if(console.log("Parametri hash:",{accessToken:C?"prezent":"lipsă",refreshToken:K?"prezent":"lipsă",type:R}),C&&K){console.log("Token-uri găsite în hash-ul URL-ului, setăm sesiunea...");const{data:re,error:M}=await ee.auth.setSession({access_token:C,refresh_token:K});if(M){console.error("Eroare la setarea sesiunii:",M),u("A apărut o eroare la confirmarea email-ului. Te rugăm să încerci din nou sau să contactezi suportul."),s(!1);return}if(console.log("Sesiune setată cu succes:",re.session?"Sesiune prezentă":"Fără sesiune"),R==="signup"||R==="signup_email_confirmation"||R==="recovery"){console.log("Email confirmat cu succes prin parametrii hash"),l(!0),s(!1);return}}const se=new URLSearchParams(b.search),ne=se.get("token"),ve=se.get("type");if(console.log("Parametri query:",{token:ne?"prezent":"lipsă",type:ve}),ne)if(console.log("Token găsit în parametrii query, verificăm..."),ve==="email_confirm"||ve==="signup"||!ve)try{const{error:re}=await ee.auth.verifyOtp({token_hash:ne,type:"email_change"});if(re){console.error("Eroare la confirmarea email-ului cu token_hash:",re);const{error:M}=await ee.auth.verifyOtp({token_hash:ne,type:"signup"});if(M){console.error("Eroare la confirmarea înregistrării cu token_hash:",M),u("A apărut o eroare la confirmarea email-ului. Te rugăm să încerci din nou sau să contactezi suportul."),s(!1);return}}console.log("Email confirmat cu succes prin token"),l(!0),s(!1)}catch(re){console.error("Eroare în procesul de verificare:",re),u("A apărut o eroare la procesarea token-ului de confirmare."),s(!1)}else u("Tip de confirmare necunoscut. Te rugăm să contactezi suportul."),s(!1);else if(!C&&!K&&!ne){if(b.pathname==="/auth/confirm"){const{data:{session:re}}=await ee.auth.getSession();if(re){console.log("Utilizatorul este deja autentificat, considerăm confirmarea reușită"),l(!0),s(!1);return}}console.error("Nu s-au găsit token-uri în URL"),u("Link invalid sau expirat. Te rugăm să soliciți un nou link de confirmare."),s(!1)}}catch(V){console.error("Eroare în confirmEmail:",V),u("A apărut o eroare neașteptată. Te rugăm să încerci din nou sau să contactezi suportul."),s(!1)}},z=async V=>{if(V.preventDefault(),!p.trim()||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p)){u("Te rugăm să introduci o adresă de email validă.");return}f(!0),u(null);try{const{success:T,error:F}=await as.resendConfirmationEmail(p.trim());F?(console.error("Eroare la trimiterea unui nou link:",F),u(`Eroare la trimiterea unui nou link: ${F.message||"Eroare necunoscută"}`)):T?v(!0):u("A apărut o eroare la trimiterea unui nou link de confirmare.")}catch(T){console.error("Eroare la solicitarea unui nou link:",T),u("A apărut o eroare la trimiterea unui nou link de confirmare.")}finally{f(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-md w-full space-y-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("img",{src:"/Nexar - logo_black & red.png",alt:"Nexar Logo",className:"h-24 w-auto",onError:V=>{const T=V.currentTarget;T.src.includes("Nexar - logo_black & red.png")?T.src="/nexar-logo.png":T.src.includes("nexar-logo.png")?T.src="/image.png":T.style.display="none"}})}),i?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-nexar-accent border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Se confirmă email-ul..."}),e.jsx("p",{className:"text-gray-600",children:"Te rugăm să aștepți câteva momente."})]}):a?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(mt,{className:"h-8 w-8 text-green-500"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Felicitări! Cont confirmat cu succes!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Bine ai venit în comunitatea Nexar! Contul tău a fost confirmat cu succes. Te poți bucura acum de toate funcționalitățile platformei. Dacă ai nevoie de asistență sau ai întrebări, echipa noastră de suport îți stă la dispoziție."}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[e.jsxs(ke,{to:"/auth",className:"flex-1 bg-nexar-accent text-white py-3 rounded-lg font-semibold hover:bg-nexar-gold transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Si,{className:"h-5 w-5"}),e.jsx("span",{children:"Conectează-te"})]}),e.jsxs(ke,{to:"/",className:"flex-1 bg-gray-200 text-gray-800 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Gn,{className:"h-5 w-5"}),e.jsx("span",{children:"Pagina Principală"})]})]})]}):x?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(mt,{className:"h-8 w-8 text-green-500"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Link nou trimis cu succes!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Am trimis un nou link de confirmare la adresa de email introdusă. Te rugăm să verifici căsuța de email (inclusiv folderul de spam) și să urmezi instrucțiunile pentru a-ți confirma contul."}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[e.jsxs(ke,{to:"/auth",className:"flex-1 bg-nexar-accent text-white py-3 rounded-lg font-semibold hover:bg-nexar-gold transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Si,{className:"h-5 w-5"}),e.jsx("span",{children:"Înapoi la Autentificare"})]}),e.jsxs(ke,{to:"/",className:"flex-1 bg-gray-200 text-gray-800 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Gn,{className:"h-5 w-5"}),e.jsx("span",{children:"Pagina Principală"})]})]})]}):e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(fe,{className:"h-8 w-8 text-red-500"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:c&&c.includes("expirat")?"Link de confirmare expirat":"Eroare la confirmarea contului"}),e.jsx("p",{className:"text-gray-600 mb-6",children:c||"A apărut o eroare la confirmarea contului tău. Te rugăm să încerci din nou sau să contactezi suportul."}),c&&(c.includes("expirat")||c.includes("invalid"))?e.jsxs("div",{className:"mb-6 bg-gray-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Solicită un nou link de confirmare"}),e.jsxs("form",{onSubmit:z,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresa de email"}),e.jsx("input",{type:"email",id:"email",value:p,onChange:V=>y(V.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-nexar-accent focus:border-transparent",placeholder:"Introdu adresa de email folosită la înregistrare",required:!0})]}),e.jsx("button",{type:"submit",disabled:h,className:"w-full bg-nexar-accent text-white py-2 rounded-lg font-semibold hover:bg-nexar-gold transition-colors flex items-center justify-center space-x-2",children:h?e.jsxs(e.Fragment,{children:[e.jsx(Vt,{className:"h-5 w-5 animate-spin"}),e.jsx("span",{children:"Se trimite..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Vt,{className:"h-5 w-5"}),e.jsx("span",{children:"Trimite un nou link"})]})})]})]}):e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[e.jsxs(ke,{to:"/auth",className:"flex-1 bg-nexar-accent text-white py-3 rounded-lg font-semibold hover:bg-nexar-gold transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Si,{className:"h-5 w-5"}),e.jsx("span",{children:"Încearcă să te conectezi"})]}),e.jsxs(ke,{to:"/",className:"flex-1 bg-gray-200 text-gray-800 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Gn,{className:"h-5 w-5"}),e.jsx("span",{children:"Pagina Principală"})]})]})]})]})})})},nv=()=>{const[i,s]=w.useState(""),[a,l]=w.useState(""),[c,u]=w.useState(!1),[h,f]=w.useState(!1),[p,y]=w.useState(!1),[x,v]=w.useState(!1),[b,E]=w.useState(null),[z,V]=w.useState({}),T=St(),F=Yt();w.useEffect(()=>{window.scrollTo(0,0);const R=new URLSearchParams(F.search),se=R.get("token"),ne=R.get("type");(!se||ne!=="recovery")&&E("Link invalid sau expirat. Te rugăm să soliciți un nou link de resetare a parolei.")},[F]);const X=R=>R?R.length<8?"Parola trebuie să aibă cel puțin 8 caractere":/(?=.*[a-z])/.test(R)?/(?=.*[A-Z])/.test(R)?/(?=.*\d)/.test(R)?"":"Parola trebuie să conțină cel puțin o cifră":"Parola trebuie să conțină cel puțin o literă mare":"Parola trebuie să conțină cel puțin o literă mică":"Parola este obligatorie",C=()=>{const R={},se=X(i);return se&&(R.password=se),i!==a&&(R.confirmPassword="Parolele nu coincid"),V(R),Object.keys(R).length===0},K=async R=>{if(R.preventDefault(),!!C())try{if(y(!0),E(null),!new URLSearchParams(F.search).get("token")){E("Link invalid sau expirat. Te rugăm să soliciți un nou link de resetare a parolei."),y(!1);return}const{error:ve}=await ee.auth.updateUser({password:i});if(ve){console.error("Error resetting password:",ve),E(ve.message||"A apărut o eroare la resetarea parolei. Te rugăm să încerci din nou."),y(!1);return}v(!0),y(!1),setTimeout(()=>{T("/auth")},3e3)}catch(se){console.error("Error in handleResetPassword:",se),E("A apărut o eroare neașteptată. Te rugăm să încerci din nou sau să contactezi suportul."),y(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-md w-full space-y-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("img",{loading:"lazy",src:"/Nexar - logo_black & red.png",alt:"Nexar Logo",className:"h-24 w-auto",onError:R=>{const se=R.currentTarget;se.src.includes("Nexar - logo_black & red.png")?se.src="/nexar-logo.png":se.src.includes("nexar-logo.png")?se.src="/image.png":se.style.display="none"}})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 text-center",children:"Resetare Parolă"}),b&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(fe,{className:"h-5 w-5 text-red-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-700",children:b}),e.jsx(ke,{to:"/auth",className:"text-nexar-accent hover:text-nexar-gold transition-colors text-sm font-medium mt-2 inline-block",children:"Înapoi la pagina de autentificare"})]})]})}),x?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(mt,{className:"h-8 w-8 text-green-500"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Parolă resetată cu succes!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Parola ta a fost actualizată. Vei fi redirecționat către pagina de autentificare în câteva secunde."}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[e.jsxs(ke,{to:"/auth",className:"flex-1 bg-nexar-accent text-white py-3 rounded-lg font-semibold hover:bg-nexar-gold transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Si,{className:"h-5 w-5"}),e.jsx("span",{children:"Conectează-te"})]}),e.jsxs(ke,{to:"/",className:"flex-1 bg-gray-200 text-gray-800 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Gn,{className:"h-5 w-5"}),e.jsx("span",{children:"Pagina Principală"})]})]})]}):e.jsxs("form",{onSubmit:K,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parolă Nouă"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:c?"text":"password",value:i,onChange:R=>s(R.target.value),className:`w-full pl-10 pr-10 py-3 border rounded-xl focus:ring-2 focus:ring-nexar-accent focus:border-transparent transition-colors ${z.password?"border-red-500":"border-gray-300"}`,placeholder:"Minim 8 caractere"}),e.jsx(Ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:c?e.jsx(qo,{className:"h-5 w-5"}):e.jsx(ur,{className:"h-5 w-5"})})]}),z.password&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),z.password]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Parola trebuie să aibă minim 8 caractere, o literă mare, o literă mică și o cifră."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmă Parola"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:h?"text":"password",value:a,onChange:R=>l(R.target.value),className:`w-full pl-10 pr-10 py-3 border rounded-xl focus:ring-2 focus:ring-nexar-accent focus:border-transparent transition-colors ${z.confirmPassword?"border-red-500":"border-gray-300"}`,placeholder:"Repetă parola nouă"}),e.jsx(Ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:h?e.jsx(qo,{className:"h-5 w-5"}):e.jsx(ur,{className:"h-5 w-5"})})]}),z.confirmPassword&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),z.confirmPassword]})]}),e.jsx("button",{type:"submit",disabled:p,className:"w-full bg-nexar-accent text-white py-3 rounded-xl font-semibold hover:bg-nexar-gold transition-colors transform hover:scale-105 duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:p?e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Se procesează..."})]}):"Resetează Parola"}),e.jsx("div",{className:"text-center mt-4",children:e.jsx(ke,{to:"/auth",className:"text-nexar-accent hover:text-nexar-gold transition-colors text-sm",children:"Înapoi la pagina de autentificare"})})]})]})})})};function av(){const{pathname:i}=Yt();return w.useEffect(()=>{window.scrollTo(0,0)},[i]),null}function iv(){return e.jsxs(Kg,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[e.jsx(av,{}),e.jsxs("div",{className:"min-h-screen bg-nexar-light flex flex-col",children:[e.jsx(Cy,{}),e.jsx("main",{className:"flex-1",children:e.jsxs(Fg,{children:[e.jsx(nt,{path:"/",element:e.jsx(Py,{})}),e.jsx(nt,{path:"/anunt/:id",element:e.jsx(Ay,{})}),e.jsx(nt,{path:"/adauga-anunt",element:e.jsx(zy,{})}),e.jsx(nt,{path:"/editeaza-anunt/:id",element:e.jsx(Dy,{})}),e.jsx(nt,{path:"/profil",element:e.jsx(Qh,{})}),e.jsx(nt,{path:"/profil/:id",element:e.jsx(Qh,{})}),e.jsx(nt,{path:"/admin",element:e.jsx(Uy,{})}),e.jsx(nt,{path:"/auth",element:e.jsx(My,{})}),e.jsx(nt,{path:"/auth/confirm",element:e.jsx(sv,{})}),e.jsx(nt,{path:"/auth/reset-password",element:e.jsx(nv,{})}),e.jsx(nt,{path:"/despre",element:e.jsx(tv,{})}),e.jsx(nt,{path:"/contact",element:e.jsx(rv,{})}),e.jsx(nt,{path:"/termeni",element:e.jsx(Fy,{})}),e.jsx(nt,{path:"/confidentialitate",element:e.jsx(By,{})}),e.jsx(nt,{path:"/cookies",element:e.jsx($y,{})}),e.jsx(nt,{path:"/fix-supabase",element:e.jsx(ev,{})})]})}),e.jsx(_y,{})]})]})}Jp.createRoot(document.getElementById("root")).render(e.jsx(w.StrictMode,{children:e.jsx(iv,{})}));
